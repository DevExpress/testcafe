<!DOCTYPE html>
<html>

  <head>
  
  
  
  
  
  
  

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <title>Client Functions and Script Injection for Page Interaction | TestCafe</title>

  <meta name="description" content="Client Functions and Script Injection for Page InteractionYou will learn how to run custom JavaScript code on the tested pages, how to use objects like the p...">
  <meta name="viewport" content="width=device-width">

  <meta property="og:image" content="https://raw.githubusercontent.com/DevExpress/testcafe-gh-page-assets/master/src/images/testcafe-ogp-icon.png">
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://devexpress.github.io/testcafe/media/team-blog/client-functions-and-script-injection-for-page-interaction.html" />
  <meta property="og:title" content="Client Functions and Script Injection for Page Interaction | TestCafe" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:image" content="https://raw.githubusercontent.com/DevExpress/testcafe-gh-page-assets/master/src/images/testcafe-twitter-card-icon.png" />
  <meta name="twitter:site" content="@DXTestCafe" />
  
  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.16.2/build/styles/docco.min.css">
  
  
  <link rel="shortcut icon" href="/testcafe/favicon.ico">
  <link rel="stylesheet" href="/testcafe/css/main.css">
  <link rel="stylesheet" href="/testcafe/css/banner.css">
  <link rel="canonical" href="https://devexpress.github.io/testcafe/media/team-blog/client-functions-and-script-injection-for-page-interaction.html">
  <link rel="alternate" type="application/rss+xml" title="TestCafe" href="https://devexpress.github.io/testcafe/feed.xml">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans">
  <link rel="apple-touch-icon" sizes="180x180" href="/testcafe/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/testcafe/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/testcafe/favicon-16x16.png">
  <link rel="manifest" href="/testcafe/site.webmanifest">
  <meta name="msapplication-TileColor" content="#2d89ef">
  <meta name="msapplication-config" content="/testcafe/browserconfig.xml" />
  <meta name="theme-color" content="#ffffff">
  <script defer src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.16.2/build/highlight.min.js"></script>
  <script defer src="https://buttons.github.io/buttons.js"></script>
  <script defer type="text/javascript" src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-2.2.3.min.js"></script>
  <script src="/testcafe/scripts/mobile-detect.min.js" type="text/javascript"></script>
  <script>
     var md             = new MobileDetect(window.navigator.userAgent);
     var isMobileDevice = !!md.mobile();
  </script>
  <script>
      document.addEventListener('DOMContentLoaded', function (e) {
          hljs.initHighlightingOnLoad();
      });
  </script>

  
  <script>
    // Google Analytics
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-83678642-1', 'auto');
    ga('set', 'anonymizeIp', true);
    ga('send', 'pageview');
  </script>
  

  

  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery.perfect-scrollbar/0.6.12/css/perfect-scrollbar.min.css">
  <link rel="stylesheet" href="/testcafe/css/docs.css">
    
    <link rel="stylesheet" href="/testcafe/css/community.css">
    
  <style>
      .ps-container > .ps-scrollbar-x-rail,
      .ps-container > .ps-scrollbar-y-rail {
          opacity: 0.6;
      }
  </style>
  

  

  

  

  <script>
    function linkCss (href) {
        var link  = document.createElement('link');
        var html  = document.querySelector('html');
        var head  = document.head;

        link.rel  = 'stylesheet';
        link.type = 'text/css';
        link.href = href;
        link.media = 'all';

        head.appendChild(link);

        window.addEventListener('load', function () {
            html.style.display = 'block';
        });

        html.style.display = 'none';
    }
  </script>
    
    

    <script>
        if (isMobileDevice) {
            linkCss('/testcafe/css/banner.mobile.css');

            document.addEventListener('DOMContentLoaded', function (e) {
                var siteNav         = document.querySelector('.site-nav');
                var hamburgerButton = document.querySelector('.hamburger-button');

                hamburgerButton.addEventListener('click', function (e) {
                    if (hamburgerButton.className.indexOf('active') !== -1) {
                        hamburgerButton.className = hamburgerButton.className.replace(' active', '');
                        siteNav.className = siteNav.className.replace(' active', '');
                        document.documentElement.style.overflowY = 'scroll';
                        document.body.style.overflowY = 'initial';
                    }
                    else {
                        hamburgerButton.className += ' active';
                        siteNav.className += ' active';
                        document.documentElement.style.overflowY = 'hidden';
                        document.body.style.overflowY = 'hidden';
                    }
                });

                var docTopNav          = document.querySelector('.doc-top-nav');
                var docMenuItem        = document.querySelector('.site-nav-tab');
                var mainMenuSecondItem = document.querySelector('.site-nav-tab:nth-child(2)');

                siteNav.insertBefore(docTopNav, mainMenuSecondItem);
                
                var searchPanel = document.getElementById('search-panel');
                
                siteNav.insertBefore(searchPanel, docMenuItem);

                var docMenuItemIcon = document.createElement('div');

                docMenuItemIcon.className = 'doc-menu-item-icon';
                docMenuItem.appendChild(docMenuItemIcon);

                

                docMenuItem.addEventListener('click', function (e) {
                    if (docTopNav.className.indexOf('expanded') !== -1) {
                        docMenuItem.className = docMenuItem.className.replace(' expanded', '');
                        docTopNav.className = docTopNav.className.replace(' expanded', '');
                    }
                    else {
                        docMenuItem.className += ' expanded';
                        docTopNav.className += ' expanded';
                    }
                    e.preventDefault();
                });
            });

            linkCss('/testcafe/css/mobile.css');
        }
    </script>

  

  

    

  
    <script defer type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery.perfect-scrollbar/0.6.12/js/perfect-scrollbar.min.js"></script>
    <script defer type="text/javascript" src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-2.2.3.min.js"></script>

    <script>
        var MIN_BODY_WIDTH = 1230;
        var FOOTER_HEIGHT  = 225;

        var nav     = null;
        var article = null;

        function getHeaderHeight () {
            return 76;
        }

        function setNavTopPosition () {
            var headerHeight = getHeaderHeight();
            var top          = null;

            if (document.body.clientWidth > MIN_BODY_WIDTH) {
                if (nav.style.top !== headerHeight + 'px') {
                    nav.style.top = headerHeight + 'px';
                    Ps.update(nav);
                }
            }
            else {
                top = window.pageYOffset <= headerHeight ? headerHeight - window.pageYOffset + 'px' : '0';

                if (nav.style.top !== top) {
                    nav.style.top = top;
                    Ps.update(nav);
                }
            }
        }

        function setNavBottomPosition () {
            var footerVisibleHeight = FOOTER_HEIGHT - document.body.scrollHeight + window.pageYOffset +
                                      document.body.clientHeight;

            if (footerVisibleHeight > 0) {
                if (nav.style.bottom !== footerVisibleHeight + 'px') {
                    nav.style.bottom = footerVisibleHeight + 'px';
                    Ps.update(nav);
                }
            }
            else if (nav.style.bottom !== '0') {
                nav.style.bottom = '0';
                Ps.update(nav);
            }
        }

        function updateNavMenuPosition () {
            nav.style.marginLeft = '-' + window.pageXOffset + 'px';

            setNavBottomPosition();
            setNavTopPosition();
        }

        function changeBodyHeight () {
            if (document.body.style.height !== window.innerHeight + 'px')
                document.body.style.height = window.innerHeight + 'px';
        }

        function initScrollBar() {
            Ps.initialize(nav);

            window.addEventListener('resize', function () {
                Ps.update(nav);
            });
        }

        function initNav() {
            initScrollBar();
            updateNavMenuPosition();
            window.addEventListener('scroll', updateNavMenuPosition);
            window.addEventListener('resize', updateNavMenuPosition);
        }

        function scrollToActiveItem() {
            var activeItem = document.querySelector('.doc-nav .active');
            var scrollContainer = document.querySelector('.ps-container');

            if (scrollContainer && activeItem) {
                scrollContainer.scrollTop = activeItem.offsetTop;
            }
        }

        document.addEventListener('DOMContentLoaded', function (e) {
            if (isMobileDevice)
                return;

            nav     = document.querySelector('.doc-nav');
            article = document.querySelector('.doc');

            if (nav)
                initNav(nav);

            scrollToActiveItem();
        });
    </script>
    
    
    <script>
        if (isMobileDevice) {
            linkCss('/testcafe/css/banner.mobile.css');
            linkCss('/testcafe/css/docs.mobile.css');           
            
            if (false == false) {
                document.addEventListener('DOMContentLoaded', function (e) {
                    var docNavPanel = document.querySelector('.doc-nav-panel');
                    var docNav      = document.querySelector('.doc-nav');

                    docNavPanel.addEventListener('click', function (e) {
                        if (docNav.className.indexOf('active') !== -1) {
                            docNav.className = docNav.className.replace(' active', '');
                            document.documentElement.style.overflowY = 'scroll';
                            document.body.style.overflowY = 'initial';
                        }
                        else {
                            docNav.className += ' active';
                            document.documentElement.style.overflowY = 'hidden';
                            document.body.style.overflowY = 'hidden';
                        }
                    });
                });
            }
        }
    </script>
  
    <script>
        function initHeader(siteHeader, contentWrapper, docTopMenu, article, gs) {
            var MIN_BODY_WIDTH = 1230;

            function updateHeader() {
                var CONTENT_MARGIN_WITH_DOC_MENU     = '72px';
                var CONTENT_MARGIN_WITHOUT_DOC_MENU  = '21px';
                var CONTENT_MARGIN_COMMUNITY_DESKTOP = '27px';
                var CONTENT_MARGIN_COMMUNITY_MOBILE  = '48px';

                var bodyMinimized          = document.body.clientWidth === MIN_BODY_WIDTH;
                var docContentMargin       = bodyMinimized ? CONTENT_MARGIN_WITHOUT_DOC_MENU : CONTENT_MARGIN_WITH_DOC_MENU;
                var isCommunitySection     = true;
                var contentMarginCommunity = isMobileDevice ? CONTENT_MARGIN_COMMUNITY_MOBILE : CONTENT_MARGIN_COMMUNITY_DESKTOP;
                var contentMargin          = isCommunitySection ? contentMarginCommunity : docContentMargin;

                

                siteHeader.style.position = bodyMinimized ? 'static' : '';

                if(docTopMenu)
                    docTopMenu.style.position = bodyMinimized ? 'static' : '';

                if(contentWrapper)
                    contentWrapper.style.paddingTop = bodyMinimized ? '0' : '';

                if(article && !isMobileDevice)
                    article.style.marginTop = contentMargin;
                if(gs && !isMobileDevice)
                    gs.style.paddingTop = contentMargin;
            }

            updateHeader();
            window.addEventListener('scroll', updateHeader);
            window.addEventListener('resize', updateHeader);
        }
        document.addEventListener('DOMContentLoaded', function (e) {
            var contentWrapper = document.querySelector('.container');
            var siteHeader     = document.querySelector('.site-header');
            var docTopMenu     = document.querySelector('.doc-top-nav');
            var article        = document.querySelector('.doc');
            var gs             = document.querySelector('.gs');

            if(siteHeader)
                initHeader(siteHeader, contentWrapper, docTopMenu, article, gs);
        });
    </script>
</head>


  <body>

    <script defer src="/testcafe/scripts/cookie-notice.js" type="text/javascript"></script>
<div class="cookie-notice">
    <div class="close-icon"></div>
    <div class="cookie-notice-content">
        <div class="cookie-notice-message">
            <div class="cookie-notice-header">Why We Use Cookies</div>
            <div class="cookie-notice-text">This site uses cookies to make your browsing experience more convenient and personal. Cookies store useful information on your computer to help us improve the efficiency and relevance of our site for you. In some cases, they are essential to making the site work properly. By accessing this site, you consent to the use of cookies. For more information, refer to DevExpress' <a href="https://www.devexpress.com/AboutUs/privacy-policy.xml" target="_blank">privacy policy</a> and <a href="https://www.devexpress.com/AboutUs/cookie-policy.xml" target="_blank">cookie policy</a>.</div>
        </div>
        <div class="cookie-notice-button">I understand</div>
    </div>
</div>

    <div class="page-content-wrapper">

      

<script>
    var TEAM_BLOG_LAST_VISITED_FLAG = 'team-blog-last-visited';
    var TEAM_BLOG_LINK_ID           = 'blog-link';
    var TEAM_BLOG_LINK_NEW_CLASS    = 'new-post';
    var NOTIFICATIONS_ACTIVE_SINCE  = new Date(2020, 4, 21)

    var teamBlogLastVisited = window.localStorage.getItem(TEAM_BLOG_LAST_VISITED_FLAG) || NOTIFICATIONS_ACTIVE_SINCE;

    window.addEventListener('DOMContentLoaded', function (e) {
        var lastPostDate = new Date(1607634000 * 1000);
        
        if(lastPostDate > teamBlogLastVisited) {
            var blogLink = document.getElementById(TEAM_BLOG_LINK_ID).parentElement;
            
            if(blogLink)
                blogLink.className += ` ${TEAM_BLOG_LINK_NEW_CLASS}`;
        }
    });
</script>
<header class="site-header fixed">
  <div class="site-header-content">
    <a class="site-logo" href="/testcafe/"></a>
    <div class="hamburger-button">
        <div class="hamburger-icon"></div>
    </div>
    <nav class="site-nav">
      
        
        <div class="site-nav-tab">
          <a class="page-link" href="/testcafe/documentation/getting-started/"><span>Docs</span></a>
        </div>
      
        
        <div class="site-nav-tab active" id="blog-link-tab">
          <a class="page-link" id="blog-link" href="/testcafe/media/team-blog/"><span>Blog</span></a>
        </div>
      
        
        <div class="site-nav-tab">
          <a class="page-link" href="/testcafe/faq/"><span>FAQ</span></a>
        </div>
      
        
        <div class="site-nav-tab">
          <a class="page-link" href="/testcafe/support/"><span>Support</span></a>
        </div>
      
        
        <div class="site-nav-tab">
          <a class="page-link" href="/testcafe/release-notes/"><span>Release Notes</span></a>
        </div>
      
        
        <div class="site-nav-tab" id="studio-link-tab">
          <a class="page-link" id="studio-link" href="https://www.devexpress.com/products/testcafestudio/" target="_blank"><span>TestCafe Studio</span></a>
        </div>
      
    </nav>
    <div class="site-header-buttons">
      <a id="twitter-button" href="https://twitter.com/dxtestcafe" target="_blank"></a>
      <div id="search-icon"></div>
      <div class="star-button">
        <a class="github-button" href="https://github.com/DevExpress/testcafe" data-size="large" data-count-href="/DevExpress/testcafe/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star DevExpress/testcafe on GitHub"><span style="color:#ffffff">Star</span></a>
      </div>
      <div id="search-panel" class="hidden">
          <input type="text" placeholder="Search documentation" id="search"/>
          <div id="close-search"></div>
      </div>
    </div>
  </div>
</header>

<script>
  function has(parentEl, el)  {
    var descendants = parentEl.getElementsByTagName('*');
    
    for(i = 0; i < descendants.length; i++) 
        if(descendants[i] === el) return true;

    return false;
  }

  function clickOutsideBox(e, box) {
      return box !== e.target && !has(box, e.target);
  }  

  function closeSearchBox(e) {
      if(clickOutsideBox(e, searchPanel) && searchPanel.className.indexOf('hidden') === -1) 
          searchPanel.className += ' hidden';
  }

  var searchButton      = document.getElementById('search-icon');
  var searchPanel       = document.getElementById('search-panel');
  var searchInput       = document.getElementById('search');
  var closeSearchButton = document.getElementById('close-search');

  searchButton.addEventListener('click', function () {
      searchPanel.className = searchPanel.className.replace(/hidden/,'');
      searchInput.focus();      
  });
  
  closeSearchButton.addEventListener('click', function () {
      searchPanel.className += ' hidden';
  });

  window.addEventListener('mousedown', closeSearchBox);        
  window.addEventListener('touchstart', closeSearchBox);

  if (window.isMobileDevice) {
      function closeHamburgerMenuBox(e) {
          if(clickOutsideBox(e, hamburgerMenu) && clickOutsideBox(e, hamburgerButton) && hamburgerMenu.className.indexOf('active') !== -1) {
              hamburgerMenu.className = hamburgerMenu.className.replace(' active', '');
              hamburgerButton.className = hamburgerButton.className.replace(' active', '');
              document.documentElement.style.overflowY = 'scroll';
              document.body.style.overflowY = 'initial';
          }
      }

      var hamburgerMenu = document.querySelector('.site-nav');
      var hamburgerButton = document.querySelector('.hamburger-button');

      window.addEventListener('mousedown', closeHamburgerMenuBox);        
      window.addEventListener('touchstart', closeHamburgerMenuBox);

      window.addEventListener('DOMContentLoaded', function (e) {
          var docNav = document.querySelector('.doc-nav');

          if(docNav) {
              function closeDocNav() {
                  docNav.className = docNav.className.replace(' active', '');
                  document.documentElement.style.overflowY = 'scroll';
                  document.body.style.overflowY = 'initial';
              }

              function clickWithDocNavInvoked(e) {
                  if(clickOutsideBox(e, docNav) && clickOutsideBox(e, docNavPanel) && docNav.className.indexOf('active') !== -1) 
                      closeDocNav();
              }

              var docNavPanel = document.querySelector('.doc-nav-panel');

              window.addEventListener('mousedown', clickWithDocNavInvoked);        
              window.addEventListener('touchstart', clickWithDocNavInvoked);

              var docNavLinks = document.querySelectorAll('.doc-nav a');

              docNavLinks.forEach(function (link) {
                  link.addEventListener('click', closeDocNav);
              });
          }
      });
  }
</script>

<script>
  var studioLink = document.getElementById('studio-link');

  studioLink.addEventListener('click', function () {
      ga('send', 'event', 'topMenu', 'studioLinkClicked');
  });
</script>

<div class="doc-top-nav">
  <div class="doc-top-nav-content">
    <div class="doc-top-nav-wrapper">
      
        <div class="doc-top-nav-tab " >
          <a href="/testcafe/documentation/getting-started/">Getting Started</a>
        </div>
      
        <div class="doc-top-nav-tab " >
          <a href="/testcafe/documentation/guides/">Guides</a>
        </div>
      
        <div class="doc-top-nav-tab " >
          <a href="/testcafe/documentation/reference/">Reference</a>
        </div>
      
        <div class="doc-top-nav-tab " >
          <a href="/testcafe/documentation/recipes/">Recipes</a>
        </div>
      
        <div class="doc-top-nav-tab " >
          <a href="/testcafe/documentation/how-it-works/">How It Works</a>
        </div>
      
        <div class="doc-top-nav-tab " >
          <a href="/testcafe/documentation/examples/">Examples</a>
        </div>
      
    </div>
  </div>
</div>


      <div class="container">
    <main>
    <div class="post">
        <div class="post-date">
            NOV 18, 2020
        </div>
        <article class="post-content">
            <h1>Client Functions and Script Injection for Page Interaction</h1>
<p><em>You will learn how to run custom JavaScript code on the tested pages, how to use objects like the page model in this code, how to wait for an arbitrary event in the browser, and the fastest way to run a one-liner or an entire JS module.</em></p>

<!--more-->

<p>End-to-end tests emulate how users interact with the application. In theory, this interaction consists of simple actions like a mouse click on an element, a key press, drag-and-drop, or file upload. The TestCafe API allows you to perform these basic actions with a single line of code. However, real-world applications tend to be more complicated than a static entry form. Some applications cannot be tested without closer interaction with tested pages. In this article, we review several examples and show how knowledge of TestCafe&#39;s internal architecture allows you to test complex or poorly designed pages with the help of client functions and script injection.</p>
<h2><a class="anchor" id="use-client-functions-to-run-code-in-the-browser"></a>Use Client Functions to Run Code in the Browser <a class="permalink" href="#use-client-functions-to-run-code-in-the-browser">#</a></h2>
<p>Let&#39;s assume you need to click an element, but another element on the same page overlaps the first one due to design or implementation choices. If you simply call <a href="https://devexpress.github.io/testcafe/documentation/reference/test-api/testcontroller/click.html">t.click</a>, TestCafe waits for the target element to appear in the foreground. When a predefined timeout expires, TestCafe will eventually click the overlapping element. If the test author intended this click, the test completes successfully. However, the entire timeout period is wasted on aimless waiting. You can hide the overlapping element and avoid this pause if you run the following code:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">test</span><span class="p">(</span><span class="dl">'</span><span class="s1">Hide element</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
<span class="err">    </span><span class="kd">const</span> <span class="nx">hideElement</span> <span class="o">=</span> <span class="nx">ClientFunction</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
<span class="err">        </span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="dl">'</span><span class="s1">#id</span><span class="dl">'</span><span class="p">).</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">none</span><span class="dl">'</span><span class="p">;</span>
<span class="err">    </span><span class="p">});</span>
<span class="err"> </span> 
<span class="err">    </span><span class="k">await</span> <span class="nx">hideElement</span><span class="p">();</span>
<span class="err"> </span> 
<span class="err">    </span><span class="k">await</span> <span class="nx">t</span><span class="p">.</span><span class="nx">expect</span><span class="p">(</span><span class="nx">Selector</span><span class="p">(</span><span class="dl">'</span><span class="s1">#id</span><span class="dl">'</span><span class="p">).</span><span class="nx">visible</span><span class="p">).</span><span class="nx">notOk</span><span class="p">();</span>
<span class="p">});</span>
</code></pre></div>
<p>You may also want to update that code and store the element ID in a variable:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">test</span><span class="p">(</span><span class="dl">'</span><span class="s1">Hide element</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
<span class="err">   </span> <span class="kd">const</span> <span class="nx">elementId</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">#id</span><span class="dl">'</span><span class="p">;</span>
<span class="err">   </span> <span class="kd">const</span> <span class="nx">hideElement</span> <span class="o">=</span> <span class="nx">ClientFunction</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
<span class="err">       </span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="nx">elementId</span><span class="p">).</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">none</span><span class="dl">'</span><span class="p">;</span>
<span class="err">   </span> <span class="p">});</span>
<span class="err"> </span> 
<span class="err">   </span> <span class="k">await</span> <span class="nx">hideElement</span><span class="p">();</span>
<span class="err"> </span> 
<span class="err">   </span> <span class="k">await</span> <span class="nx">t</span><span class="p">.</span><span class="nx">expect</span><span class="p">(</span><span class="nx">Selector</span><span class="p">(</span><span class="nx">elementId</span><span class="p">).</span><span class="nx">visible</span><span class="p">).</span><span class="nx">notOk</span><span class="p">();</span>
<span class="p">});</span>
</code></pre></div>
<p>A variable is a good idea and it can be used, but not in this manner. The test above would fail with an error:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">My Fixture
 × Hide element

   1) An error occurred in ClientFunction code:

      ReferenceError: elementId is not defined
</code></pre></div>
<p>On the surface, your JavaScript programming experience may tell you that the test is fine. Let&#39;s look into TestCafe&#39;s underlying mechanisms in greater detail to see why the test fails.</p>
<h3><a class="anchor" id="under-the-hood"></a>Under the Hood <a class="permalink" href="#under-the-hood">#</a></h3>
<p>The TestCafe framework is based on a client-server architecture. The test code runs in a Node.js process (server) and uses a proxy server to interact with the browser (client).</p>

<p><img src="../../images/testcafe-nodejs-process.svg" alt="TestCafe's client-server architecture" title=""></p>

<p>Considering this fact, you can expect that:</p>

<ul>
<li>The test code has no direct access to the browser context.</li>
<li>TestCafe interacts with the browser asynchronously (which is why missing <code>await</code> issues are often posted in GitHub and StackOverflow).</li>
<li>The server-side TestCafe process and the client-side browser can only exchange serialized data.</li>
</ul>

<p>We can simplify TestCafe&#39;s client-server interactions as follows:</p>

<ul>
<li>On the server, the TestCafe API exposes methods that execute actions and user code in the browser. When the API is triggered, TestCafe creates commands and passes them to the proxy: TestCafe Hammerhead.<br></li>
<li>TestCafe Hammerhead transmits commands from the server to the browser and sends back the results when they are ready.</li>
<li>On the client, TestCafe scripts receive these commands and execute them in the same way the browser handles user actions.</li>
</ul>
<h3><a class="anchor" id="pass-variables-to-client-functions"></a>Pass Variables to Client Functions <a class="permalink" href="#pass-variables-to-client-functions">#</a></h3>
<p><em>Create parameterized functions or use page model properties on the client side.</em></p>

<p>Let&#39;s get back to our code that tries and fails to introduce a variable.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">test</span><span class="p">(</span><span class="dl">'</span><span class="s1">Hide element</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
<span class="err">   </span> <span class="kd">const</span> <span class="nx">elementId</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">#id</span><span class="dl">'</span><span class="p">;</span><span class="err"> </span> 
<span class="err">   </span> <span class="kd">const</span> <span class="nx">hideElement</span> <span class="o">=</span> <span class="nx">ClientFunction</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
<span class="err">       </span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="nx">elementId</span><span class="p">).</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">none</span><span class="dl">'</span><span class="p">;</span>
<span class="err">   </span> <span class="p">});</span>
<span class="err"> </span> 
<span class="err">   </span> <span class="k">await</span> <span class="nx">hideElement</span><span class="p">();</span>
<span class="err"> </span> 
<span class="err">   </span> <span class="k">await</span> <span class="nx">t</span><span class="p">.</span><span class="nx">expect</span><span class="p">(</span><span class="nx">Selector</span><span class="p">(</span><span class="nx">elementId</span><span class="p">).</span><span class="nx">visible</span><span class="p">).</span><span class="nx">notOk</span><span class="p">();</span>
<span class="p">});</span>
</code></pre></div>
<p>This function has to be executed in the browser. As we mentioned earlier, only serialized data can travel between the client and the server. This is why TestCafe serializes this function (i.e., converts it to a string). This string is then evaluated when received on the browser side. You can now see why closures do not work for client functions.</p>

<p>What&#39;s the solution then? Before TestCafe converts the function to a string, a separate serializer module processes arguments passed to <code>ClientFunction()</code>. This is the same module that serializes all data that travel between the client and the server. This means that you can easily pass parameters to the client function and they arrive safely.</p>

<p>In addition, you can also find the <code>dependencies</code> property among the options that can be passed to the <a href="https://devexpress.github.io/testcafe/documentation/reference/test-api/clientfunction/constructor.html">ClientFunction</a> constructor.</p>

<p>TestCafe offers two options to access variables declared in test code.</p>

<p>The first option is to pass the variable as an argument:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">test</span><span class="p">(</span><span class="dl">'</span><span class="s1">Hide element</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
<span class="err">   </span> <span class="kd">const</span> <span class="nx">elementId</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">#id</span><span class="dl">'</span><span class="p">;</span>
<span class="err"> </span> 
<span class="err">   </span> <span class="kd">const</span> <span class="nx">hideElement</span> <span class="o">=</span> <span class="nx">ClientFunction</span><span class="p">(</span><span class="nx">targetId</span> <span class="o">=&gt;</span> <span class="p">{</span>
<span class="err">       </span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="nx">targetId</span><span class="p">).</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">none</span><span class="dl">'</span><span class="p">;</span>
<span class="err">   </span> <span class="p">});</span>
<span class="err"> </span> 
<span class="err">   </span> <span class="k">await</span> <span class="nx">hideElement</span><span class="p">(</span><span class="nx">elementId</span><span class="p">);</span>
<span class="err"> </span> 
<span class="err">   </span> <span class="k">await</span> <span class="nx">t</span><span class="p">.</span><span class="nx">expect</span><span class="p">(</span><span class="nx">Selector</span><span class="p">(</span><span class="nx">elementId</span><span class="p">).</span><span class="nx">visible</span><span class="p">).</span><span class="nx">notOk</span><span class="p">();</span>
<span class="p">});</span>
</code></pre></div>
<p>But what if the element has no ID, so that it&#39;s not easy to find in the DOM tree? The second option is to pass a selector to the client function. Use the <code>dependencies</code> option in the <a href="https://devexpress.github.io/testcafe/documentation/reference/test-api/clientfunction/constructor.html">ClientFunction</a> constructor:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">test</span><span class="p">(</span><span class="dl">'</span><span class="s1">Hide element</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
<span class="err">   </span> <span class="kd">const</span> <span class="nx">elementSelector</span> <span class="o">=</span> <span class="nx">Selector</span><span class="p">(</span><span class="dl">'</span><span class="s1">#populate</span><span class="dl">'</span><span class="p">);</span>
<span class="err"> </span> 
<span class="err">   </span> <span class="kd">const</span> <span class="nx">hideElement</span> <span class="o">=</span> <span class="nx">ClientFunction</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
<span class="err">       </span> <span class="nx">elementSelector</span><span class="p">().</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">none</span><span class="dl">'</span><span class="p">;</span>
<span class="err">   </span> <span class="p">},</span> <span class="p">{</span> <span class="na">dependencies</span><span class="p">:</span> <span class="p">{</span> <span class="nx">elementSelector</span> <span class="p">}</span> <span class="p">});</span>
<span class="err"> </span> 
<span class="err">   </span> <span class="k">await</span> <span class="nx">hideElement</span><span class="p">();</span>
<span class="err"> </span> 
<span class="err">   </span> <span class="k">await</span> <span class="nx">t</span><span class="p">.</span><span class="nx">expect</span><span class="p">(</span><span class="nx">elementSelector</span><span class="p">.</span><span class="nx">visible</span><span class="p">).</span><span class="nx">notOk</span><span class="p">();</span>
<span class="p">});</span>
</code></pre></div>
<p>Note that client functions and selectors have a lot in common. Methods that create and run selectors derive from similar methods of client functions. To execute a complex selector query, you can pass a function to the <a href="https://devexpress.github.io/testcafe/documentation/reference/test-api/selector/constructor.html">Selector</a> constructor, as you do for client functions. The main difference between them is the return type. Selectors should return <code>DOMNode</code>, while client functions should return any serializable value, or a Promise that resolves to such value.</p>
<h3><a class="anchor" id="wait-for-a-custom-condition"></a>Wait for a Custom Condition <a class="permalink" href="#wait-for-a-custom-condition">#</a></h3>
<p><em>You can specify when TestCafe considers a page loaded.</em></p>

<p>Now let&#39;s see why you may want a client function to return a Promise.</p>

<p>TestCafe is designed to wait for the <code>DOMContentLoaded</code> and <code>load</code> events, as well as XHR requests (allowing three seconds for the latter), before tests begin. In rare instances, the wait time may be over before all scripts on the page are initialized. The following client function pauses the test until a custom condition is fulfilled (you can replace it with your own script completion indicator).</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">test</span><span class="p">(</span><span class="dl">'</span><span class="s1">Wait for scripts</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
<span class="err">   </span> <span class="kd">const</span> <span class="nx">waitForScripts</span> <span class="o">=</span> <span class="nx">ClientFunction</span><span class="p">(</span><span class="nx">waitTimeout</span> <span class="o">=&gt;</span> <span class="p">{</span>
<span class="err">       </span> <span class="kd">function</span> <span class="nx">checkCondition</span> <span class="p">()</span> <span class="p">{</span>
            <span class="c1">// Replace this line with a custom condition.</span>
<span class="err">           </span> <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
<span class="err">       </span> <span class="p">}</span>

<span class="err">       </span> <span class="k">return</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
<span class="err">           </span> <span class="kd">var</span> <span class="nx">timeout</span><span class="p">,</span> <span class="nx">interval</span><span class="p">;</span>

<span class="err">           </span> <span class="nx">timeout</span> <span class="o">=</span> <span class="nx">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
<span class="err">               </span> <span class="nx">clearInterval</span><span class="p">(</span><span class="nx">interval</span><span class="p">);</span>
<span class="err">               </span> <span class="nx">reject</span><span class="p">(</span><span class="dl">'</span><span class="s1">Timeout is exceeded.</span><span class="dl">'</span><span class="p">);</span>
<span class="err">           </span> <span class="p">},</span> <span class="nx">waitTimeout</span><span class="p">);</span>

<span class="err">           </span> <span class="nx">interval</span> <span class="o">=</span> <span class="nx">setInterval</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
<span class="err">               </span> <span class="k">if</span> <span class="p">(</span><span class="nx">checkCondition</span><span class="p">())</span> <span class="p">{</span>
<span class="err">                   </span> <span class="nx">clearTimeout</span><span class="p">(</span><span class="nx">timeout</span><span class="p">);</span>
<span class="err">                   </span> <span class="nx">clearInterval</span><span class="p">(</span><span class="nx">interval</span><span class="p">);</span>
<span class="err">                   </span> <span class="nx">resolve</span><span class="p">();</span>
<span class="err">               </span> <span class="p">}</span>
<span class="err">           </span> <span class="p">},</span> <span class="mi">100</span><span class="p">);</span>
<span class="err">       </span> <span class="p">});</span>
<span class="err">   </span> <span class="p">});</span>

<span class="err">   </span> <span class="k">await</span> <span class="nx">waitForScripts</span><span class="p">(</span><span class="mi">2000</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p>Even if a browser does not support Promises, this client function still works because TestCafe automatically adds the necessary polyfills when it processes this code.</p>
<h2><a class="anchor" id="inject-scripts-to-add-code-permanently"></a>Inject Scripts to Add Code Permanently <a class="permalink" href="#inject-scripts-to-add-code-permanently">#</a></h2>
<p>Client functions are useful to interact with the tested page when necessary. You can even run a client function without saving it to a variable. However, everything you change in this function on the tested page is reverted once a redirect or page reload occurs. To modify the page permanently, inject client scripts into the tested page. The injected scripts are added to the <code>&lt;head&gt;</code> tag.</p>
<h3><a class="anchor" id="scripts-that-persist-throughout-testing"></a>Scripts that Persist Throughout Testing <a class="permalink" href="#scripts-that-persist-throughout-testing">#</a></h3>
<p>Should you need to hide a banner, or modify an attribute for some element, you can organize client code that does it in a separate file:</p>

<p><strong>script.js</strong></p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">DOMContentLoaded</span><span class="dl">'</span><span class="p">,</span><span class="err"> </span><span class="kd">function</span><span class="err"> </span><span class="p">()</span><span class="err"> </span><span class="p">{</span>
<span class="err">    </span><span class="kd">const</span><span class="err"> </span><span class="nx">element</span><span class="err"> </span><span class="o">=</span><span class="err"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="dl">'</span><span class="s1">your-selector</span><span class="dl">'</span><span class="p">);</span>

<span class="err">    </span><span class="nx">element</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="dl">'</span><span class="s1">foo-bar</span><span class="dl">'</span><span class="p">,</span><span class="err"> </span><span class="dl">'</span><span class="s1">baz</span><span class="dl">'</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p>Next, use your favorite API to attach this file in all tests (which eliminates repetitive <a href="https://devexpress.github.io/testcafe/documentation/reference/test-api/fixture/beforeeach.html">beforeEach</a> hooks):</p>

<p><em>Command Line Interface</em></p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh">testcafe chrome test.js <span class="nt">--client-scripts</span> script.js
</code></pre></div>
<p><em>API</em></p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">runner</span><span class="p">.</span><span class="nx">clientScripts</span><span class="p">(</span><span class="dl">'</span><span class="s1">script.js</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div>
<p><em>Configuration file</em></p>
<div class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span><span class="w">  
    </span><span class="nl">"clientScripts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"script.js"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3><a class="anchor" id="injected-scripts-run-first"></a>Injected Scripts Run First <a class="permalink" href="#injected-scripts-run-first">#</a></h3>
<p>TestCafe adds the injected scripts to its automation code, so that they run before any other script on the page. You can therefore use injected scripts to alter the page behavior. For instance, you can override the <code>window.open</code> method for all tests as follows:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">const</span><span class="err"> </span><span class="nx">mockWindowOpen</span><span class="err"> </span><span class="o">=</span><span class="err"> </span><span class="dl">"</span><span class="s2">window.open = function () { };</span><span class="dl">"</span><span class="p">;</span>

<span class="nx">fixture</span><span class="s2">`My App`</span>
<span class="err">    </span><span class="p">.</span><span class="nx">page</span><span class="s2">`https://devexpress.github.io/testcafe/example/`</span>
<span class="err">    </span><span class="p">.</span><span class="nx">clientScripts</span><span class="p">({</span><span class="err"> </span><span class="na">content</span><span class="p">:</span><span class="err"> </span><span class="nx">mockWindowOpen</span><span class="err"> </span><span class="p">});</span>

<span class="nx">test</span><span class="p">(</span><span class="dl">'</span><span class="s1">My test 1</span><span class="dl">'</span><span class="p">,</span><span class="err"> </span><span class="k">async</span><span class="err"> </span><span class="nx">t</span><span class="err"> </span><span class="o">=&gt;</span><span class="err"> </span><span class="p">{</span><span class="err"> </span><span class="cm">/* ... */</span><span class="err"> </span><span class="p">});</span>
<span class="nx">test</span><span class="p">(</span><span class="dl">'</span><span class="s1">My test 2</span><span class="dl">'</span><span class="p">,</span><span class="err"> </span><span class="k">async</span><span class="err"> </span><span class="nx">t</span><span class="err"> </span><span class="o">=&gt;</span><span class="err"> </span><span class="p">{</span><span class="err"> </span><span class="cm">/* ... */</span><span class="err"> </span><span class="p">});</span>
</code></pre></div>
<p>Your code remains almost unchanged. TestCafe only wraps it to catch exceptions.</p>
<h3><a class="anchor" id="checking-other-head-scripts-for-errors"></a>Checking Other &lt;head&gt; Scripts for Errors <a class="permalink" href="#checking-other-head-scripts-for-errors">#</a></h3>
<p>Due to their location inside the <code>&lt;head&gt;</code> tags, injected scripts also allow you to access information that is not obtainable by other means.</p>

<p>Consider a scenario where you need to obtain unhandled exceptions thrown in another script in the <code>&lt;head&gt;</code> section. The TestCafe API contains the <a href="https://devexpress.github.io/testcafe/documentation/reference/test-api/testcontroller/getbrowserconsolemessages.html">t.getBrowserConsoleMessages</a> method that returns messages printed in the console. However, this method can only access messages posted by the <code>console.log</code>, <code>console.warn</code>, and <code>console.error</code> methods in page code. The <a href="https://devexpress.github.io/testcafe/documentation/reference/test-api/testcontroller/getbrowserconsolemessages.html">t.getBrowserConsoleMessages</a> method does not fetch errors thrown by the browser. You could try to use a client function to catch the exception, but client functions are executed after all <code>&lt;head&gt;</code> scripts are completed.</p>

<p>With script injection, you can add the following code:</p>

<p><strong>script.js</strong></p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nb">window</span><span class="p">.</span><span class="nx">unhandledErrors</span><span class="err"> </span><span class="o">=</span><span class="err"> </span><span class="p">[];</span>

<span class="nb">window</span><span class="p">.</span><span class="nx">onerror</span><span class="err"> </span><span class="o">=</span><span class="err"> </span><span class="nx">message</span><span class="err"> </span><span class="o">=&gt;</span><span class="err"> </span><span class="p">{</span>
<span class="err">    </span><span class="nb">window</span><span class="p">.</span><span class="nx">unhandledErrors</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">message</span><span class="p">);</span>
<span class="p">};</span>
</code></pre></div>
<p>In test code, you can create a client function to access messages in <code>window.unhandledErrors</code>:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">test</span><span class="p">(</span><span class="dl">'</span><span class="s1">Get Unhandled Errors</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span><span class="err"> </span><span class="nx">errors</span><span class="err"> </span><span class="o">=</span><span class="err"> </span><span class="k">await</span><span class="err"> </span><span class="nx">t</span><span class="p">.</span><span class="nb">eval</span><span class="p">(()</span><span class="err"> </span><span class="o">=&gt;</span><span class="err"> </span><span class="nb">window</span><span class="p">.</span><span class="nx">unhandledErrors</span><span class="p">);</span>
    <span class="c1">// ...</span>
<span class="p">}).</span><span class="nx">clientScripts</span><span class="p">(</span><span class="dl">'</span><span class="s1">script.js</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div><h2><a class="anchor" id="conclusion"></a>Conclusion <a class="permalink" href="#conclusion">#</a></h2>
<p>Client functions and script injection extend TestCafe&#39;s capabilities so that you can interact with the page directly. These features can configure your application at low levels to prepare it for testing, or fetch data about its execution in a custom manner. You can think of even more ways to use client functions and injected scripts. We hope this brief overview of the TestCafe architecture and sample usage scenarios help improve your understanding of these tools so that you can use them more effectively.</p>
<h2><a class="anchor" id="related-topics"></a>Related Topics <a class="permalink" href="#related-topics">#</a></h2>
<ul>
<li><a href="https://devexpress.github.io/testcafe/documentation/guides/advanced-guides/inject-client-scripts.html">Inject Client Scripts</a></li>
<li><a href="https://devexpress.github.io/testcafe/documentation/guides/basic-guides/obtain-client-side-info.html">Obtain Client-Side Info</a></li>
<li><a href="https://devexpress.github.io/testcafe/documentation/guides/basic-guides/select-page-elements.html">Select Page Elements</a></li>
</ul>

        </article>
        <div id="back-to-posts-link">
            <p><a href="../../media/team-blog/">Back to Post List</a></p>
        </div>
        <!-- <div id="disqus_thread"></div> -->
    </div>
</main>

<!-- 
<script>
    var disqus_config = function () {
        this.page.url = 'https://devexpress.github.io/testcafe/media/team-blog/client-functions-and-script-injection-for-page-interaction.html';
        this.page.identifier = '/media/team-blog/client-functions-and-script-injection-for-page-interaction';
    };
    (function() {
        var d = document, s = d.createElement('script');
        
        s.src = '//testcafe-blog.disqus.com/embed.js';
        
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
 -->
</div>

    </div>

    <footer class="site-footer">
    <div class="site-footer-content">
        <div class="footer-links">
            <div class="footer-link-content">
                <div class="link"><a href="/testcafe/documentation/">Docs</a></div>
                <div class="link"><a href="/testcafe/media/team-blog/">Blog</a></div>
                <div class="link"><a href="/testcafe/faq/">FAQ</a></div>
                <div class="link"><a href="/testcafe/support/">Support</a></div>
                <div class="link"><a href="/testcafe/roadmap/">Roadmap</a></div>
                <div class="link"><a href="/testcafe/release-notes/">Release Notes</a></div>
                <div class="link"><a href="https://devexpress.com/products/testcafestudio">TestCafe Studio</a></div>
            </div>
        </div>
        <div class="footer-icons">
            <div class="icon"><a href="https://twitter.com/DXTestCafe"><img src="/testcafe/images/twitter-footer.svg"/></a></div>
            <div class="icon"><a href="https://github.com/DevExpress/testcafe"><img src="/testcafe/images/github-footer.svg"/></a></div>
        </div>
        <div class="footer-legal">
            Use of this site constitutes acceptance of our <a href="https://www.devexpress.com/aboutus/privacy-policy.xml"  target="_blank">Privacy Policy</a><br/>
            Copyright © 2012–2020 Developer Express Inc.</p>
        </div>
    </div>
</footer>


    
<script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
<script type="text/javascript"> var search = docsearch({
     apiKey: '938fb7894c0af8c01af3e2b4c53d4bdd',
     indexName: 'testcafe',
     inputSelector: '#search',
     debug: false // Set debug to true if you want to inspect the dropdown
 });

 search.autocomplete.on('autocomplete:opened', function(e) {
     var searchInput = document.querySelector('#search');
     var dropdown    = document.querySelector('.ds-dropdown-menu');
     
     if(searchInput && dropdown) {
         dropdown.style.maxWidth = "none";
         dropdown.style.width = searchInput.offsetWidth + "px";
     }
 });
</script> 

  </body>

</html>
