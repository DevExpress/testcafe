<!DOCTYPE html>
<html>

  <head>
  
  
  
  
  
  
  

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <title>Introducing the TestCafe Jenkins Plugin | TestCafe</title>

  <meta name="description" content="Introducing the TestCafe Jenkins PluginTestCafe can capture videos and screenshots so you can debug your tests and examine page UI. You can record all tests ...">
  <meta name="viewport" content="width=device-width">

  <meta property="og:image" content="https://raw.githubusercontent.com/DevExpress/testcafe-gh-page-assets/master/src/images/testcafe-ogp-icon.png">
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://devexpress.github.io/testcafe/media/team-blog/introducing-the-testcafe-jenkins-plugin.html" />
  <meta property="og:title" content="Introducing the TestCafe Jenkins Plugin | TestCafe" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:image" content="https://raw.githubusercontent.com/DevExpress/testcafe-gh-page-assets/master/src/images/testcafe-twitter-card-icon.png" />
  <meta name="twitter:site" content="@DXTestCafe" />
  
  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.16.2/build/styles/docco.min.css">
  
  
  <link rel="shortcut icon" href="/testcafe/favicon.ico">
  <link rel="stylesheet" href="/testcafe/css/main.css">
  <link rel="stylesheet" href="/testcafe/css/banner.css">
  <link rel="canonical" href="https://devexpress.github.io/testcafe/media/team-blog/introducing-the-testcafe-jenkins-plugin.html">
  <link rel="alternate" type="application/rss+xml" title="TestCafe" href="https://devexpress.github.io/testcafe/feed.xml">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans">
  <link rel="apple-touch-icon" sizes="180x180" href="/testcafe/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/testcafe/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/testcafe/favicon-16x16.png">
  <link rel="manifest" href="/testcafe/site.webmanifest">
  <meta name="msapplication-TileColor" content="#2d89ef">
  <meta name="msapplication-config" content="/testcafe/browserconfig.xml" />
  <meta name="theme-color" content="#ffffff">
  <script defer src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.16.2/build/highlight.min.js"></script>
  <script defer src="https://buttons.github.io/buttons.js"></script>
  <script defer type="text/javascript" src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-2.2.3.min.js"></script>
  <script src="/testcafe/scripts/mobile-detect.min.js" type="text/javascript"></script>
  <script>
     var md             = new MobileDetect(window.navigator.userAgent);
     var isMobileDevice = !!md.mobile();
  </script>
  <script>
      document.addEventListener('DOMContentLoaded', function (e) {
          hljs.initHighlightingOnLoad();
      });
  </script>

  
  <script>
    // Google Analytics
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-83678642-1', 'auto');
    ga('set', 'anonymizeIp', true);
    ga('send', 'pageview');
  </script>
  

  

  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery.perfect-scrollbar/0.6.12/css/perfect-scrollbar.min.css">
  <link rel="stylesheet" href="/testcafe/css/docs.css">
    
    <link rel="stylesheet" href="/testcafe/css/community.css">
    
  <style>
      .ps-container > .ps-scrollbar-x-rail,
      .ps-container > .ps-scrollbar-y-rail {
          opacity: 0.6;
      }
  </style>
  

  

  

  

  <script>
    function linkCss (href) {
        var link  = document.createElement('link');
        var html  = document.querySelector('html');
        var head  = document.head;

        link.rel  = 'stylesheet';
        link.type = 'text/css';
        link.href = href;
        link.media = 'all';

        head.appendChild(link);

        window.addEventListener('load', function () {
            html.style.display = 'block';
        });

        html.style.display = 'none';
    }
  </script>
    
    

    <script>
        if (isMobileDevice) {
            linkCss('/testcafe/css/banner.mobile.css');

            document.addEventListener('DOMContentLoaded', function (e) {
                var siteNav         = document.querySelector('.site-nav');
                var hamburgerButton = document.querySelector('.hamburger-button');

                hamburgerButton.addEventListener('click', function (e) {
                    if (hamburgerButton.className.indexOf('active') !== -1) {
                        hamburgerButton.className = hamburgerButton.className.replace(' active', '');
                        siteNav.className = siteNav.className.replace(' active', '');
                        document.documentElement.style.overflowY = 'scroll';
                        document.body.style.overflowY = 'initial';
                    }
                    else {
                        hamburgerButton.className += ' active';
                        siteNav.className += ' active';
                        document.documentElement.style.overflowY = 'hidden';
                        document.body.style.overflowY = 'hidden';
                    }
                });

                var docTopNav          = document.querySelector('.doc-top-nav');
                var docMenuItem        = document.querySelector('.site-nav-tab');
                var mainMenuSecondItem = document.querySelector('.site-nav-tab:nth-child(2)');

                siteNav.insertBefore(docTopNav, mainMenuSecondItem);
                
                var searchPanel = document.getElementById('search-panel');
                
                siteNav.insertBefore(searchPanel, docMenuItem);

                var docMenuItemIcon = document.createElement('div');

                docMenuItemIcon.className = 'doc-menu-item-icon';
                docMenuItem.appendChild(docMenuItemIcon);

                

                docMenuItem.addEventListener('click', function (e) {
                    if (docTopNav.className.indexOf('expanded') !== -1) {
                        docMenuItem.className = docMenuItem.className.replace(' expanded', '');
                        docTopNav.className = docTopNav.className.replace(' expanded', '');
                    }
                    else {
                        docMenuItem.className += ' expanded';
                        docTopNav.className += ' expanded';
                    }
                    e.preventDefault();
                });
            });

            linkCss('/testcafe/css/mobile.css');
        }
    </script>

  

  

    

  
    <script defer type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery.perfect-scrollbar/0.6.12/js/perfect-scrollbar.min.js"></script>
    <script defer type="text/javascript" src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-2.2.3.min.js"></script>

    <script>
        var MIN_BODY_WIDTH = 1230;
        var FOOTER_HEIGHT  = 225;

        var nav     = null;
        var article = null;

        function getHeaderHeight () {
            return 76;
        }

        function setNavTopPosition () {
            var headerHeight = getHeaderHeight();
            var top          = null;

            if (document.body.clientWidth > MIN_BODY_WIDTH) {
                if (nav.style.top !== headerHeight + 'px') {
                    nav.style.top = headerHeight + 'px';
                    Ps.update(nav);
                }
            }
            else {
                top = window.pageYOffset <= headerHeight ? headerHeight - window.pageYOffset + 'px' : '0';

                if (nav.style.top !== top) {
                    nav.style.top = top;
                    Ps.update(nav);
                }
            }
        }

        function setNavBottomPosition () {
            var footerVisibleHeight = FOOTER_HEIGHT - document.body.scrollHeight + window.pageYOffset +
                                      document.body.clientHeight;

            if (footerVisibleHeight > 0) {
                if (nav.style.bottom !== footerVisibleHeight + 'px') {
                    nav.style.bottom = footerVisibleHeight + 'px';
                    Ps.update(nav);
                }
            }
            else if (nav.style.bottom !== '0') {
                nav.style.bottom = '0';
                Ps.update(nav);
            }
        }

        function updateNavMenuPosition () {
            nav.style.marginLeft = '-' + window.pageXOffset + 'px';

            setNavBottomPosition();
            setNavTopPosition();
        }

        function changeBodyHeight () {
            if (document.body.style.height !== window.innerHeight + 'px')
                document.body.style.height = window.innerHeight + 'px';
        }

        function initScrollBar() {
            Ps.initialize(nav);

            window.addEventListener('resize', function () {
                Ps.update(nav);
            });
        }

        function initNav() {
            initScrollBar();
            updateNavMenuPosition();
            window.addEventListener('scroll', updateNavMenuPosition);
            window.addEventListener('resize', updateNavMenuPosition);
        }

        function scrollToActiveItem() {
            var activeItem = document.querySelector('.doc-nav .active');
            var scrollContainer = document.querySelector('.ps-container');

            if (scrollContainer && activeItem) {
                scrollContainer.scrollTop = activeItem.offsetTop;
            }
        }

        document.addEventListener('DOMContentLoaded', function (e) {
            if (isMobileDevice)
                return;

            nav     = document.querySelector('.doc-nav');
            article = document.querySelector('.doc');

            if (nav)
                initNav(nav);

            scrollToActiveItem();
        });
    </script>
    
    
    <script>
        if (isMobileDevice) {
            linkCss('/testcafe/css/banner.mobile.css');
            linkCss('/testcafe/css/docs.mobile.css');           
            
            if (false == false) {
                document.addEventListener('DOMContentLoaded', function (e) {
                    var docNavPanel = document.querySelector('.doc-nav-panel');
                    var docNav      = document.querySelector('.doc-nav');

                    docNavPanel.addEventListener('click', function (e) {
                        if (docNav.className.indexOf('active') !== -1) {
                            docNav.className = docNav.className.replace(' active', '');
                            document.documentElement.style.overflowY = 'scroll';
                            document.body.style.overflowY = 'initial';
                        }
                        else {
                            docNav.className += ' active';
                            document.documentElement.style.overflowY = 'hidden';
                            document.body.style.overflowY = 'hidden';
                        }
                    });
                });
            }
        }
    </script>
  
    <script>
        function initHeader(siteHeader, contentWrapper, docTopMenu, article, gs) {
            var MIN_BODY_WIDTH = 1230;

            function updateHeader() {
                var CONTENT_MARGIN_WITH_DOC_MENU     = '72px';
                var CONTENT_MARGIN_WITHOUT_DOC_MENU  = '21px';
                var CONTENT_MARGIN_COMMUNITY_DESKTOP = '27px';
                var CONTENT_MARGIN_COMMUNITY_MOBILE  = '48px';

                var bodyMinimized          = document.body.clientWidth === MIN_BODY_WIDTH;
                var docContentMargin       = bodyMinimized ? CONTENT_MARGIN_WITHOUT_DOC_MENU : CONTENT_MARGIN_WITH_DOC_MENU;
                var isCommunitySection     = true;
                var contentMarginCommunity = isMobileDevice ? CONTENT_MARGIN_COMMUNITY_MOBILE : CONTENT_MARGIN_COMMUNITY_DESKTOP;
                var contentMargin          = isCommunitySection ? contentMarginCommunity : docContentMargin;

                

                siteHeader.style.position = bodyMinimized ? 'static' : '';

                if(docTopMenu)
                    docTopMenu.style.position = bodyMinimized ? 'static' : '';

                if(contentWrapper)
                    contentWrapper.style.paddingTop = bodyMinimized ? '0' : '';

                if(article && !isMobileDevice)
                    article.style.marginTop = contentMargin;
                if(gs && !isMobileDevice)
                    gs.style.paddingTop = contentMargin;
            }

            updateHeader();
            window.addEventListener('scroll', updateHeader);
            window.addEventListener('resize', updateHeader);
        }
        document.addEventListener('DOMContentLoaded', function (e) {
            var contentWrapper = document.querySelector('.container');
            var siteHeader     = document.querySelector('.site-header');
            var docTopMenu     = document.querySelector('.doc-top-nav');
            var article        = document.querySelector('.doc');
            var gs             = document.querySelector('.gs');

            if(siteHeader)
                initHeader(siteHeader, contentWrapper, docTopMenu, article, gs);
        });
    </script>
</head>


  <body>

    <script defer src="/testcafe/scripts/cookie-notice.js" type="text/javascript"></script>
<div class="cookie-notice">
    <div class="close-icon"></div>
    <div class="cookie-notice-content">
        <div class="cookie-notice-message">
            <div class="cookie-notice-header">Why We Use Cookies</div>
            <div class="cookie-notice-text">This site uses cookies to make your browsing experience more convenient and personal. Cookies store useful information on your computer to help us improve the efficiency and relevance of our site for you. In some cases, they are essential to making the site work properly. By accessing this site, you consent to the use of cookies. For more information, refer to DevExpress' <a href="https://www.devexpress.com/AboutUs/privacy-policy.xml" target="_blank">privacy policy</a> and <a href="https://www.devexpress.com/AboutUs/cookie-policy.xml" target="_blank">cookie policy</a>.</div>
        </div>
        <div class="cookie-notice-button">I understand</div>
    </div>
</div>

    <div class="page-content-wrapper">

      

<script>
    var TEAM_BLOG_LAST_VISITED_FLAG = 'team-blog-last-visited';
    var TEAM_BLOG_LINK_ID           = 'blog-link';
    var TEAM_BLOG_LINK_NEW_CLASS    = 'new-post';
    var NOTIFICATIONS_ACTIVE_SINCE  = new Date(2020, 4, 21)

    var teamBlogLastVisited = window.localStorage.getItem(TEAM_BLOG_LAST_VISITED_FLAG) || NOTIFICATIONS_ACTIVE_SINCE;

    window.addEventListener('DOMContentLoaded', function (e) {
        var lastPostDate = new Date(1599080400 * 1000);
        
        if(lastPostDate > teamBlogLastVisited) {
            var blogLink = document.getElementById(TEAM_BLOG_LINK_ID).parentElement;
            
            if(blogLink)
                blogLink.className += ` ${TEAM_BLOG_LINK_NEW_CLASS}`;
        }
    });
</script>
<header class="site-header fixed">
  <div class="site-header-content">
    <a class="site-logo" href="/testcafe/"></a>
    <div class="hamburger-button">
        <div class="hamburger-icon"></div>
    </div>
    <nav class="site-nav">
      
        
        <div class="site-nav-tab">
          <a class="page-link" href="/testcafe/documentation/getting-started/"><span>Docs</span></a>
        </div>
      
        
        <div class="site-nav-tab active" id="blog-link-tab">
          <a class="page-link" id="blog-link" href="/testcafe/media/team-blog/"><span>Blog</span></a>
        </div>
      
        
        <div class="site-nav-tab">
          <a class="page-link" href="/testcafe/faq/"><span>FAQ</span></a>
        </div>
      
        
        <div class="site-nav-tab">
          <a class="page-link" href="/testcafe/support/"><span>Support</span></a>
        </div>
      
        
        <div class="site-nav-tab">
          <a class="page-link" href="/testcafe/release-notes/"><span>Release Notes</span></a>
        </div>
      
        
        <div class="site-nav-tab" id="studio-link-tab">
          <a class="page-link" id="studio-link" href="https://www.devexpress.com/products/testcafestudio/" target="_blank"><span>TestCafe Studio</span></a>
        </div>
      
    </nav>
    <div class="site-header-buttons">
      <a id="twitter-button" href="https://twitter.com/dxtestcafe" target="_blank"></a>
      <div id="search-icon"></div>
      <div class="star-button">
        <a class="github-button" href="https://github.com/DevExpress/testcafe" data-size="large" data-count-href="/DevExpress/testcafe/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star DevExpress/testcafe on GitHub"><span style="color:#ffffff">Star</span></a>
      </div>
      <div id="search-panel" class="hidden">
          <input type="text" placeholder="Search documentation" id="search"/>
          <div id="close-search"></div>
      </div>
    </div>
  </div>
</header>

<script>
  function has(parentEl, el)  {
    var descendants = parentEl.getElementsByTagName('*');
    
    for(i = 0; i < descendants.length; i++) 
        if(descendants[i] === el) return true;

    return false;
  }

  function clickOutsideBox(e, box) {
      return box !== e.target && !has(box, e.target);
  }  

  function closeSearchBox(e) {
      if(clickOutsideBox(e, searchPanel) && searchPanel.className.indexOf('hidden') === -1) 
          searchPanel.className += ' hidden';
  }

  var searchButton      = document.getElementById('search-icon');
  var searchPanel       = document.getElementById('search-panel');
  var searchInput       = document.getElementById('search');
  var closeSearchButton = document.getElementById('close-search');

  searchButton.addEventListener('click', function () {
      searchPanel.className = searchPanel.className.replace(/hidden/,'');
      searchInput.focus();      
  });
  
  closeSearchButton.addEventListener('click', function () {
      searchPanel.className += ' hidden';
  });

  window.addEventListener('mousedown', closeSearchBox);        
  window.addEventListener('touchstart', closeSearchBox);

  if (window.isMobileDevice) {
      function closeHamburgerMenuBox(e) {
          if(clickOutsideBox(e, hamburgerMenu) && clickOutsideBox(e, hamburgerButton) && hamburgerMenu.className.indexOf('active') !== -1) {
              hamburgerMenu.className = hamburgerMenu.className.replace(' active', '');
              hamburgerButton.className = hamburgerButton.className.replace(' active', '');
              document.documentElement.style.overflowY = 'scroll';
              document.body.style.overflowY = 'initial';
          }
      }

      var hamburgerMenu = document.querySelector('.site-nav');
      var hamburgerButton = document.querySelector('.hamburger-button');

      window.addEventListener('mousedown', closeHamburgerMenuBox);        
      window.addEventListener('touchstart', closeHamburgerMenuBox);

      window.addEventListener('DOMContentLoaded', function (e) {
          var docNav = document.querySelector('.doc-nav');

          if(docNav) {
              function closeDocNav() {
                  docNav.className = docNav.className.replace(' active', '');
                  document.documentElement.style.overflowY = 'scroll';
                  document.body.style.overflowY = 'initial';
              }

              function clickWithDocNavInvoked(e) {
                  if(clickOutsideBox(e, docNav) && clickOutsideBox(e, docNavPanel) && docNav.className.indexOf('active') !== -1) 
                      closeDocNav();
              }

              var docNavPanel = document.querySelector('.doc-nav-panel');

              window.addEventListener('mousedown', clickWithDocNavInvoked);        
              window.addEventListener('touchstart', clickWithDocNavInvoked);

              var docNavLinks = document.querySelectorAll('.doc-nav a');

              docNavLinks.forEach(function (link) {
                  link.addEventListener('click', closeDocNav);
              });
          }
      });
  }
</script>

<script>
  var studioLink = document.getElementById('studio-link');

  studioLink.addEventListener('click', function () {
      ga('send', 'event', 'topMenu', 'studioLinkClicked');
  });
</script>

<div class="doc-top-nav">
  <div class="doc-top-nav-content">
    <div class="doc-top-nav-wrapper">
      
        <div class="doc-top-nav-tab " >
          <a href="/testcafe/documentation/getting-started/">Getting Started</a>
        </div>
      
        <div class="doc-top-nav-tab " >
          <a href="/testcafe/documentation/guides/">Guides</a>
        </div>
      
        <div class="doc-top-nav-tab " >
          <a href="/testcafe/documentation/reference/">Reference</a>
        </div>
      
        <div class="doc-top-nav-tab " >
          <a href="/testcafe/documentation/recipes/">Recipes</a>
        </div>
      
        <div class="doc-top-nav-tab " >
          <a href="/testcafe/documentation/how-it-works/">How It Works</a>
        </div>
      
        <div class="doc-top-nav-tab " >
          <a href="/testcafe/documentation/examples/">Examples</a>
        </div>
      
    </div>
  </div>
</div>


      <div class="container">
    <main>
    <div class="post">
        <div class="post-date">
            JUL 29, 2020
        </div>
        <article class="post-content">
            <h1>Introducing the TestCafe Jenkins Plugin</h1>
<p>TestCafe can capture videos and screenshots so you can debug your tests and examine page UI. You can record all tests or only those that failed, generate unique video files for each test or record all of them in one take, and single out specific interactions. (For a full list of available options, see the following help topic: <a href="https://devexpress.github.io/testcafe/documentation/guides/advanced-guides/screenshots-and-videos.html">Screenshots and Videos</a>).</p>

<p>Many TestCafe users take advantage of Jenkins — a CI/CD solution — to automate their tests. Until recently, they had to manually match the screenshots and videos taken by TestCafe to the individual test reports. The newly implemented <a href="https://plugins.jenkins.io/testcafe/">TestCafe Jenkins plugin</a> simplifies this process. Links to screenshots and videos taken during the test now automatically appear on the Jenkins test results page. There is no need to keep the testing server running — all required files are stored inside the Jenkins build folder.</p>

<!--more-->

<p>With our plugin enabled, the test results page should appear as follows:</p>

<p><img src="/testcafe/images/jenkins-plugin/test-results-page.png" alt="The updated test results page" title=""></p>
<h2><a class="anchor" id="test-case-the-disappearing-button"></a>Test case: the disappearing button <a class="permalink" href="#test-case-the-disappearing-button">#</a></h2>
<p>Let&#39;s assume that the &#39;Add to Cart&#39; button disappears on the mobile version of your website.</p>

<p><img src="/testcafe/images/jenkins-plugin/button-example.png" alt="The 'Add To Cart' button is absent from the mobile version of the website" title=""></p>

<p>TestCafe supports the following mobile device emulation methods:</p>

<ul>
<li><a href="https://devexpress.github.io/testcafe/documentation/guides/basic-guides/interact-with-the-page.html#resize-window">Resize the browser window</a> during the test</li>
<li>Run the test through a <a href="https://devexpress.github.io/testcafe/documentation/guides/concepts/browsers.html#browsers-in-cloud-testing-services">third-party cloud testing service</a></li>
<li>Use <a href="https://devexpress.github.io/testcafe/documentation/guides/concepts/browsers.html#use-chromium-device-emulation">Chromium&#39;s built-in emulation mode</a></li>
</ul>

<p>The third option offers greater speed and stability. We describe it going forward and recommend that you use it if possible.</p>

<p>First, let&#39;s write a simple test that checks if the &#39;Add to Cart&#39; button exists:</p>
<div class="highlight"><pre><code class="language-JavaScript" data-lang="JavaScript">test('`Add To Cart` button should exist', async t =&gt; {
    await t
        .expect(Selector('button').withText('Add To Cart').visible).ok();
});
</code></pre></div>
<p>Now let&#39;s configure Jenkins to launch this test every time we build our project.</p>
<h2><a class="anchor" id="basic-setup"></a>Basic setup <a class="permalink" href="#basic-setup">#</a></h2><h3><a class="anchor" id="step-1-install-prerequisites"></a>Step 1. Install prerequisites <a class="permalink" href="#step-1-install-prerequisites">#</a></h3>
<p>TestCafe requires a working Node.js installation to run. If your testing environment does not contain node.js, <a href="https://plugins.jenkins.io/nodejs/">the Node.js Jenkins plugin</a> can install it for you. Also ensure that Chromium is installed: TestCafe cannot function without a browser.</p>
<h3><a class="anchor" id="step-2-install-the-testcafe-jenkins-plugin"></a>Step 2. Install the TestCafe Jenkins plugin <a class="permalink" href="#step-2-install-the-testcafe-jenkins-plugin">#</a></h3>
<p>To install the TestCafe Jenkins plugin, click the &quot;Manage Plugins&quot; link on the Manage Jenkins page, select the &quot;Available&quot; tab, and enter &quot;testcafe&quot; into the search field. Check the box next to our plugin and click the &#39;Install without restart&#39; button below it.</p>

<p><img src="/testcafe/images/jenkins-plugin/plugin-search-ui.png" alt="Jenkins plugin search UI" title=""></p>
<h3><a class="anchor" id="step-3-install-the-required-node-packages"></a>Step 3. Install the required Node packages <a class="permalink" href="#step-3-install-the-required-node-packages">#</a></h3>
<p>Add the following <em>build step</em> to your Jenkins project:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">npm i testcafe testcafe-reporter-jenkins
</code></pre></div>
<p>This command installs the main testcafe library, as well as the <a href="https://www.npmjs.com/package/testcafe-reporter-jenkins">testcafe-reporter-jenkins</a> package. The latter is needed to generate Jenkins-friendly JUnit format reports.</p>
<h3><a class="anchor" id="step-4-configure-the-tests"></a>Step 4. Configure the tests <a class="permalink" href="#step-4-configure-the-tests">#</a></h3>
<p>You can configure your tests via:</p>

<ul>
<li>the <a href="https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html">command line interface</a></li>
<li>the JavaScript/TypeScript API</li>
<li>the .testcaferc.json <a href="https://devexpress.github.io/testcafe/documentation/reference/configuration-file.html">configuration file</a></li>
</ul>

<p>The last option provides an easy, declarative way to define your test settings. You can store this file in the same folder as your tests. Below is the configuration used in this tutorial:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="p">{</span>
    <span class="dl">"</span><span class="s2">browsers</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
        <span class="dl">"</span><span class="s2">chromium:headless:emulation:device=iPhone 4</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">chromium:headless:emulation:device=iPad Mini</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">chromium:headless</span><span class="dl">"</span>
    <span class="p">],</span>
    <span class="dl">"</span><span class="s2">src</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">test/e2e/**/*</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">screenshots</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">takeOnFails</span><span class="dl">"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">fullPage</span><span class="dl">"</span><span class="p">:</span> <span class="kc">true</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">videoPath</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">videos</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">reporter</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">jenkins</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">output</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">report.xml</span><span class="dl">"</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">appCommand</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">node server.js</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div>
<p>The <em>Browser</em> array contains the list of browsers TestCafe will use to run our test. The <a href="https://devexpress.github.io/testcafe/documentation/guides/concepts/browsers.html#use-chromium-device-emulation">TestCafe browser syntax</a> allows us to specify the mobile devices we want Chromium to emulate.</p>

<p>The <em>name</em> property of the <em>reporter</em> object is set as <em>jenkins</em>, which ensures that the reports generated by TestCafe can be properly parsed by the server.</p>

<p>If you decide not to use a config file, be sure to <a href="https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#-r-nameoutput---reporter-nameoutput">manually set</a> the report format when you launch the tests as follows:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">testcafe chrome test.js <span class="nt">-r</span> jenkins:report.xml
</code></pre></div>
<p>Otherwise, simply run the following command:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">npx testcafe
</code></pre></div><h3><a class="anchor" id="step-5-configure-the-reporter"></a>Step 5. Configure the reporter <a class="permalink" href="#step-5-configure-the-reporter">#</a></h3>
<p>Turn on the <a href="https://plugins.jenkins.io/junit/">JUnit</a> reporter plugin: add the &quot;Publish JUnit test result report&quot; <em>post-build action</em>. To display screenshots and videos alongside your test results, select the &quot;Include links to TestCafe artifacts&quot; option from the &quot;Additional test report features&quot; drop-down menu.</p>

<p>Important: Remember to check the &quot;Retain long standard output/error&quot; box. Otherwise, the reporter plugin will automatically truncate the URLs of your videos and screenshots.</p>

<p><img src="/testcafe/images/jenkins-plugin/junit-reporter-configuration.png" alt="JUnit reporter configuration screen" title=""></p>
<h3><a class="anchor" id="step-6-run-the-build"></a>Step 6. Run the build <a class="permalink" href="#step-6-run-the-build">#</a></h3>
<p>Save the changes to your project and click the &quot;Build now&quot; button on the project page:</p>

<p><img src="/testcafe/images/jenkins-plugin/build-now-button.png" alt="Jenkins Project menu with the Build Now Button highlighted" title=""></p>
<h2><a class="anchor" id="review-the-results"></a>Review the results <a class="permalink" href="#review-the-results">#</a></h2>
<p>After the tests are completed, click the following link on the build page to view the results:</p>

<p><img src="/testcafe/images/jenkins-plugin/test-results-link.png" alt="Test results link" title=""></p>

<p>You will see links to screenshots and videos taken during the test.</p>

<p><img src="/testcafe/images/jenkins-plugin/test-results-view.png" alt="Test results view" title=""></p>

<p>These artifacts instantly indicate if the Cart button is present on the page.</p>
<h2><a class="anchor" id="jenkins-pipeline-integration"></a>Jenkins Pipeline integration <a class="permalink" href="#jenkins-pipeline-integration">#</a></h2>
<p>If you do not wish to use the Jenkins GUI to launch these tests, you can always use the <a href="https://www.jenkins.io/doc/book/pipeline/">Jenkins Pipeline</a>. It lets you declaratively configure your CI/CD setup via a Jenkinsfile - a text file checked into the project&#39;s source control repository. The following is a sample Jenkinsfile to be used with TestCafe:</p>
<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">pipeline</span> <span class="o">{</span>
    <span class="n">agent</span> <span class="n">any</span>

    <span class="n">stages</span> <span class="o">{</span>
        <span class="n">stage</span><span class="o">(</span><span class="err">'</span><span class="nc">Run</span> <span class="no">E2E</span> <span class="n">tests</span><span class="err">'</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">steps</span> <span class="o">{</span>
                <span class="n">sh</span> <span class="err">'</span><span class="n">npm</span> <span class="n">install</span><span class="err">'</span>
                <span class="n">sh</span> <span class="err">'</span><span class="n">npm</span> <span class="n">run</span> <span class="n">test</span><span class="o">-</span><span class="n">e2e</span><span class="err">'</span>
            <span class="o">}</span>
            <span class="n">post</span> <span class="o">{</span>
                <span class="n">always</span> <span class="o">{</span>
                          <span class="n">junit</span> <span class="nl">keepLongStdio:</span> <span class="kc">true</span><span class="o">,</span>
                          <span class="nl">testDataPublishers:</span> <span class="o">[[</span><span class="n">$class</span><span class="o">:</span> <span class="err">'</span><span class="nc">TestCafePublisher</span><span class="err">'</span><span class="o">]],</span>
                          <span class="nl">testResults:</span> <span class="err">'</span><span class="o">*.</span><span class="na">xml</span><span class="err">'</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<p>Note: The <code>test-e2e</code> npm script in this example launches TestCafe. As mentioned earlier in this topic, be sure to manually set the reporter option. For more information on the TestCafe CLI, see the following help topic: <a href="https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html">Command Line Interface</a>.</p>

<hr>

<p>If you enjoyed this guide and would like more tips on debugging, please see the following blog articles: <a href="https://devexpress.github.io/testcafe/media/team-blog/how-to-debug-tests-in-testcafe-quick-guide.html">How to Debug Tests in TestCafe: Quick Guide</a> and <a href="https://devexpress.github.io/testcafe/media/team-blog/how-to-speed-up-debugging-in-testcafe-tips-and-tricks.html">How to speed up debugging in TestCafe: Tips and Tricks</a>.</p>

        </article>
        <div id="back-to-posts-link">
            <p><a href="../../media/team-blog/">Back to Post List</a></p>
        </div>
        <!-- <div id="disqus_thread"></div> -->
    </div>
</main>

<!-- 
<script>
    var disqus_config = function () {
        this.page.url = 'https://devexpress.github.io/testcafe/media/team-blog/introducing-the-testcafe-jenkins-plugin.html';
        this.page.identifier = '/media/team-blog/introducing-the-testcafe-jenkins-plugin';
    };
    (function() {
        var d = document, s = d.createElement('script');
        
        s.src = '//testcafe-blog.disqus.com/embed.js';
        
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
 -->
</div>

    </div>

    <footer class="site-footer">
    <div class="site-footer-content">
        <div class="footer-links">
            <div class="footer-link-content">
                <div class="link"><a href="/testcafe/documentation/">Docs</a></div>
                <div class="link"><a href="/testcafe/media/team-blog/">Blog</a></div>
                <div class="link"><a href="/testcafe/faq/">FAQ</a></div>
                <div class="link"><a href="/testcafe/support/">Support</a></div>
                <div class="link"><a href="/testcafe/roadmap/">Roadmap</a></div>
                <div class="link"><a href="/testcafe/release-notes/">Release Notes</a></div>
                <div class="link"><a href="https://devexpress.com/products/testcafestudio">TestCafe Studio</a></div>
            </div>
        </div>
        <div class="footer-icons">
            <div class="icon"><a href="https://twitter.com/DXTestCafe"><img src="/testcafe/images/twitter-footer.svg"/></a></div>
            <div class="icon"><a href="https://github.com/DevExpress/testcafe"><img src="/testcafe/images/github-footer.svg"/></a></div>
        </div>
        <div class="footer-legal">
            Use of this site constitutes acceptance of our <a href="https://www.devexpress.com/aboutus/privacy-policy.xml"  target="_blank">Privacy Policy</a><br/>
            Copyright © 2012–2020 Developer Express Inc.</p>
        </div>
    </div>
</footer>


    
<script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
<script type="text/javascript"> var search = docsearch({
     apiKey: '938fb7894c0af8c01af3e2b4c53d4bdd',
     indexName: 'testcafe',
     inputSelector: '#search',
     debug: false // Set debug to true if you want to inspect the dropdown
 });

 search.autocomplete.on('autocomplete:opened', function(e) {
     var searchInput = document.querySelector('#search');
     var dropdown    = document.querySelector('.ds-dropdown-menu');
     
     if(searchInput && dropdown) {
         dropdown.style.maxWidth = "none";
         dropdown.style.width = searchInput.offsetWidth + "px";
     }
 });
</script> 

  </body>

</html>
