---
layout: docs
title: Intercepting and Mocking HTTP Requests
permalink: /documentation/test-api/intercepting-and-mocking-http-requests/
checked: false
---
# Intercepting and Mocking HTTP Requests

This topic describes how you can handle HTTP requests in your tests. TestCafe allows you to log them and mock the responses out of the box. You can also create a custom HTTP request hook, which allows you, for instance, to emulate Kerberos or client certificate authentication.

* [Logging HTTP Requests](logging-http-requests.md)
* [Mocking HTTP Responses](mocking-http-responses.md)
* [Creating a Custom HTTP Request Hook](creating-a-custom-http-request-hook.md)
* [Specifying Which Requests are Handled by the Hook](specifying-which-requests-are-handled-by-the-hook.md)
* [Attaching Hooks to Tests and Fixtures](attaching-hooks-to-tests-and-fixtures.md)

## Logging HTTP Requests

If you need to record the HTTP requests sent and responses received by the tested web app, use the request logger. For instance, you may want to make sure that every resource on the page loads successfully, i.e. no request ends with `404` status code.

```js
import { Selector, RequestLogger } from 'testcafe';

const logger = RequestLogger();

fixture `Fixture`
    .page('https://devexpress.github.io/testcafe/example')
    .requestHooks(logger);

test('test', async t => {
    // NOTE: do some test actions or wait for window.load event
    await t.expect(logger.count(r => r.response.statusCode === 404)).eql(0);
});
```

For more information, see [Logging HTTP Requests](logging-http-requests.md).

## Mocking HTTP Responses

Use TestCafe request mocker to substitute for infrastructure that is difficult to deploy or that you don't wish to use when testing. This can be a 3rd party service that charges you per pageview. Or just an analytics service, which is not meant to collect pageviews generated by tests.

```js
import { Selector, RequestMock } from 'testcafe';

const mock = RequestMock()
    .onRequestTo('http://<site.url>/collect-analytics')
    .respond({ status: 'complete' }, 200);

fixture `Fixture`
    .page('http://<site.url>/');

test('test', async t => {
    await t
        .typeText('.username', '<username>')
        .typeText('.password', '<password>')
        .click('.loginBtn');
});
```

For more information, see [Mocking HTTP Responses](mocking-http-responses.md).

## Creating a Custom HTTP Request Hook

If you need to handle HTTP requests in a custom way, you can create your own request hook.

```js

```

For more information, see [Creating a Custom HTTP Request Hook](creating-a-custom-http-request-hook.md).