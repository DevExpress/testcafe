<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <title>TestCafe v0.18.0 Released - Angular Selectors, Using Multiple Reporters, etc | TestCafe</title>

  <meta name="description" content="TestCafe v0.18.0 Released: Angular Selectors, Using Multiple Reporters, etcWith this release, we have prepared a bunch of useful things. We have put finishin...">
  <meta name="viewport" content="width=device-width">

  <meta property="og:image" content="https://raw.githubusercontent.com/DevExpress/testcafe-gh-page-assets/master/src/images/testcafe-ogp-icon.png">
  <meta property="og:type" content="website" />
  <meta property="og:url" content="http://devexpress.github.io/testcafe/blog/testcafe-v0-18-0-released.html" />
  <meta property="og:title" content="TestCafe v0.18.0 Released - Angular Selectors, Using Multiple Reporters, etc | TestCafe" />

  <link rel="shortcut icon" href="/testcafe/favicon.ico">
  <link rel="stylesheet" href="/testcafe/css/main.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.0.0/styles/docco.min.css">
  <link rel="canonical" href="http://devexpress.github.io/testcafe/blog/testcafe-v0-18-0-released.html">
  <link rel="alternate" type="application/rss+xml" title="TestCafe" href="http://devexpress.github.io/testcafe/feed.xml">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.0.0/highlight.min.js"></script>
  <script defer src="https://buttons.github.io/buttons.js"></script>
  <script defer type="text/javascript" src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-2.2.3.min.js"></script>
  <script src="/testcafe/scripts/mobile-detect.min.js" type="text/javascript"></script>
  <script>
     var md             = new MobileDetect(window.navigator.userAgent);
     var isMobileDevice = !!md.mobile();
  </script>
  <script>
      document.addEventListener('DOMContentLoaded', function (e) {
          hljs.initHighlightingOnLoad();
      });
  </script>

  
  <script>
    // Google Analytics
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-83678642-1', 'auto');
    ga('send', 'pageview');
  </script>
  

  
  
  

  <script>
    function linkCss (href) {
        var link  = document.createElement('link');
        var html  = document.querySelector('html');
        var head  = document.head;

        link.rel  = 'stylesheet';
        link.type = 'text/css';
        link.href = href;
        link.media = 'all';

        head.appendChild(link);

        window.addEventListener('load', function () {
            html.style.display = 'block';
        });

        html.style.display = 'none';
    }
  </script>
    
    
    <script>
        if (isMobileDevice) {
            document.addEventListener('DOMContentLoaded', function (e) {
                var siteNav         = document.querySelector('.site-nav');
                var hamburgerButton = document.querySelector('.hamburger-button');

                hamburgerButton.addEventListener('click', function (e) {
                    if (hamburgerButton.className.indexOf('active') !== -1) {
                        hamburgerButton.className = hamburgerButton.className.replace(' active', '');
                        siteNav.className = siteNav.className.replace(' active', '');
                        document.documentElement.style.overflowY = 'scroll';
                    }
                    else {
                        hamburgerButton.className += ' active';
                        siteNav.className += ' active';
                        document.documentElement.style.overflowY = 'hidden';
                    }
                });

                var docTopNav          = document.querySelector('.doc-top-nav');
                var siteNav            = document.querySelector('.site-nav');
                var docMenuItem        = document.querySelector('.site-nav-tab');
                var mainMenuSecondItem = document.querySelector('.site-nav-tab:nth-child(2)');

                siteNav.insertBefore(docTopNav, mainMenuSecondItem);

                var docMenuItemIcon = document.createElement('div');

                docMenuItemIcon.className = 'doc-menu-item-icon';
                docMenuItem.appendChild(docMenuItemIcon);

                

                docMenuItem.addEventListener('click', function (e) {
                    if (docTopNav.className.indexOf('expanded') !== -1) {
                        docMenuItem.className = docMenuItem.className.replace(' expanded', '');
                        docTopNav.className = docTopNav.className.replace(' expanded', '');
                    }
                    else {
                        docMenuItem.className += ' expanded';
                        docTopNav.className += ' expanded';
                    }
                    e.preventDefault();
                });
            });

            linkCss('/testcafe/css/mobile.css');
        }
    </script>
    

  

  
    
    <script>
        if (document.images) {
            img1 = new Image();
            img1.src = '/testcafe/images/test-cafe-logo.png';
        }
    </script>
  
    <script>
        function initHeader(siteHeader, contentWrapper, docTopMenu, article, gs) {
            var MIN_BODY_WIDTH = 1230;

            function updateHeader() {
                var bodyMinimized = document.body.clientWidth === MIN_BODY_WIDTH;

                

                siteHeader.style.position = bodyMinimized ? 'static' : '';

                if(docTopMenu)
                    docTopMenu.style.position = bodyMinimized ? 'static' : '';

                if(contentWrapper)
                    contentWrapper.style.paddingTop = bodyMinimized ? '0' : '';

                if(article && !isMobileDevice)
                    article.style.marginTop = bodyMinimized ? '21px' : '72px';

                if(gs && !isMobileDevice)
                    gs.style.paddingTop = bodyMinimized ? '21px' : '72px';
            }

            updateHeader();
            window.addEventListener('scroll', updateHeader);
            window.addEventListener('resize', updateHeader);
        }
        document.addEventListener('DOMContentLoaded', function (e) {
            var contentWrapper = document.querySelector('.container');
            var siteHeader     = document.querySelector('.site-header');
            var docTopMenu     = document.querySelector('.doc-top-nav');
            var article        = document.querySelector('.doc');
            var gs             = document.querySelector('.gs');

            if(siteHeader)
                initHeader(siteHeader, contentWrapper, docTopMenu, article, gs);
        });
    </script>
</head>


  <body>
    <div class="page-content-wrapper">

      <header class="site-header fixed">
  <div class="site-header-content">
    <a class="site-logo" href="/testcafe/"></a>
    <div class="hamburger-button">
        <div class="hamburger-icon"></div>
    </div>
    <nav class="site-nav">
        
          
          <div class="site-nav-tab ">
            <a class="page-link" href="/testcafe/documentation/getting-started/">Documentation</a>
          </div>
        
          
          <div class="site-nav-tab ">
            <a class="page-link" href="https://github.com/DevExpress/testcafe" target="_blank">GitHub</a>
          </div>
        
          
          <div class="site-nav-tab ">
            <a class="page-link" href="/testcafe/faq/">FAQ</a>
          </div>
        
          
          <div class="site-nav-tab active">
            <a class="page-link" href="/testcafe/blog/">Release Notes</a>
          </div>
        
          
          <div class="site-nav-tab ">
            <a class="page-link" href="https://github.com/DevExpress/testcafe/issues" target="_blank">Issues</a>
          </div>
        
          
          <div class="site-nav-tab ">
            <a class="page-link" href="https://stackoverflow.com/questions/tagged/testcafe" target="_blank">Q&amp;A</a>
          </div>
        
          
          <div class="site-nav-tab ">
            <a class="page-link" id="studio-link" href="https://testcafe-studio.devexpress.com" target="_blank">TestCafe Studio</a>
          </div>
        
      <a id="twitter-button" href="https://twitter.com/dxtestcafe" target="_blank"></a>
      <div id="search-icon"></div>
      <div class="star-button">
        <a class="github-button" href="https://github.com/DevExpress/testcafe" data-size="large" data-count-href="/DevExpress/testcafe/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star DevExpress/testcafe on GitHub"><span style="color:#ffffff">Star</span></a>
      </div>
      <div id="search-panel" class="hidden">
          <input type="text" placeholder="Search query" id="search"/>
          <div id="close-search"></div>
      </div>
    </nav>
  </div>
</header>

<script>
  function has(parentEl, el)  {
    var descendants = parentEl.getElementsByTagName('*');
    
    for(i = 0; i < descendants.length; i++) 
        if(descendants[i] === el) return true;

    return false;
  }

  function clickOutsideBox(e, box) {
      return box !== e.target && !has(box, e.target);
  }  

  function closeSearchBox(e) {
      if(clickOutsideBox(e, searchPanel) && searchPanel.className.indexOf('hidden') === -1) 
          searchPanel.className += ' hidden';
  }

  var searchButton      = document.getElementById('search-icon');
  var searchPanel       = document.getElementById('search-panel');
  var searchInput       = document.getElementById('search');
  var closeSearchButton = document.getElementById('close-search');

  searchButton.addEventListener('click', function () {
      searchPanel.className = searchPanel.className.replace(/hidden/,'');
      searchInput.focus();      
  });
  
  closeSearchButton.addEventListener('click', function () {
      searchPanel.className += ' hidden';
  });

  window.addEventListener('mousedown', closeSearchBox);        
  window.addEventListener('touchstart', closeSearchBox);

  if (window.isMobileDevice) {
      function closeHamburgerMenuBox(e) {
          if(clickOutsideBox(e, hamburgerMenu) && clickOutsideBox(e, hamburgerButton) && hamburgerMenu.className.indexOf('active') !== -1) {
              hamburgerMenu.className = hamburgerMenu.className.replace(' active', '');
              hamburgerButton.className = hamburgerButton.className.replace(' active', '');
              document.documentElement.style.overflowY = 'scroll';
          }
      }

      var hamburgerMenu = document.querySelector('.site-nav');
      var hamburgerButton = document.querySelector('.hamburger-button');

      window.addEventListener('mousedown', closeHamburgerMenuBox);        
      window.addEventListener('touchstart', closeHamburgerMenuBox);

      window.addEventListener('DOMContentLoaded', function (e) {
          var docNav = document.querySelector('.doc-nav');

          if(docNav) {
              function closeDocNav(e) {
                  if(clickOutsideBox(e, docNav) && clickOutsideBox(e, toggleNavButton) && docNav.className.indexOf('active') !== -1) {
                      docNav.className = docNav.className.replace(' active', '');
                      document.documentElement.style.overflowY = 'scroll';
                  }
              }

              var toggleNavButton = document.querySelector('.toggle-nav-button');

              window.addEventListener('mousedown', closeDocNav);        
              window.addEventListener('touchstart', closeDocNav);
          }
      });
  }
</script>

<script>
  var studioLink = document.getElementById('studio-link');

  studioLink.addEventListener('click', function () {
      ga('send', 'event', 'topMenu', 'studioLinkClicked');
  });
</script>

<div class="doc-top-nav">
  <div class="doc-top-nav-content">
    <div class="doc-top-nav-wrapper">
      
        <div class="doc-top-nav-tab " >
          <a href="/testcafe/documentation/getting-started/">Getting Started</a>      
        </div>
      
        <div class="doc-top-nav-tab " >
          <a href="/testcafe/documentation/using-testcafe/">Using TestCafe</a>      
        </div>
      
        <div class="doc-top-nav-tab " >
          <a href="/testcafe/documentation/test-api/">Test API</a>      
        </div>
      
        <div class="doc-top-nav-tab " >
          <a href="/testcafe/documentation/extending-testcafe/">Extending TestCafe</a>      
        </div>
      
        <div class="doc-top-nav-tab " >
          <a href="/testcafe/documentation/recipes/">Recipes</a>      
        </div>
      
    </div>
  </div>
</div>


      <div class="container">
    <main>
    <div class="post">
        <div class="post-date">
            OCT 10, 2017
        </div>
        <article class="post-content">
            <h1>TestCafe v0.18.0 Released: Angular Selectors, Using Multiple Reporters, etc</h1>
<p>With this release, we have prepared a bunch of useful things. We have put finishing touches on Angular selectors to let you address page elements on Angular websites using the component tree. We have also made it possible to output reports to multiple channels (like console + file). Read on to learn about more things we have for you.</p>

<!--more-->
<h2><a class="anchor" name="enhancements"></a>Enhancements <a class="permalink" href="#enhancements">#</a></h2><h3><a class="anchor" name="angular-selectors-testcafe-angular-selectors"></a>⚙ Angular Selectors (<a href="https://github.com/DevExpress/testcafe-angular-selectors">testcafe-angular-selectors</a>) <a class="permalink" href="#angular-selectors-testcafe-angular-selectors">#</a></h3>
<p>In addition to AngularJS selectors we shipped earlier, we have prepared selectors for Angular 2+ websites.</p>

<p>They are included in the same <code>testcafe-angular-selectors</code> module.</p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh">npm install testcafe-angular-selectors
</code></pre></div>
<p>You can use Angular 2+ selectors as regular TestCafe selectors. When creating such a selector, provide the component name to the <code>AngularSelector</code> constructor. You can pass nested component names as well.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">import</span> <span class="p">{</span> <span class="nx">AngularSelector</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'testcafe-angular-selectors'</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">listItemComponent</span> <span class="o">=</span> <span class="nx">AngularSelector</span><span class="p">(</span><span class="s1">'list list-item'</span><span class="p">);</span>
</code></pre></div>
<p>Note that before starting a test, you need to wait until the component tree is loaded. Use the <code>waitForAngular</code> function for this.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">import</span> <span class="p">{</span> <span class="nx">AngularSelector</span><span class="p">,</span> <span class="nx">waitForAngular</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'testcafe-angular-selectors'</span><span class="p">;</span>

<span class="nx">fixture</span> <span class="err">`</span><span class="nx">App</span> <span class="nx">tests</span><span class="err">`</span>
    <span class="p">.</span><span class="nx">page</span> <span class="err">`</span><span class="nx">http</span><span class="err">:</span><span class="c1">//angular-app-url`</span>
    <span class="p">.</span><span class="nx">beforeEach</span><span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">await</span> <span class="nx">waitForAngular</span><span class="p">();</span>
    <span class="p">});</span>

<span class="nx">test</span><span class="p">(</span><span class="s1">'test'</span><span class="p">,</span> <span class="nx">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">firstListItem</span> <span class="o">=</span> <span class="nx">AngularSelector</span><span class="p">(</span><span class="s1">'list list-item'</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p>For details, see <a href="https://github.com/DevExpress/testcafe-angular-selectors/blob/master/angular-selector.md">Angular Selector Extentions</a>.</p>
<h3><a class="anchor" name="testing-in-headless-firefox"></a>⚙ Testing in headless Firefox <a class="permalink" href="#testing-in-headless-firefox">#</a></h3>
<p>In addition to Chrome headless, we have added support for testing in <a href="https://developer.mozilla.org/en-US/Firefox/Headless_mode">headless</a> Firefox (version 56+).</p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh">testcafe firefox:headless tests/sample-fixture.js
</code></pre></div><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">runner</span>
    <span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="s1">'tests/sample-fixture.js'</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">browsers</span><span class="p">(</span><span class="s1">'firefox:headless'</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">run</span><span class="p">();</span>
</code></pre></div><h3><a class="anchor" name="outputting-test-results-to-multiple-channels-1412"></a>⚙ Outputting test results to multiple channels (<a href="https://github.com/DevExpress/testcafe/issues/1412">#1412</a>) <a class="permalink" href="#outputting-test-results-to-multiple-channels-1412">#</a></h3>
<p>If you need a report to be printed in the console and saved to a <code>.json</code> file,
you can now do this by specifying multiple reporters when running tests.</p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh">testcafe all tests/sample-fixture.js -r spec,json:report.json
</code></pre></div><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">stream</span> <span class="o">=</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">createWriteStream</span><span class="p">(</span><span class="s1">'report.json'</span><span class="p">);</span>

<span class="nx">runner</span>
    <span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="s1">'tests/sample-fixture.js'</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">browsers</span><span class="p">(</span><span class="s1">'chrome'</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">reporter</span><span class="p">(</span><span class="s1">'spec'</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">reporter</span><span class="p">(</span><span class="s1">'json'</span><span class="p">,</span> <span class="nx">stream</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">run</span><span class="p">()</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">failedCount</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">stream</span><span class="p">.</span><span class="nx">end</span><span class="p">();</span>
    <span class="p">});</span>
</code></pre></div><h3><a class="anchor" name="entering-the-debug-mode-when-a-test-fails-1608"></a>⚙ Entering the debug mode when a test fails (<a href="https://github.com/DevExpress/testcafe/issues/1608">#1608</a>) <a class="permalink" href="#entering-the-debug-mode-when-a-test-fails-1608">#</a></h3>
<p>TestCafe can now automatically switch to the debug mode whenever a test fails. Test execution will be paused, so that you can explore the tested page to determine the cause of the fail.</p>

<p>To enable this behavior, use the <code>--debug-on-fail</code> flag in the command line or the <code>debugOnFail</code> option in the API.</p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh">testcafe chrome tests/fixture.js --debug-on-fail
</code></pre></div><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">runner</span><span class="p">.</span><span class="nx">run</span><span class="p">({</span> <span class="na">debugOnFail</span><span class="p">:</span> <span class="kc">true</span> <span class="p">});</span>
</code></pre></div><h3><a class="anchor" name="interacting-with-the-tested-page-in-debug-mode-1848"></a>⚙ Interacting with the tested page in debug mode (<a href="https://github.com/DevExpress/testcafe/issues/1848">#1848</a>) <a class="permalink" href="#interacting-with-the-tested-page-in-debug-mode-1848">#</a></h3>
<p>When debugging your tests, you can now interact with the tested page. Click the <strong>Unlock page</strong> button in the page footer to enable interaction.</p>

<p><img src="../images/unlock-page-button.png" alt="Unlock page button"></p>

<p>After that, you can do anything with the webpage. This gives you additional powers to detect problems in your tests.</p>

<p>Click <strong>Resume</strong> to continue running the test or click <strong>Next Step</strong> to step over.</p>
<h3><a class="anchor" name="chrome-and-firefox-are-opened-with-clean-profiles-by-default-1623"></a>⚙ Chrome and Firefox are opened with clean profiles by default (<a href="https://github.com/DevExpress/testcafe/issues/1623">#1623</a>) <a class="permalink" href="#chrome-and-firefox-are-opened-with-clean-profiles-by-default-1623">#</a></h3>
<p>TestCafe now opens Chrome and Firefox with empty profiles to eliminate the influence of profile settings and extensions on test running.</p>

<p>However, you can <strong>return to the previous behavior</strong> by using the <code>:userProfile</code> browser option.</p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh">testcafe firefox:userProfile tests/test.js
</code></pre></div><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">runner</span>
    <span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="s1">'tests/fixture1.js'</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">browsers</span><span class="p">(</span><span class="s1">'firefox:userProfile'</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">run</span><span class="p">();</span>
</code></pre></div><h3><a class="anchor" name="customizable-timeout-to-wait-for-the-windowload-event-1645"></a>⚙ Customizable timeout to wait for the <code>window.load</code> event (<a href="https://github.com/DevExpress/testcafe/issues/1645">#1645</a>) <a class="permalink" href="#customizable-timeout-to-wait-for-the-windowload-event-1645">#</a></h3>
<p>Previously, TestCafe started a test when the <code>DOMContentLoaded</code> event was raised. However, there are many pages that execute some kind of initialization code on the <code>window.load</code> event (which is raised after <code>DOMContentLoaded</code> because it waits for all stylesheets, images and subframes to load). In this instance, you need to wait for the <code>window.load</code> event to fire before running tests.</p>

<p>With this release, TestCafe waits for the <code>window.load</code> event for <code>3</code> seconds.
We have also added a <code>pageLoadTimeout</code> setting that allows you to customize this interval.
You can set it to <code>0</code> to skip waiting for <code>window.load</code>.</p>

<p>The following examples show how to use the <code>pageLoadTimeout</code> setting from the command line and API.</p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh">testcafe chrome test.js --page-load-timeout 0
</code></pre></div><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">runner</span><span class="p">.</span><span class="nx">run</span><span class="p">({</span>
    <span class="na">pageLoadTimeout</span><span class="p">:</span> <span class="mi">0</span>
<span class="p">});</span>
</code></pre></div>
<p>You can also use the <code>setPageLoadTimeout</code> method in test API to set the timeout for an individual test.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">fixture</span> <span class="err">`</span><span class="nx">Page</span> <span class="nx">load</span> <span class="nx">timeout</span><span class="err">`</span>
    <span class="p">.</span><span class="nx">page</span> <span class="err">`</span><span class="nx">http</span><span class="err">:</span><span class="c1">//devexpress.github.io/testcafe/example/`;</span>

<span class="nx">test</span><span class="p">(</span><span class="err">`</span><span class="nx">Page</span> <span class="nx">load</span> <span class="nx">timeout</span><span class="err">`</span><span class="p">,</span> <span class="nx">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">await</span> <span class="nx">t</span>
        <span class="p">.</span><span class="nx">setPageLoadTimeout</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">navigateTo</span><span class="p">(</span><span class="s1">'http://devexpress.github.io/testcafe/'</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><h3><a class="anchor" name="access-messages-output-by-the-tested-app-to-the-browser-console-1738"></a>⚙ Access messages output by the tested app to the browser console (<a href="https://github.com/DevExpress/testcafe/issues/1738">#1738</a>) <a class="permalink" href="#access-messages-output-by-the-tested-app-to-the-browser-console-1738">#</a></h3>
<p>You can now obtain messages that the tested app outputs to the browser console. This is useful if your application or the framework it uses posts errors, warnings or other informative messages into the console.</p>

<p>Use the <code>t.getBrowserConsoleMessages</code> method that returns the following object.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="p">{</span>
    <span class="nl">error</span><span class="p">:</span> <span class="p">[</span><span class="s2">"Cannot access the 'db' database. Wrong credentials."</span><span class="p">,</span> <span class="s1">'...'</span><span class="p">],</span> <span class="c1">// error messages</span>
    <span class="nx">warn</span><span class="err">:</span> <span class="p">[</span><span class="s1">'The setTimeout property is deprecated'</span><span class="p">,</span> <span class="s1">'...'</span><span class="p">],</span>                <span class="c1">// warning messages</span>
    <span class="nx">log</span><span class="err">:</span> <span class="p">[</span><span class="s1">'[09:12:08] Logged in'</span><span class="p">,</span> <span class="s1">'[09:25:43] Changes saved'</span><span class="p">,</span> <span class="s1">'...'</span><span class="p">],</span>      <span class="c1">// log messages</span>
    <span class="nx">info</span><span class="err">:</span> <span class="p">[</span><span class="s1">'The application was updated since your last visit.'</span><span class="p">,</span> <span class="s1">'...'</span><span class="p">]</span>    <span class="c1">// info messages</span>
<span class="p">}</span>
</code></pre></div>
<p>Note that this method returns only messages posted via the <code>console.error</code>, <code>console.warn</code>, <code>console.log</code> and <code>console.info</code> methods. Messages output by the browser (like when an unhandled exception occurs on the page) will not be returned.</p>

<p>For instance, consider the React&#39;s typechecking feature, <a href="https://reactjs.org/docs/typechecking-with-proptypes.html">PropTypes</a>. You can use it to check that you assign valid values to the component&#39;s props. If a <code>PropTypes</code> rule is violated, React posts an error into the JavaScript console.</p>

<p>The following example shows how to check the React prop types for errors using the <code>t.getBrowserConsoleMessages</code> method.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="c1">// check-prop-types.js</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">t</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'testcafe'</span><span class="p">;</span>

<span class="kr">export</span> <span class="k">default</span> <span class="nx">async</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="p">{</span> <span class="nx">error</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">t</span><span class="p">.</span><span class="nx">getBrowserConsoleMessages</span><span class="p">();</span>

    <span class="nx">await</span> <span class="nx">t</span><span class="p">.</span><span class="nx">expect</span><span class="p">(</span><span class="nx">error</span><span class="p">[</span><span class="mi">0</span><span class="p">]).</span><span class="nx">notOk</span><span class="p">();</span>
<span class="p">}</span>

<span class="c1">// test.js</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">Selector</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'testcafe'</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">checkPropTypes</span> <span class="nx">from</span> <span class="s1">'./check-prop-types'</span><span class="p">;</span>

<span class="nx">fixture</span> <span class="err">`</span><span class="nx">react</span> <span class="nx">example</span><span class="err">`</span>
    <span class="p">.</span><span class="nx">page</span> <span class="err">`</span><span class="nx">http</span><span class="err">:</span><span class="c1">//localhost:8080/`  // https://github.com/mzabriskie/react-example</span>
    <span class="p">.</span><span class="nx">afterEach</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">checkPropTypes</span><span class="p">());</span>

<span class="nx">test</span><span class="p">(</span><span class="s1">'test'</span><span class="p">,</span> <span class="nx">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">await</span> <span class="nx">t</span>
        <span class="p">.</span><span class="nx">typeText</span><span class="p">(</span><span class="nx">Selector</span><span class="p">(</span><span class="s1">'.form-control'</span><span class="p">),</span> <span class="s1">'devexpress'</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="nx">Selector</span><span class="p">(</span><span class="s1">'button'</span><span class="p">).</span><span class="nx">withText</span><span class="p">(</span><span class="s1">'Go'</span><span class="p">))</span>
        <span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="nx">Selector</span><span class="p">(</span><span class="s1">'h4'</span><span class="p">).</span><span class="nx">withText</span><span class="p">(</span><span class="s1">'Organizations'</span><span class="p">));</span>
<span class="p">});</span>
</code></pre></div><h3><a class="anchor" name="defining-drag-end-point-on-the-destination-element-982"></a>⚙ Defining drag end point on the destination element (<a href="https://github.com/DevExpress/testcafe/issues/982">#982</a>) <a class="permalink" href="#defining-drag-end-point-on-the-destination-element-982">#</a></h3>
<p>The <code>t.dragToElement</code> action can now drop a dragged element at any point inside the destination element.
You can specify the target point using the <code>destinationOffsetX</code> and <code>destinationOffsetY</code> options.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">import</span> <span class="p">{</span> <span class="nx">Selector</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'testcafe'</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">fileIcon</span>      <span class="o">=</span> <span class="nx">Selector</span><span class="p">(</span><span class="s1">'.file-icon'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">directoryPane</span> <span class="o">=</span> <span class="nx">Selector</span><span class="p">(</span><span class="s1">'.directory'</span><span class="p">);</span>

<span class="nx">fixture</span> <span class="err">`</span><span class="nx">My</span> <span class="nx">Fixture</span><span class="err">`</span>
    <span class="p">.</span><span class="nx">page</span> <span class="err">`</span><span class="nx">https</span><span class="err">:</span><span class="c1">//example.com/`;</span>

<span class="nx">test</span><span class="p">(</span><span class="s1">'My Test'</span><span class="p">,</span> <span class="nx">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">await</span> <span class="nx">t</span>
        <span class="p">.</span><span class="nx">dragToElement</span><span class="p">(</span><span class="nx">fileIcon</span><span class="p">,</span> <span class="nx">directoryPane</span><span class="p">,</span> <span class="p">{</span>
            <span class="na">offsetX</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
            <span class="na">offsetY</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
            <span class="na">destinationOffsetX</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
            <span class="na">destinationOffsetY</span><span class="p">:</span> <span class="mi">50</span><span class="p">,</span>
            <span class="na">modifiers</span><span class="p">:</span> <span class="p">{</span>
                <span class="na">shift</span><span class="p">:</span> <span class="kc">true</span>
            <span class="p">}</span>
        <span class="p">});</span>
<span class="p">});</span>
</code></pre></div><h3><a class="anchor" name="testcafe-exits-gracefully-when-the-process-is-interrupted-1378"></a>⚙ TestCafe exits gracefully when the process is interrupted (<a href="https://github.com/DevExpress/testcafe/issues/1378">#1378</a>) <a class="permalink" href="#testcafe-exits-gracefully-when-the-process-is-interrupted-1378">#</a></h3>
<p>Previously, TestCafe left browsers open when you exited the process by pressing <code>Ctrl+C</code> in the terminal.
Now TestCafe exits gracefully closing all browsers opened for testing.</p>
<h2><a class="anchor" name="bug-fixes"></a>Bug Fixes <a class="permalink" href="#bug-fixes">#</a></h2>
<ul>
<li>Tests no longer hang in Nightmare (<a href="https://github.com/DevExpress/testcafe/issues/1493">#1493</a>)</li>
<li>The <code>focus</code> event is now raised when clicking links with <code>tabIndex=&quot;0&quot;</code> (<a href="https://github.com/DevExpress/testcafe/issues/1803">#1803</a>)</li>
<li>Headless Chrome processes no longer hang after test runs (<a href="https://github.com/DevExpress/testcafe/issues/1826">#1826</a>)</li>
<li><code>setFilesToUpload</code> no longer throws a <code>RangeError</code> on websites that use Angular (<a href="https://github.com/DevExpress/testcafe/issues/1731">#1731</a>)</li>
<li>Fixed a bug where an <code>iframe</code> got wrong origin (<a href="https://github.com/DevExpress/testcafe/issues/1753">#1753</a>)</li>
<li><code>document.open</code> now doesn&#39;t throw an error if <code>document.defaultView</code> is <code>null</code> (<a href="https://github.com/DevExpress/testcafe-hammerhead/issues/1272">testcafe-hammerhead/#1272</a>)</li>
<li>No error is thrown when the handler passed to <code>addEventListener</code> is <code>undefined</code> (<a href="https://github.com/DevExpress/testcafe-hammerhead/issues/1251">testcafe-hammerhead/#1251</a>)</li>
<li>An error is no longer raised if the processed element is not extendible (<a href="https://github.com/DevExpress/testcafe-hammerhead/issues/1300">testcafe-hammerhead/#1300</a>)</li>
<li>Fixed a bug where an <code>onclick</code> handler did not work after click on a <code>Submit</code> button (<a href="https://github.com/DevExpress/testcafe-hammerhead/issues/1291">testcafe-hammerhead/#1291</a>)</li>
<li>Images with <code>style = background-image: url(&quot;img.png&quot;);</code> are now loaded correctly (<a href="https://github.com/DevExpress/testcafe-hammerhead/issues/1212">testcafe-hammerhead/#1212</a>)</li>
<li>Documents can now contain two <code>ShadowUI</code> roots (<a href="https://github.com/DevExpress/testcafe-hammerhead/issues/1246">testcafe-hammerhead/#1246</a>)</li>
<li>HTML in an overridden <code>document.write</code> function is now processed correctly (<a href="https://github.com/DevExpress/testcafe-hammerhead/issues/1311">testcafe-hammerhead/#1311</a>)</li>
<li>Elements processing now works for a <code>documentFragment</code> as it is added to the DOM (<a href="https://github.com/DevExpress/testcafe-hammerhead/issues/1334">testcafe-hammerhead/#1334</a>)</li>
</ul>

        </article>
        <div id="back-to-posts-link">
            <p><a href="./">Back to Post List</a></p>
        </div>
        <!-- <div id="disqus_thread"></div> -->
    </div>
</main>

<!-- 
<script>
    var disqus_config = function () {
        this.page.url = 'http://devexpress.github.io/testcafe/blog/testcafe-v0-18-0-released.html';
        this.page.identifier = '/blog/testcafe-v0-18-0-released';
    };
    (function() {
        var d = document, s = d.createElement('script');
        
        s.src = '//testcafe-blog.disqus.com/embed.js';
        
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
 -->
</div>

      <div class="push"></div>
    </div>

    <footer class="site-footer">
    <div class="site-footer-content">
        <div class="footer-col-1">
            <p><strong>TestCafe</strong>: A node.js tool to automate end-to-end web testing<br/>
            Use of this site constitutes acceptance of our <a href="https://www.devexpress.com/aboutus/privacy-policy.xml"  target="_blank">Privacy Policy</a><br/>
            Copyright © 2012-2018 Developer Express Inc.</p>
        </div>
    </div>
</footer>


    <script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
<script type="text/javascript"> var search = docsearch({
     apiKey: '938fb7894c0af8c01af3e2b4c53d4bdd',
     indexName: 'testcafe',
     inputSelector: '#search',
     debug: false // Set debug to true if you want to inspect the dropdown
 });

 search.autocomplete.on('autocomplete:opened', function(e) {
     var searchInput = document.querySelector('#search');
     var dropdown    = document.querySelector('.ds-dropdown-menu');
     
     if(searchInput && dropdown) {
         dropdown.style.maxWidth = "none";
         dropdown.style.width = searchInput.offsetWidth + "px";
     }
 });
</script> 

    <script defer src="/testcafe/scripts/cookie-notice.js" type="text/javascript"></script>
<div class="cookie-notice">
    <div class="close-icon"></div>
    <div class="cookie-notice-content">
        <div class="cookie-notice-message">
            <div class="cookie-notice-header">Why We Use Cookies</div>
            <div class="cookie-notice-text">This site uses cookies to make your browsing experience more convenient and personal. Cookies store useful information on your computer to help us improve the efficiency and relevance of our site for you. In some cases, they are essential to making the site work properly. By accessing this site, you consent to the use of cookies. For more information, refer to DevExpress' <a href="https://www.devexpress.com/AboutUs/privacy-policy.xml" target="_blank">privacy policy</a> and <a href="https://www.devexpress.com/AboutUs/cookie-policy.xml" target="_blank">cookie policy</a>.</div>
        </div>
        <div class="cookie-notice-button">I understand</div>
    </div>
</div>

  </body>

</html>
