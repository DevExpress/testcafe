<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <title>TestCafe v0.22.0 Released | TestCafe</title>

  <meta name="description" content="TestCafe v0.22.0 ReleasedWrite tests in CoffeeScript, view failed selector methods in test run reports and detect server-side errors and unhandled promise re...">
  <meta name="viewport" content="width=device-width">
  
  <meta property="og:image" content="https://raw.githubusercontent.com/DevExpress/testcafe-gh-page-assets/master/src/images/testcafe-ogp-icon.png">
  <meta property="og:type" content="website" />
  <meta property="og:url" content="http://devexpress.github.io/testcafe/blog/testcafe-v0-22-0-released.html" />
  <meta property="og:title" content="TestCafe v0.22.0 Released | TestCafe" />

  <link rel="shortcut icon" href="/testcafe/favicon.ico">
  <link rel="stylesheet" href="/testcafe/css/main.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.0.0/styles/docco.min.css">
  <link rel="canonical" href="http://devexpress.github.io/testcafe/blog/testcafe-v0-22-0-released.html">
  <link rel="alternate" type="application/rss+xml" title="TestCafe" href="http://devexpress.github.io/testcafe/feed.xml">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.0.0/highlight.min.js"></script>
  <script defer src="https://buttons.github.io/buttons.js"></script>
  <script defer type="text/javascript" src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-2.2.3.min.js"></script>
  <script src="/testcafe/scripts/mobile-detect.min.js" type="text/javascript"></script>
  <script>
      document.addEventListener('DOMContentLoaded', function (e) {
          hljs.initHighlightingOnLoad();
      });
  </script>

  
  <script>
    // Google Analytics
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-83678642-1', 'auto');
    ga('send', 'pageview');
  </script>
  

  
  
  

  

  
    <script>
        if (document.images) {
            img1 = new Image();
            img1.src = '/testcafe/images/test-cafe-logo.png';
        }
    </script>
  
    <script>
        function initHeader(siteHeader, contentWrapper, docTopMenu, article, gs) {
            var MIN_BODY_WIDTH = 1230;

            function updateHeader() {
                var bodyMinimized = document.body.clientWidth === MIN_BODY_WIDTH;

                

                siteHeader.style.position = bodyMinimized ? 'static' : '';

                if(docTopMenu)
                    docTopMenu.style.position = bodyMinimized ? 'static' : '';

                if(contentWrapper)
                    contentWrapper.style.paddingTop = bodyMinimized ? '0' : '';

                if(article)
                    article.style.marginTop = bodyMinimized ? '21px' : '72px';
 
                if(gs)
                    gs.style.paddingTop = bodyMinimized ? '21px' : '72px';
            }

            updateHeader();
            window.addEventListener('scroll', updateHeader);
            window.addEventListener('resize', updateHeader);
        }
        document.addEventListener('DOMContentLoaded', function (e) {
            var contentWrapper = document.querySelector('.container');
            var siteHeader     = document.querySelector('.site-header');
            var docTopMenu     = document.querySelector('.doc-top-nav');
            var article        = document.querySelector('.doc');
            var gs             = document.querySelector('.gs');

            if(siteHeader) 
                initHeader(siteHeader, contentWrapper, docTopMenu, article, gs);
        });
    </script>
</head>


  <body>
    <div class="page-content-wrapper">

      <header class="site-header fixed">
  <div class="site-header-content">
    <a class="site-logo" href="/testcafe/"></a>
    <nav class="site-nav">
        
          
          <div class="site-nav-tab ">
            <a class="page-link" href="/testcafe/documentation/getting-started/">Documentation</a>
          </div>
        
          
          <div class="site-nav-tab ">
            <a class="page-link" href="https://github.com/DevExpress/testcafe" target="_blank">GitHub</a>
          </div>
        
          
          <div class="site-nav-tab ">
            <a class="page-link" href="/testcafe/faq/">FAQ</a>
          </div>
        
          
          <div class="site-nav-tab active">
            <a class="page-link" href="/testcafe/blog/">Release Notes</a>
          </div>
        
          
          <div class="site-nav-tab ">
            <a class="page-link" href="https://github.com/DevExpress/testcafe/issues" target="_blank">Issues</a>
          </div>
        
          
          <div class="site-nav-tab ">
            <a class="page-link" href="https://stackoverflow.com/questions/tagged/testcafe" target="_blank">Q&amp;A</a>
          </div>
        
          
          <div class="site-nav-tab ">
            <a class="page-link" id="studio-link" href="https://testcafe-studio.devexpress.com" target="_blank">TestCafe Studio</a>
          </div>
        
      <a id="twitter-button" href="https://twitter.com/dxtestcafe" target="_blank"></a>
      <div id="search-icon"></div>
      <div class="star-button">
        <a class="github-button" href="https://github.com/DevExpress/testcafe" data-size="large" data-count-href="/DevExpress/testcafe/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star DevExpress/testcafe on GitHub"><span style="color:#ffffff">Star</span></a>
      </div>
      <div id="search-panel" class="hidden">
          <input type="text" placeholder="Search query" id="search"/>
          <div id="close-search"></div>
      </div>
      </nav>
  </div>
</header>

<script>
  function has(parentEl, el)  {
    var descendants = parentEl.getElementsByTagName('*');
    
    for(i = 0; i < descendants.length; i++) 
        if(descendants[i] === el) return true;

    return false;
  }

  function closeSearchBox(e) {
      var clickOutsideSearchBox = searchPanel !== e.target && !has(searchPanel, e.target);

      if(clickOutsideSearchBox && searchPanel.className.indexOf('hidden') === -1) 
          searchPanel.className += ' hidden';
  }

  var searchButton      = document.getElementById('search-icon');
  var searchPanel       = document.getElementById('search-panel');
  var searchInput       = document.getElementById('search');
  var closeSearchButton = document.getElementById('close-search');

  searchButton.addEventListener('click', function () {
      searchPanel.className = searchPanel.className.replace(/hidden/,'');
      searchInput.focus();      
  });
  
  closeSearchButton.addEventListener('click', function () {
      searchPanel.className += ' hidden';
  });

  window.addEventListener('mousedown', closeSearchBox);        
  window.addEventListener('touchstart', closeSearchBox);
</script>

<script>
  var studioLink = document.getElementById('studio-link');

  studioLink.addEventListener('click', function () {
      ga('send', 'event', 'topMenu', 'studioLinkClicked');
  });
</script>





      <div class="container">
    <main>
    <div class="post">
        <div class="post-date">
            SEP  3, 2018
        </div>
        <article class="post-content">
            <h1>TestCafe v0.22.0 Released</h1>
<p>Write tests in CoffeeScript, view failed selector methods in test run reports and detect server-side errors and unhandled promise rejections.</p>

<!--more-->
<h2><a class="anchor" name="enhancements"></a>Enhancements <a class="permalink" href="#enhancements">#</a></h2><h3><a class="anchor" name="coffeescript-support-1556-by-geoffreybooth"></a>⚙ CoffeeScript Support (<a href="https://github.com/DevExpress/testcafe/issues/1556">#1556</a>) by <a href="https://github.com/GeoffreyBooth">@GeoffreyBooth</a> <a class="permalink" href="#coffeescript-support-1556-by-geoffreybooth">#</a></h3>
<p>TestCafe now allows you to write tests in CoffeeScript. You do not need to compile CoffeeScript manually or make any customizations - everything works out of the box.</p>
<div class="highlight"><pre><code class="language-coffee" data-lang="coffee"><span class="nx">import</span> <span class="p">{</span> <span class="nx">Selector</span> <span class="p">}</span> <span class="nx">from</span> <span class="s">'testcafe'</span>

<span class="nx">fixture</span> <span class="s">'CoffeeScript Example'</span>
    <span class="p">.</span><span class="na">page</span> <span class="s">'https://devexpress.github.io/testcafe/example/'</span>

<span class="nx">nameInput</span> <span class="o">=</span> <span class="nx">Selector</span> <span class="s">'#developer-name'</span>

<span class="nx">test</span> <span class="s">'Test'</span><span class="p">,</span> <span class="p">(</span><span class="nx">t</span><span class="p">)</span> <span class="o">=&gt;</span>
    <span class="nx">await</span> <span class="nx">t</span>
        <span class="p">.</span><span class="na">typeText</span><span class="p">(</span><span class="nx">nameInput</span><span class="p">,</span> <span class="s">'Peter'</span><span class="p">)</span>
        <span class="p">.</span><span class="na">typeText</span><span class="p">(</span><span class="nx">nameInput</span><span class="p">,</span> <span class="s">'Paker'</span><span class="p">,</span> <span class="p">{</span> <span class="na">replace</span><span class="o">:</span> <span class="no">true</span> <span class="p">})</span>
        <span class="p">.</span><span class="na">typeText</span><span class="p">(</span><span class="nx">nameInput</span><span class="p">,</span> <span class="s">'r'</span><span class="p">,</span> <span class="p">{</span> <span class="na">caretPos</span><span class="o">:</span> <span class="mi">2</span> <span class="p">})</span>
        <span class="p">.</span><span class="na">expect</span><span class="p">(</span><span class="nx">nameInput</span><span class="p">.</span><span class="na">value</span><span class="p">).</span><span class="na">eql</span> <span class="s">'Parker'</span><span class="p">;</span>
</code></pre></div><h3><a class="anchor" name="failed-selector-method-pinpointed-in-the-report-2568"></a>⚙ Failed Selector Method Pinpointed in the Report (<a href="https://github.com/DevExpress/testcafe/issues/2568">#2568</a>) <a class="permalink" href="#failed-selector-method-pinpointed-in-the-report-2568">#</a></h3>
<p>Now the test run report can identify which selector&#39;s method does not match any DOM element.</p>

<p><img src="../images/failed-selector-report.png" alt="Failed Selector Report"></p>
<h3><a class="anchor" name="fail-on-uncaught-server-errors-2546"></a>⚙ Fail on Uncaught Server Errors (<a href="https://github.com/DevExpress/testcafe/issues/2546">#2546</a>) <a class="permalink" href="#fail-on-uncaught-server-errors-2546">#</a></h3>
<p>Previously, TestCafe ignored uncaught errors and unhandled promise rejections that occurred on the server. Whenever an error or a promise rejection happened, test execution continued.</p>

<p>Starting from v0.22.0, tests fail if a server error or promise rejection is unhandled. To return to the previous behavior, we have introduced the <code>skipUncaughtErrors</code> option. Use the <a href="https://devexpress.github.io/testcafe/documentation/using-testcafe/command-line-interface.html#-u---skip-uncaught-errors">--skip-uncaught-errors</a> flag in the command line or the <a href="https://devexpress.github.io/testcafe/documentation/using-testcafe/programming-interface/runner.html#run">skipUncaughtErrors</a> option in the API.</p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh">testcafe chrome tests/fixture.js --skipUncaughtErrors
</code></pre></div><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">runner</span><span class="p">.</span><span class="nx">run</span><span class="p">({</span><span class="na">skipUncaughtErrors</span><span class="p">:</span><span class="kc">true</span><span class="p">})</span>
</code></pre></div><h3><a class="anchor" name="use-glob-patterns-in-runnersrc-980"></a>⚙ Use Glob Patterns in <code>runner.src</code> (<a href="https://github.com/DevExpress/testcafe/issues/980">#980</a>) <a class="permalink" href="#use-glob-patterns-in-runnersrc-980">#</a></h3>
<p>You can now use <a href="https://github.com/isaacs/node-glob#glob-primer">glob patterns</a> in the <a href="https://devexpress.github.io/testcafe/documentation/using-testcafe/programming-interface/runner.html#src">runner.src</a> method to specify a set of test files.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">runner</span><span class="p">.</span><span class="nx">src</span><span class="p">([</span><span class="s1">'/home/user/tests/**/*.js'</span><span class="p">,</span> <span class="s1">'!/home/user/tests/foo.js'</span><span class="p">]);</span>
</code></pre></div><h2><a class="anchor" name="bug-fixes"></a>Bug Fixes <a class="permalink" href="#bug-fixes">#</a></h2>
<ul>
<li><code>RequestLogger</code> no longer fails when it tries to stringify a null request body (<a href="https://github.com/DevExpress/testcafe/issues/2718">#2718</a>)</li>
<li>Temporary directories are now correctly removed when the test run is finished (<a href="https://github.com/DevExpress/testcafe/issues/2735">#2735</a>)</li>
<li>TestCafe no longer throws <code>ECONNRESET</code> when run against a Webpack project (<a href="https://github.com/DevExpress/testcafe/issues/2711">#2711</a>)</li>
<li>An error is no longer thrown when TestCafe tests Sencha ExtJS applications in IE11 (<a href="https://github.com/DevExpress/testcafe/issues/2639">#2639</a>)</li>
<li>Firefox no longer waits for page elements to appear without necessity (<a href="https://github.com/DevExpress/testcafe/issues/2080">#2080</a>)</li>
<li><code>${BROWSER}</code> in the screenshot pattern now correctly resolves to the browser name (<a href="https://github.com/DevExpress/testcafe/issues/2742">#2742</a>)</li>
<li>The <code>toString</code> function now returns a native string for overridden descriptor ancestors (<a href="https://github.com/DevExpress/testcafe-hammerhead/issues/1713">testcafe-hammerhead/#1713</a>)</li>
<li>The <code>iframe</code> flag is no longer added when a form with <code>target=&quot;_parent&quot;</code> is submitted (<a href="https://github.com/DevExpress/testcafe-hammerhead/issues/1680">testcafe-hammerhead/#1680</a>)</li>
<li>Hammerhead no longer sends request headers in lower case (<a href="https://github.com/DevExpress/testcafe-hammerhead/issues/1380">testcafe-hammerhead/#1380</a>)</li>
<li>The overridden <code>createHTMLDocument</code> method has the right context now (<a href="https://github.com/DevExpress/testcafe-hammerhead/issues/1722">testcafe-hammerhead/#1722</a>)</li>
<li>Tests no longer lose connection (<a href="https://github.com/DevExpress/testcafe-hammerhead/issues/1647">testcafe-hammerhead/#1647</a>)</li>
<li>The case when both the <code>X-Frame-Options</code> header and a CSP with <code>frame-ancestors</code> are set is now handled correctly (<a href="https://github.com/DevExpress/testcafe-hammerhead/issues/1666">testcafe-hammerhead/#1666</a>)</li>
<li>The mechanism that resolves URLs on the client now works correctly (<a href="https://github.com/DevExpress/testcafe-hammerhead/issues/1701">testcafe-hammerhead/#1701</a>)</li>
<li><code>LiveNodeListWrapper</code> now imitates the native behavior correctly (<a href="https://github.com/DevExpress/testcafe-hammerhead/issues/1376">testcafe-hammerhead/#1376</a>)</li>
</ul>

        </article>
        <div id="back-to-posts-link">
            <p><a href="./">Back to Post List</a></p>
        </div>
        <!-- <div id="disqus_thread"></div> -->
    </div>
</main>

<!-- 
<script>
    var disqus_config = function () {
        this.page.url = 'http://devexpress.github.io/testcafe/blog/testcafe-v0-22-0-released.html';
        this.page.identifier = '/blog/testcafe-v0-22-0-released';
    };
    (function() {
        var d = document, s = d.createElement('script');
        
        s.src = '//testcafe-blog.disqus.com/embed.js';
        
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
 -->
</div>

      <div class="push"></div>
    </div>

    <footer class="site-footer">
    <div class="site-footer-content">
        <div class="footer-col-1">
            <p><strong>TestCafe</strong>: A node.js tool to automate end-to-end web testing<br/>
            Use of this site constitutes acceptance of our <a href="https://www.devexpress.com/aboutus/privacy-policy.xml"  target="_blank">Privacy Policy</a><br/>
            Copyright © 2012-2018 Developer Express Inc.</p>
        </div>
    </div>
</footer>


    <script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
<script type="text/javascript"> var search = docsearch({
     apiKey: '938fb7894c0af8c01af3e2b4c53d4bdd',
     indexName: 'testcafe',
     inputSelector: '#search',
     debug: false // Set debug to true if you want to inspect the dropdown
 });

 search.autocomplete.on('autocomplete:opened', function(e) {
     var searchInput = document.querySelector('#search');
     var dropdown    = document.querySelector('.ds-dropdown-menu');
     
     if(searchInput && dropdown) {
         dropdown.style.maxWidth = "none";
         dropdown.style.width = searchInput.offsetWidth + "px";
     }
 });
</script> 

    <script defer src="/testcafe/scripts/cookie-notice.js" type="text/javascript"></script>
<div class="cookie-notice">
    <div class="close-icon"></div>
    <div class="cookie-notice-content">
        <div class="cookie-notice-message">
            <div class="cookie-notice-header">Why We Use Cookies</div>
            <div class="cookie-notice-text">This site uses cookies to make your browsing experience more convenient and personal. Cookies store useful information on your computer to help us improve the efficiency and relevance of our site for you. In some cases, they are essential to making the site work properly. By accessing this site, you consent to the use of cookies. For more information, refer to DevExpress' <a href="https://www.devexpress.com/AboutUs/privacy-policy.xml" target="_blank">privacy policy</a> and <a href="https://www.devexpress.com/AboutUs/cookie-policy.xml" target="_blank">cookie policy</a>.</div>
        </div>
        <div class="cookie-notice-button">I understand</div>
    </div>
</div>

  </body>

</html>
