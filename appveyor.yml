version: "#{build}"
clone_depth: 1

skip_commits:
  message: /^\[docs\]/

environment:
  GULP_TASK: "test-functional-travis-desktop-osx-and-ms-edge"
  NODEJS_VERSION: "stable"
  SAUCE_USERNAME_FUNCTIONAL_DESKTOP:
    secure: 04DMASOQeWMF+eUwJNBqPg==
  SAUCE_ACCESS_KEY_FUNCTIONAL_DESKTOP:
    secure: mB9LKcK7EruRCA1wHKToO8b4yrfDvJHczthYVl/FILGVDgHTP2WWQKva+a3eKgtO

install:
- ps: >-
    Install-Product node $env:NODEJS_VERSION

- cmd: >-
    node --version

    npm --version

    npm install

build: off

# NOTE: We should prerun Firefox to avoid "Refresh Firefox" notification in the tests window.
test_script:
- cmd: >-
    npm test