!function w(R,t){var Y=R.document;!function(a){"use strict";var d,h,r,p,m,i={".js":[],".json":[],".css":[],".html":[]},u="function"==typeof require?require:null;return p=function(t){var e=new Error("Could not find module '"+t+"'");return e.code="MODULE_NOT_FOUND",e},m=function(t,e,n){var o,r;if("function"==typeof t[e+n])return e+n;for(o=0;r=i[n][o];++o)if("function"==typeof t[e+r])return e+r;return null},d=function(t,e,n,o,r,i){var s,l,a,u,c,f;for("."!==(s=(n=n.split("/")).pop())&&".."!==s||(n.push(s),s="");null!=(l=n.shift());)if(l&&"."!==l&&(".."===l?(t=e.pop(),i=i.slice(0,i.lastIndexOf("/"))):(e.push(t),t=t[l],i+="/"+l),!t))throw p(o);if(s&&"function"!=typeof t[s]&&((f=m(t,s,".js"))||(f=m(t,s,".json")),f||(f=m(t,s,".css")),f||(f=m(t,s,".html")),f?s=f:2!==r&&"object"==typeof t[s]&&(e.push(t),t=t[s],i+="/"+s,s="")),!s)return 1!==r&&t[":mainpath:"]?d(t,e,t[":mainpath:"],o,1,i):d(t,e,"index",o,2,i);if(!(c=t[s]))throw p(o);return c.hasOwnProperty("module")?c.module.exports:(a={},c.module=u={exports:a,id:i+"/"+s},c.call(a,a,u,h(t,e,i)),u.exports)},r=function(t,e,n,o){var r,i=n,s=n.charAt(0),l=0;if("/"===s){if(i=i.slice(1),!(t=a["/"])){if(u)return u(n);throw p(n)}o="/",e=[]}else if("."!==s){if(r=i.split("/",1)[0],!(t=a[r])){if(u)return u(n);throw p(n)}o=r,e=[],(i=i.slice(r.length+1))||((i=t[":mainpath:"])?l=1:(i="index",l=2))}return d(t,e,i,n,l,o)},(h=function(e,n,o){return function(t){return r(e,[].concat(n),t,o)}})(a,[],"")}({testcafe:{src:{client:{automation:{"cursor.js":function(t,e,n){t.__esModule=!0;var o=i(n("./deps/testcafe-core")),r=i(n("./deps/testcafe-ui"));function i(t){return t&&t.__esModule?t:{default:t}}var s=o.default.domUtils,l=R.top===R?r.default.cursorUI:r.default.iframeCursorUI;t.default={x:-1,y:-1,currentActiveWindow:R.top,_ensureActiveWindow:function(){if(this.currentActiveWindow!==R&&this.currentActiveWindow!==R.parent){var t=s.findIframeByWindow(this.currentActiveWindow);t&&s.isElementInDocument(t)||(this.currentActiveWindow=R)}},get active(){return this._ensureActiveWindow(),this.currentActiveWindow===R},set activeWindow(t){this.currentActiveWindow=t},get activeWindow(){return this._ensureActiveWindow(),this.currentActiveWindow},get position(){return{x:this.x,y:this.y}},get visible(){return R.top===R&&l.isVisible()},move:function(t,e){return this.x=t,this.y=e,l.move(this.x,this.y)},hide:function(){this.visible&&l.hide()},show:function(){R.top===R&&l.show()},leftButtonDown:function(){return l.leftButtonDown()},rightButtonDown:function(){return l.rightButtonDown()},buttonUp:function(){return l.buttonUp()}},e.exports=t.default},deps:{"hammerhead.js":function(t,e,n){t.__esModule=!0,t.default=R["%hammerhead%"],e.exports=t.default},"testcafe-core.js":function(t,e,n){t.__esModule=!0,t.default=R["%testCafeCore%"],e.exports=t.default},"testcafe-ui.js":function(t,e,n){t.__esModule=!0,t.default=R["%testCafeUI%"],e.exports=t.default}},"errors.js":function(t,e,n){t.__esModule=!0,t.default={elementIsInvisibleError:"elementIsInvisibleError",foundElementIsNotTarget:"foundElementIsNotTarget"},e.exports=t.default},"get-element.js":function(t,e,n){t.__esModule=!0,t.fromPoint=m,t.underCursor=function(){var t=s.default.position;return m(t.x,t.y).then(function(t){return t.element})};var o=l(n("./deps/hammerhead")),r=l(n("./deps/testcafe-core")),i=l(n("./deps/testcafe-ui")),s=l(n("./cursor"));function l(t){return t&&t.__esModule?t:{default:t}}var u=o.default.utils.browser,a=o.default.Promise,c=o.default.nativeMethods,f=r.default.positionUtils,d=r.default.domUtils;function h(t,e,n){var o=null;return i.default.hide(n).then(function(){return o=f.getElementFromPoint(t,e),i.default.show(n)}).then(function(){return o})}function p(t,e,n){var o=f.getElementFromPoint(t,e),r=d.containsElement(n,o)&&c.nodeTextContentGetter.call(o).length;return o&&o===n||r?o:null}function m(n,o,r){var i=R!==R.top,s=null;return h(n,o).then(function(t){s=t;var e=a.resolve(t);return!s&&i&&0<n&&0<o&&(e=e.then(function(){return h(n,o,!0)}).then(function(t){return s=t})),e.then(function(t){return function(t,e){if(!e||!d.isDomElement(e)||!t||t===e)return t;if("tref"===d.getTagName(e))return e;var n,o,r,i="area"===d.getTagName(e)&&d.isImgElement(t);if(u.isFirefox&&i)return n=t,o=e,(r=d.closest(o,"map"))&&r.name===n.useMap.substring(1)?o:n;var s=d.isAnchorElement(e)||d.getParents(e,"a").length,l=s&&d.containsElement(e,t)&&c.nodeTextContentGetter.call(t).length;if(!s||l||!c.nodeTextContentGetter.call(e).length)return t;var a=e.getBoundingClientRect();return p(a.right-1,a.top+1,e)||p(a.left+1,a.bottom-1,e)||t}(t,r)}).then(function(t){return{element:t,corrected:t!==s}})})}},"index.js":function(t,e,n){var o=A(n("./deps/hammerhead")),r=A(n("./playback/scroll")),i=A(n("./playback/click")),s=A(n("./playback/click/select-child")),l=A(n("./playback/dblclick")),a=A(n("./playback/drag/to-offset")),u=A(n("./playback/drag/to-element")),c=A(n("./playback/hover")),f=A(n("./playback/press")),d=A(n("./playback/rclick")),h=A(n("./playback/select/select-text")),p=A(n("./playback/select/select-editable-content")),m=A(n("./playback/type")),g=A(n("./playback/upload")),E=n("../../test-run/commands/options"),v=A(n("./settings")),y=n("./utils/offsets"),b=A(n("./playback/select/calculate-select-text-arguments")),S=A(n("./errors")),_=A(n("./cursor"));function A(t){return t&&t.__esModule?t:{default:t}}t.Scroll=r.default,t.Click=i.default,t.SelectChildClick=s.default,t.DblClick=l.default,t.DragToOffset=a.default,t.DragToElement=u.default,t.Hover=c.default,t.Press=f.default,t.RClick=d.default,t.SelectText=h.default,t.SelectEditableContent=p.default,t.Type=m.default,t.Upload=g.default,t.MouseOptions=E.MouseOptions,t.ClickOptions=E.ClickOptions,t.TypeOptions=E.TypeOptions,t.ERROR_TYPES=S.default,t.AutomationSettings=v.default,t.getOffsetOptions=y.getOffsetOptions,t.calculateSelectTextArguments=b.default,t.cursor=_.default,t.get=n,o.default.nativeMethods.objectDefineProperty.call(R,R,"%testCafeAutomation%",{configurable:!0,value:t}),o.default.on(o.default.EVENTS.evalIframeScript,function(t){return w(t.iframe.contentWindow,!0)})},playback:{click:{"index.js":function(t,e,n){t.__esModule=!0;var o=c(n("../../deps/hammerhead")),r=c(n("../../deps/testcafe-core")),i=c(n("../../deps/testcafe-ui")),s=c(n("../visible-element-automation")),l=n("../../utils/utils"),a=c(n("../../cursor")),u=c(n("../../utils/next-tick"));function c(t){return t&&t.__esModule?t:{default:t}}var f=o.default.Promise,d=o.default.utils.extend,h=o.default.utils.browser,p=o.default.utils.featureDetection,m=o.default.eventSandbox.eventSimulator,g=r.default.domUtils,E=r.default.styleUtils,v=r.default.eventUtils,y=r.default.arrayUtils,b=r.default.delay,S=i.default.selectElement,_=function(o){function r(t,e){!function(t,e){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,o.call(this,t,e));return n.modifiers=e.modifiers,n.caretPos=e.caretPos,n.targetElementParentNodes=[],n.activeElementBeforeMouseDown=null,n.mouseDownElement=null,n.eventState={mousedownPrevented:!1,blurRaised:!1,simulateDefaultBehavior:!0,clickElement:null},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,o),r.prototype._bindMousedownHandler=function(){var n=this;v.bind(this.element,"mousedown",function t(e){n.eventState.mousedownPrevented=e.defaultPrevented,v.preventDefault(e),v.unbind(n.element,"mousedown",t)})},r.prototype._bindBlurHandler=function(e){var n=this;v.bind(e,"blur",function t(){n.eventState.blurRaised=!0,v.unbind(e,"blur",t,!0)},!0)},r.prototype._bindClickHandler=function(n){v.bind(n,"click",function t(e){v.preventDefault(e,!0),v.unbind(n,"click",t)})},r.prototype._raiseTouchEvents=function(t){p.isTouchDevice&&(m.touchstart(t.element,t.options),m.touchend(t.element,t.options))},r.prototype._mousedown=function(n){var o=this;return this.targetElementParentNodes=g.getParents(n.element),this.mouseDownElement=n.element,a.default.leftButtonDown().then(function(){o._raiseTouchEvents(n);var t=g.getActiveElement();o.activeElementBeforeMouseDown=t;var e=(h.isWebKit||h.isIE)&&g.isSelectElement(o.mouseDownElement);return e&&o._bindMousedownHandler(),o._bindBlurHandler(t),o.eventState.simulateDefaultBehavior=m.mousedown(n.element,n.options),!1===o.eventState.simulateDefaultBehavior&&(o.eventState.simulateDefaultBehavior=e&&!o.eventState.mousedownPrevented),o._ensureActiveElementBlur(t)}).then(function(){return o._focus(n)})},r.prototype._ensureActiveElementBlur=function(e){var n=this;return new f(function(t){g.getActiveElement()===e||n.eventState.blurRaised?t():h.isIE&&h.version<12?(0,u.default)().then(function(){n.eventState.blurRaised||m.blur(e),t()}):(m.blur(e),t())})},r.prototype._focus=function(t){if(!1===this.eventState.simulateDefaultBehavior)return f.resolve();var e=g.isContentEditableElement(this.element)?this.element:t.element,n=!h.isIE||this.activeElementBeforeMouseDown===g.getActiveElement();return(0,l.focusAndSetSelection)(e,n,this.caretPos)},r._getElementForClick=function(t,e,n){var o=g.getParents(e),r=g.isTheSameNode(e,t);return h.isFirefox?r?t:null:r?y.equals(n,o)?t:null:t.contains(e)&&!g.isEditableFormElement(e)?t:e.contains(t)?e:y.getCommonElement(o,n)},r.prototype._mouseup=function(e){var n=this;return a.default.buttonUp().then(function(){return n._getElementForEvent(e)}).then(function(t){e.element=t,n.eventState.clickElement=r._getElementForClick(n.mouseDownElement,t,n.targetElementParentNodes),m.mouseup(t,e.options)})},r.prototype._click=function(t){if(g.isOptionElement(t.element))return t.element;if(this.eventState.clickElement){var e=g.isInputElement(this.eventState.clickElement)&&"color"===this.eventState.clickElement.type;h.isFirefox&&e&&this._bindClickHandler(this.eventState.clickElement),m.click(this.eventState.clickElement,t.options)}return g.isElementFocusable(t.element)||(0,l.focusByRelatedElement)(t.element),g.isSelectElement(t.element)&&1===E.getSelectElementSize(t.element)&&!1!==this.eventState.simulateDefaultBehavior&&(S.isOptionListExpanded(t.element)?S.collapseOptionList():S.expandOptionList(t.element)),t},r.prototype.run=function(t){var i=this,s=null;return this._ensureElement(t).then(function(t){var e=t.element,n=t.clientPoint,o=t.screenPoint,r=t.devicePoint;return s={point:n,screenPoint:o,element:e,options:d({clientX:n.x,clientY:n.y,screenX:r.x,screenY:r.y},i.modifiers)},f.all([b(i.automationSettings.mouseActionStepDelay),i._mousedown(s)])}).then(function(){return i._mouseup(s)}).then(function(){return i._click(s)})},r}(s.default);t.default=_,e.exports=t.default},"select-child.js":function(t,e,n){t.__esModule=!0;var o=s(n("../../deps/hammerhead")),r=s(n("../../deps/testcafe-core")),i=s(n("../../deps/testcafe-ui")),l=s(n("../move")),a=n("../../../../test-run/commands/options"),u=n("../../utils/offsets"),c=s(n("../../settings"));function s(t){return t&&t.__esModule?t:{default:t}}var f=o.default.Promise,d=o.default.utils.browser,h=o.default.utils.featureDetection,p=o.default.eventSandbox.eventSimulator,m=o.default.eventSandbox.focusBlur,g=r.default.domUtils,E=r.default.styleUtils,v=r.default.delay,y=i.default.selectElement,b=h.isTouchDevice?0:160,S=function(){function s(t,e){if(function(t,e){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}(this),this.element=t,this.modifiers=e.modifiers,this.caretPos=e.caretPos,this.offsetX=e.offsetX,this.offsetY=e.offsetY,this.speed=e.speed,this.automationSettings=new c.default(e.speed),this.parentSelect=g.getSelectParent(this.element),this.optionListExpanded=!!this.parentSelect&&y.isOptionListExpanded(this.parentSelect),this.childIndex=null,this.clickCausesChange=!1,this.parentSelect){var n=g.isOptionElement(this.element),o=this.parentSelect.selectedIndex;this.childIndex=g.getElementIndexInParent(this.parentSelect,this.element);var r=g.isOptionGroupElement(this.element.parentNode)?this.element.parentNode:null,i=this.element.disabled||r&&r.disabled;this.clickCausesChange=n&&!i&&this.childIndex!==o}this.eventsArgs={options:this.modifiers,element:this.element}}return s.prototype._calculateEventArguments=function(){var t=this.optionListExpanded?y.getEmulatedChildElement(this.element):this.element,e=1<E.getSelectElementSize(this.parentSelect);return{options:this.modifiers,element:d.isIE&&e?this.parentSelect:t}},s.prototype._getMoveArguments=function(){var t=null,e=null,n=null;if(this.optionListExpanded){t=y.getEmulatedChildElement(this.element);var o=(0,u.getDefaultAutomationOffsets)(t);e=o.offsetX,n=o.offsetY}else{t=Y.documentElement;var r=y.getSelectChildCenter(this.element);e=r.x,n=r.y}return{element:t,offsetX:e,offsetY:n,speed:this.speed}},s.prototype._move=function(t){var e=this,n=t.element,o=t.offsetX,r=t.offsetY,i=t.speed,s=new a.MoveOptions({offsetX:o,offsetY:r,speed:i,modifiers:this.modifiers},!1);return new l.default(n,s).run().then(function(){return v(e.automationSettings.mouseActionStepDelay)})},s.prototype._mousedown=function(){var t=this;return d.isFirefox?(p.mousedown(this.eventsArgs.element,this.eventsArgs.options),this.clickCausesChange&&(this.parentSelect.selectedIndex=this.childIndex),this._focus()):d.isIE?(p.mousedown(this.eventsArgs.element,this.eventsArgs.options),this._focus()):this._focus().then(function(){return v(b)}).then(function(){p.mousedown(t.eventsArgs.element,t.eventsArgs.options),t.clickCausesChange&&(t.parentSelect.selectedIndex=t.childIndex)})},s.prototype._focus=function(){var e=this;return new f(function(t){m.focus(e.parentSelect,t,!1,!0)})},s.prototype._mouseup=function(){var t=d.isIE?this.parentSelect:this.eventsArgs.element;p.mouseup(t,this.eventsArgs.options),d.isIE&&this.clickCausesChange&&(this.parentSelect.selectedIndex=this.childIndex);var e=d.isFirefox||d.isSafari||d.isChrome&&53<=d.version,n=e||d.isIE;return e&&this.clickCausesChange&&p.input(this.parentSelect),n&&this.clickCausesChange&&p.change(this.parentSelect),f.resolve()},s.prototype._click=function(){p.click(this.eventsArgs.element,this.eventsArgs.options)},s.prototype.run=function(){var t=this;if(!this.parentSelect)return p.click(this.eventsArgs.element,this.eventsArgs.options),f.resolve();this.optionListExpanded||y.scrollOptionListByChild(this.element);var e=this._getMoveArguments();return this.eventsArgs=this._calculateEventArguments(),E.getSelectElementSize(this.parentSelect)<=1?this._move(e).then(function(){return t._click()}):this._move(e).then(function(){return t._mousedown()}).then(function(){return t._mouseup()}).then(function(){return t._click()})},s}();t.default=S,e.exports=t.default}},"dblclick.js":function(t,e,n){t.__esModule=!0;var o=u(n("../deps/hammerhead")),r=u(n("../deps/testcafe-core")),i=n("../../../test-run/commands/options"),s=u(n("./visible-element-automation")),l=u(n("./click")),a=u(n("../settings"));function u(t){return t&&t.__esModule?t:{default:t}}var c=o.default.utils.featureDetection,f=o.default.utils.browser,d=o.default.eventSandbox.eventSimulator,h=r.default.eventUtils,p=r.default.delay,m=c.isTouchDevice?0:160,g=function(o){function r(t,e){!function(t,e){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,o.call(this,t,e));return n.modifiers=e.modifiers,n.caretPos=e.caretPos,n.speed=e.speed,n.automationSettings=new a.default(n.speed),n.offsetX=e.offsetX,n.offsetY=e.offsetY,n.eventArgs=null,n.eventState={dblClickElement:null},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,o),r.prototype._firstClick=function(t){var e=this,n=new i.ClickOptions(this.options);n.speed=1;var o=new l.default(this.element,n);return o.on(o.TARGET_ELEMENT_FOUND_EVENT,function(t){return e.emit(e.TARGET_ELEMENT_FOUND_EVENT,t)}),o.run(t).then(function(t){return p(m).then(function(){return t})})},r.prototype._secondClick=function(t){var e=this;f.isIE&&h.bind(Y,"focus",h.preventDefault,!0);var n=new i.ClickOptions({offsetX:t.screenPoint.x,offsetY:t.screenPoint.y,caretPos:this.caretPos,modifiers:this.modifiers,speed:1}),o=new l.default(Y.documentElement,n);return o.run().then(function(t){return e.eventState.dblClickElement=o.eventState.clickElement,f.isIE&&h.unbind(Y,"focus",h.preventDefault,!0),t})},r.prototype._dblClick=function(t){this.eventState.dblClickElement&&d.dblclick(this.eventState.dblClickElement,t.options)},r.prototype.run=function(t){var e=this;return this._firstClick(t).then(function(t){return e._secondClick(t)}).then(function(t){return e._dblClick(t)})},r}(s.default);t.default=g,e.exports=t.default},drag:{"base.js":function(t,e,n){t.__esModule=!0;var o=i(n("../../deps/hammerhead")),s=n("../../deps/testcafe-core"),l=n("../../get-element"),r=i(n("../visible-element-automation")),a=i(n("../move")),u=n("../../../../test-run/commands/options"),c=i(n("../../cursor"));function i(t){return t&&t.__esModule?t:{default:t}}var f=o.default.Promise,d=o.default.utils.extend,h=o.default.utils.featureDetection,p=o.default.eventSandbox.eventSimulator,m=o.default.eventSandbox.focusBlur,g=function(o){function r(t,e){!function(t,e){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,o.call(this,t,e));return n.modifiers=e.modifiers,n.speed=e.speed,n.offsetX=e.offsetX,n.offsetY=e.offsetY,n.endPoint=null,n.downEvent=h.isTouchDevice?"touchstart":"mousedown",n.upEvent=h.isTouchDevice?"touchend":"mouseup",n.dragAndDropState=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,o),r.prototype._getEndPoint=function(){throw new Error("Not implemented")},r.prototype._mousedown=function(t){var e=this;return c.default.leftButtonDown().then(function(){return p[e.downEvent](t.element,t.options),e._focus(t)})},r.prototype._focus=function(n){var o=this;return new f(function(t){var e=s.domUtils.isContentEditableElement(o.element)?s.contentEditable.findContentEditableParent(o.element):n.element;m.focus(e,t,!1,!0)})},r.prototype._getDestination=function(){throw new Error("Not implemented")},r.prototype._drag=function(){var e=this,t=this._getDestination(),n=t.element,o=t.offsets,r=t.endPoint;this.endPoint=r;var i=new u.MoveOptions({offsetX:o.offsetX,offsetY:o.offsetY,modifiers:this.modifiers,speed:this.speed,minMovingTime:25,holdLeftButton:!0},!1);return new a.default(n,i).run().then(function(t){return e.dragAndDropState=t,(0,s.delay)(e.automationSettings.mouseActionStepDelay)})},r.prototype._mouseup=function(){var i=this;return c.default.buttonUp().then(function(){var n=s.positionUtils.offsetToClientCoords(i.endPoint),o=null,r=d({clientX:n.x,clientY:n.y},i.modifiers);return(0,l.fromPoint)(n.x,n.y).then(function(t){var e=t.element;return(o=e)?(i.dragAndDropState.enabled?(r.dataTransfer=i.dragAndDropState.dataTransfer,i.dragAndDropState.dropAllowed&&p.drop(o,r),p.dragend(i.dragAndDropState.element,r),i.dragAndDropState.dataStore.setProtectedMode()):p[i.upEvent](o,r),(0,l.fromPoint)(n.x,n.y)):o}).then(function(t){var e=t.element;o&&e===o&&!i.dragAndDropState.enabled&&p.click(o,r)})})},r.prototype.run=function(t){var o=this,r=null;return this._ensureElement(t).then(function(t){var e=t.element,n=t.clientPoint;return r={point:n,element:e,options:d({clientX:n.x,clientY:n.y},o.modifiers)},f.all([(0,s.delay)(o.automationSettings.mouseActionStepDelay),o._mousedown(r)])}).then(function(){return o._drag()}).then(function(){return o._mouseup()})},r}(r.default);t.default=g,e.exports=t.default},"drag-and-drop-state.js":function(t,e,n){t.__esModule=!0,t.default=function n(){!function(t,e){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),this.enabled=!1,this.dropAllowed=!1,this.element=null,this.dataTransfer=null,this.dataStore=null},e.exports=t.default},"to-element.js":function(t,e,n){t.__esModule=!0;var o=i(n("../../deps/testcafe-core")),r=i(n("./base")),s=n("../../utils/offsets");function i(t){return t&&t.__esModule?t:{default:t}}var l=o.default.positionUtils,a=function(r){function i(t,e,n){!function(t,e){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,r.call(this,t,n));return o.destinationElement=e,o.destinationOffsetX=n.destinationOffsetX,o.destinationOffsetY=n.destinationOffsetY,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,r),i.prototype._getDestination=function(){var t=this.destinationElement,e=l.getElementRectangle(t),n=(0,s.getOffsetOptions)(t,this.destinationOffsetX,this.destinationOffsetY);return{element:t,offsets:n,endPoint:{x:e.left+n.offsetX,y:e.top+n.offsetY}}},i}(r.default);t.default=a,e.exports=t.default},"to-offset.js":function(t,e,n){t.__esModule=!0;var o=i(n("../../deps/testcafe-core")),r=i(n("./base")),l=i(n("../../utils/get-automation-point"));function i(t){return t&&t.__esModule?t:{default:t}}var a=o.default.styleUtils,s=function(i){function s(t,e,n,o){!function(t,e){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}(this);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,i.call(this,t,o));return r.dragOffsetX=e,r.dragOffsetY=n,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(s,i),s.prototype._getDestination=function(){var t=(0,l.default)(this.element,this.offsetX,this.offsetY),e=a.getWidth(Y),n=a.getHeight(Y),o={x:t.x+this.dragOffsetX,y:t.y+this.dragOffsetY};return o={x:Math.min(Math.max(0,o.x),e),y:Math.min(Math.max(0,o.y),n)},{element:Y.documentElement,offsets:{offsetX:o.x,offsetY:o.y},endPoint:o}},s}(r.default);t.default=s,e.exports=t.default}},"hover.js":function(t,e,n){t.__esModule=!0;var o,r=function(n){function o(t,e){return function(t,e){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}(this),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,n.call(this,t,e))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(o,n),o.prototype.run=function(t){return this._ensureElement(t,!0)},o}(((o=n("./visible-element-automation"))&&o.__esModule?o:{default:o}).default);t.default=r,e.exports=t.default},move:{"event-sequence":{"base.js":function(t,e,n){t.__esModule=!0;var o,r=(o=n("../../../deps/hammerhead"))&&o.__esModule?o:{default:o},d=n("../../../deps/testcafe-core"),h=r.default.utils.browser,i=function(){function n(){!function(t,e){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),this.dragAndDropMode=!1,this.dropAllowed=!1}return n.prototype.setup=function(){this.dragAndDropMode=!1,this.dropAllowed=!1},n.prototype.leaveElement=function(){},n.prototype.move=function(){},n.prototype.enterElement=function(){},n.prototype.dragAndDrop=function(){},n.prototype.teardown=function(){},n.prototype.run=function(t,e,n,o,r,i){var s=e&&d.domUtils.isElementInDocument(e),l=e&&d.domUtils.isElementInIframe(e)&&!d.domUtils.getIframeByElement(e);s&&!l||(e=null);var a=t!==e,u=a?d.domUtils.getCommonAncestor(t,e):null;this.setup(),a&&e&&this.leaveElement(t,e,u,n),h.isIE&&this.move(t,n,o),a&&d.domUtils.isElementInDocument(t)&&this.enterElement(t,e,u,n),h.isIE||this.move(t,n,o),this.dragAndDrop(r,t,e,n,i),this.teardown(t,n,e,o);var c=this.dragAndDropMode,f=this.dropAllowed;return this.dragAndDropMode=!1,this.dropAllowed=!1,{dragAndDropMode:c,dropAllowed:f}},n}();t.default=i,e.exports=t.default},"drag-and-drop-first-move.js":function(t,e,n){t.__esModule=!0;var o=s(n("../../../deps/hammerhead")),r=s(n("./base")),i=s(n("./index")),l=s(n("./drag-and-drop-move"));function s(t){return t&&t.__esModule?t:{default:t}}var a=o.default.eventSandbox.eventSimulator,u=function(s){function n(){return function(t,e){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,s.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,s),n.prototype.setup=function(){s.prototype.setup.call(this),this.dragAndDropMode=!0},n.prototype.leaveElement=function(){i.default.leaveElement.apply(this,arguments)},n.prototype.move=function(){i.default.move.apply(this,arguments)},n.prototype.enterElement=function(){i.default.enterElement.apply(this,arguments)},n.prototype.dragAndDrop=function(t,e,n,o,r){var i=a.dragstart(t,o);r.setReadOnlyMode(),i?l.default.dragAndDrop.apply(this,arguments):this.dragAndDropMode=!1},n.prototype.run=function(t,e,n,o,r,i){return s.prototype.run.call(this,t,null,n,o,r,i)},n}(r.default);t.default=new u,e.exports=t.default},"drag-and-drop-move.js":function(t,e,n){t.__esModule=!0;var o=s(n("../../../deps/hammerhead")),r=n("../../../deps/testcafe-core"),i=s(n("./base"));function s(t){return t&&t.__esModule?t:{default:t}}var l=o.default.eventSandbox.eventSimulator,a=function(t){function n(){return function(t,e){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,t),n.prototype.setup=function(){t.prototype.setup.call(this),this.dragAndDropMode=!0},n.prototype.dragAndDrop=function(t,e,n,o){l.drag(t,o),e!==n&&(r.domUtils.isElementInDocument(e)&&(o.relatedTarget=n,l.dragenter(e,o)),n&&(o.relatedTarget=e,l.dragleave(n,o))),this.dropAllowed=!l.dragover(e,o)},n}(i.default);t.default=new a,e.exports=t.default},"index.js":function(t,e,n){t.__esModule=!0;var o=s(n("../../../deps/hammerhead")),r=n("../../../deps/testcafe-core"),i=s(n("./base"));function s(t){return t&&t.__esModule?t:{default:t}}var l=o.default.eventSandbox.eventSimulator,a=o.default.utils.extend,u=function(t){function n(){return function(t,e){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,t),n.prototype.leaveElement=function(t,e,n,o){l.mouseout(e,a({relatedTarget:t},o));for(var r=e;r&&r!==n;)l.mouseleave(r,a({relatedTarget:t},o)),r=r.parentNode},n.prototype.move=function(t,e,n){l[n](t,e)},n.prototype.enterElement=function(t,e,n,o){l.mouseover(t,a({relatedTarget:e},o));for(var r=t,i=[];r&&r!==n;)i.push(r),r=r.parentNode;i.reverse();for(var s=0;s<i.length;s++)l.mouseenter(i[s],a({relatedTarget:e},o))},n.prototype.teardown=function(t,e,n,o){r.domUtils.isElementInDocument(t)&&t!==n&&l[o](t,e)},n}(i.default);t.default=new u,e.exports=t.default}},"index.js":function(t,e,n){t.__esModule=!0;var o=h(n("../../deps/hammerhead")),r=h(n("../../deps/testcafe-core")),p=n("../../../../test-run/commands/options"),i=h(n("../scroll")),m=h(n("../../cursor")),a=n("../../get-element"),s=h(n("../../utils/get-automation-point")),g=h(n("../../utils/get-line-rect-intersection")),u=h(n("../../utils/get-device-point")),l=h(n("../../utils/next-tick")),c=h(n("../../settings")),f=h(n("../drag/drag-and-drop-state")),d=h(n("./event-sequence")),E=h(n("./event-sequence/drag-and-drop-move")),v=h(n("./event-sequence/drag-and-drop-first-move"));function h(t){return t&&t.__esModule?t:{default:t}}var y=o.default.Promise,b=o.default.nativeMethods,S=o.default.utils.browser,_=o.default.utils.featureDetection,A=o.default.utils.html,w=o.default.utils.url,x=o.default.eventSandbox.eventSimulator,P=o.default.eventSandbox.message,C=o.default.eventSandbox.DataTransfer,T=o.default.eventSandbox.DragDataStore,M=r.default.positionUtils,I=r.default.domUtils,O=r.default.styleUtils,U=r.default.eventUtils,D=r.default.promiseUtils,N=r.default.sendRequestToFrame,k="automation|move|request",B="automation|move|response";P.on(P.SERVICE_MSG_RECEIVED_EVENT,function(t){t.message.cmd===k&&(t.source.parent===R?j.onMoveToIframeRequest(t):(o.default.on(o.default.EVENTS.beforeUnload,function(){return P.sendServiceMsg({cmd:B},t.source)}),j.onMoveOutRequest(t)))});var F=null,j=function(){function h(t,e){!function(t,e){if(!(t instanceof h))throw new TypeError("Cannot call a class as a function")}(this),this.touchMode=_.isTouchDevice,this.moveEvent=this.touchMode?"touchmove":"mousemove",this.holdLeftButton=e.holdLeftButton,this.dragElement=null,this.dragAndDropState=new f.default,this.automationSettings=new c.default(e.speed);var n=h.getTarget(t,e.offsetX,e.offsetY);this.element=n.element,this.offsetX=n.offsetX,this.offsetY=n.offsetY,this.speed=e.speed,this.cursorSpeed=this.holdLeftButton?this.automationSettings.draggingSpeed:this.automationSettings.cursorSpeed,this.minMovingTime=e.minMovingTime||null,this.modifiers=e.modifiers||{},this.skipScrolling=e.skipScrolling,this.endPoint=null,this.movingTime=null,this.x=null,this.y=null,this.startTime=null,this.endTime=null,this.distanceX=null,this.distanceY=null,this.firstMovingStepOccured=!1}return h.getTarget=function(t,e,n){var o=!M.containsOffset(t,e,n),r=o?(0,s.default)(t,e,n):{x:e,y:n};return{element:o?Y.documentElement:t,offsetX:r.x,offsetY:r.y}},h.onMoveToIframeRequest=function(t){var e={x:t.message.endX,y:t.message.endY},n=t.source,o=I.findIframeByWindow(n),r=O.getBordersWidth(o),i=O.getElementPadding(o),s=M.getIframeClientCoordinates(o),l=M.getIframePointRelativeToParentFrame(e,n),a=m.default.position,u=M.isInRectangle(a,s)?a:(0,g.default)(a,l,s),c={x:u.x-s.left,y:u.y-s.top},f=new h(o,new p.MoveOptions({modifiers:t.message.modifiers,offsetX:c.x+r.left+i.left,offsetY:c.y+r.top+i.top,speed:t.message.speed,skipScrolling:!0},!1)),d={cmd:B,x:c.x,y:c.y};m.default.activeWindow!==n?f.run().then(function(){m.default.activeWindow=n,P.sendServiceMsg(d,n)}):P.sendServiceMsg(d,n)},h.onMoveOutRequest=function(t){var e=t.source,n={left:t.message.left,right:t.message.right,top:t.message.top,bottom:t.message.bottom};if(!t.message.iframeUnderCursor){var o=t.message,r=o.startX,i=o.startY,s=r-n.left,l=i-n.top;return F&&(x.mouseout(F,{clientX:s,clientY:l,relatedTarget:null}),x.mouseleave(F,{clientX:s,clientY:l,relatedTarget:null})),void P.sendServiceMsg({cmd:B},e)}var a=m.default.position,u={x:n.left+a.x,y:n.top+a.y},c={x:t.message.endX,y:t.message.endY},f=(0,g.default)(u,c,n);if(f){var d=new p.MoveOptions({modifiers:t.message.modifiers,offsetX:f.x-n.left,offsetY:f.y-n.top,speed:t.message.speed,skipScrolling:!0},!1);new h(Y.documentElement,d).run().then(function(){var t={cmd:B,x:f.x,y:f.y};m.default.activeWindow=e,P.sendServiceMsg(t,e)})}else P.sendServiceMsg({cmd:B,x:n.left,y:n.top},e)},h.prototype._getTargetClientPoint=function(){var t=O.getElementScroll(this.element);if(I.isHtmlElement(this.element))return{x:Math.floor(this.offsetX-t.left),y:Math.floor(this.offsetY-t.top)};var e=M.getClientPosition(this.element),n=this.element.tagName&&I.isBodyElement(this.element);return{x:Math.floor(n?e.x+this.offsetX:e.x+this.offsetX-t.left),y:Math.floor(n?e.y+this.offsetY:e.y+this.offsetY-t.top)}},h.prototype._emulateEvents=function(t){var e=this.holdLeftButton?U.WHICH_PARAMETER.leftButton:U.WHICH_PARAMETER.noButton,n=this.holdLeftButton?U.BUTTONS_PARAMETER.leftButton:U.BUTTONS_PARAMETER.noButton,o=(0,u.default)({x:this.x,y:this.y}),r={clientX:this.x,clientY:this.y,screenX:o.x,screenY:o.y,button:0,which:S.isWebKit?e:1,buttons:n,ctrl:this.modifiers.ctrl,alt:this.modifiers.alt,shift:this.modifiers.shift,meta:this.modifiers.meta,dataTransfer:this.dragAndDropState.dataTransfer},i=(this.dragAndDropState.enabled?this.firstMovingStepOccured?E.default:v.default:d.default).run(t,F,r,this.moveEvent,this.dragElement,this.dragAndDropState.dataStore),s=i.dragAndDropMode,l=i.dropAllowed;this.firstMovingStepOccured=!0,this.dragAndDropState.enabled=s,this.dragAndDropState.dropAllowed=l,F=t},h.prototype._movingStep=function(){var n=this;if(this.touchMode&&!this.holdLeftButton)this.x=this.endPoint.x,this.y=this.endPoint.y;else if(this.startTime){var t=(Math.min(b.dateNow(),this.endTime)-this.startTime)/(this.endTime-this.startTime);this.x=Math.floor(this.startPoint.x+this.distanceX*t),this.y=Math.floor(this.startPoint.y+this.distanceY*t)}else this.startTime=b.dateNow(),this.endTime=this.startTime+this.movingTime,this.x+=0<this.distanceX?1:-1,this.y+=0<this.distanceY?1:-1;return m.default.move(this.x,this.y).then(a.underCursor).then(function(t){var e=n.holdLeftButton&&n.touchMode?n.dragElement:t;return e?n._emulateEvents(e):null}).then(l.default)},h.prototype._isMovingFinished=function(){return this.x===this.endPoint.x&&this.y===this.endPoint.y},h.prototype._move=function(){var t=this;return this.startPoint=m.default.position,this.x=this.startPoint.x,this.y=this.startPoint.y,this.distanceX=this.endPoint.x-this.startPoint.x,this.distanceY=this.endPoint.y-this.startPoint.y,this.movingTime=Math.max(Math.abs(this.distanceX),Math.abs(this.distanceY))/this.cursorSpeed,this.minMovingTime&&(this.movingTime=Math.max(this.movingTime,this.minMovingTime)),D.whilst(function(){return!t._isMovingFinished()},function(){return t._movingStep()})},h.prototype._scroll=function(){if(this.skipScrolling)return y.resolve();var t=new p.ScrollOptions({offsetX:this.offsetX,offsetY:this.offsetY},!1);return new i.default(this.element,t).run()},h.prototype._moveToCurrentFrame=function(){if(m.default.active)return y.resolve();var t=m.default.position,e=t.x,n=t.y,o=m.default.activeWindow,r=null,i=null,s=null,l={cmd:k,startX:e,startY:n,endX:this.endPoint.x,endY:this.endPoint.y,modifiers:this.modifiers,speed:this.speed};return o.parent===R&&(r=I.findIframeByWindow(o),s=M.getIframeClientCoordinates(r),l.left=s.left,l.top=s.top,l.right=s.right,l.bottom=s.bottom),(0,a.underCursor)().then(function(t){return i=t===r,o.parent===R&&(l.iframeUnderCursor=i),N(l,B,o)}).then(function(t){return m.default.activeWindow=R,i||R.top!==R?m.default.move(t.x,t.y):null})},h.prototype.run=function(){var l=this;return(0,a.underCursor)().then(function(t){l.dragElement=l.holdLeftButton?t:null;var e=function(t){for(var e=l.dragElement;e;){if(e.draggable)return e;e=e.parentNode}return null}();if(e&&_.hasDataTransfer){l.dragAndDropState.enabled=!0,l.dragElement=e,l.dragAndDropState.element=l.dragElement,l.dragAndDropState.dataStore=new T,l.dragAndDropState.dataTransfer=new C(l.dragAndDropState.dataStore);var n=I.isAnchorElement(l.dragElement);if(n||I.isImgElement(l.dragElement)){var o=n?"href":"src",r=w.parseProxyUrl(l.dragElement[o]),i=r?r.destUrl:l.dragElement[o],s=A.cleanUpHtml(b.elementOuterHTMLGetter.call(l.dragElement));l.dragAndDropState.dataTransfer.setData("text/plain",i),l.dragAndDropState.dataTransfer.setData("text/uri-list",i),l.dragAndDropState.dataTransfer.setData("text/html",s)}}return l._scroll()}).then(function(){var t=l._getTargetClientPoint(),e=t.x,n=t.y,o=O.getWidth(R),r=O.getHeight(R);return 0<=e&&e<=o&&0<=n&&n<=r?(l.endPoint={x:e,y:n},l._moveToCurrentFrame().then(function(){return l._move()})):null}).then(function(){return l.dragAndDropState})},h}();t.default=j,e.exports=t.default}},press:{"index.js":function(t,e,n){t.__esModule=!0;var o=a(n("../../deps/hammerhead")),l=n("../../deps/testcafe-core"),i=a(n("./key-press-simulator")),u=a(n("./shortcuts")),s=n("./utils"),r=a(n("../../settings"));function a(t){return t&&t.__esModule?t:{default:t}}var c=o.default.Promise,f=o.default.utils.browser,d=o.default.eventSandbox.message,h="automation|press|request",p="automation|press|response";d.on(d.SERVICE_MSG_RECEIVED_EVENT,function(t){t.message.cmd===h&&(o.default.on(o.default.EVENTS.beforeUnload,function(){return d.sendServiceMsg({cmd:p},t.source)}),new m(t.message.keyCombinations,t.message.options).run().then(function(){return d.sendServiceMsg({cmd:p},t.source)}))});var m=function(){function a(t,e){!function(t,e){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}(this),this.keyCombinations=t,this.isSelectElement=!1,this.pressedKeyString="",this.modifiersState=null,this.shortcutHandlers=null,this.topSameDomainDocument=l.domUtils.getTopSameDomainWindow(R).document,this.automationSettings=new r.default(e.speed),this.options=e}return a._getKeyPressSimulators=function(t){var e=(0,l.getKeyArray)(t),n=(0,s.getActualKeysAndEventKeyProperties)(e),o=n.actualKeys,r=n.eventKeyProperties;return l.arrayUtils.map(o,function(t,e){return new i.default(t,r[e])})},a._getShortcuts=function(t){for(var e=(0,l.getKeyArray)(t.toLowerCase()),n=[],o=[],r=[],i=0;i<e.length;i++)for(o.push(e[i]),r=o.slice();r.length;){var s=r.join("+");u.default[s]?(n.push(s),o=r=[]):r.shift()}return n},a._getShortcutHandlers=function(t){for(var e=a._getShortcuts(t.toLowerCase()),n={},o="",r=null,i=null,s=null,l=0;l<e.length;l++)r=e[l],i=t.indexOf(r),s=r.length,n[o+=t.substring(0,i+s)]=u.default[r],t=t.substring(i+s);return n},a.prototype._down=function(t){this.pressedKeyString+=(this.pressedKeyString?"+":"")+t.key;var e=!t.down(this.modifiersState);return c.resolve(e)},a.prototype._press=function(t,e){var n=this;if(e&&!this.isSelectElement)return(0,l.delay)(this.automationSettings.keyActionStepDelay);var o=this.shortcutHandlers[this.pressedKeyString],r=!1;return o&&!f.isFirefox&&"enter"!==t.key||(r=!t.press(this.modifiersState)),r&&!this.isSelectElement||!o?(0,l.delay)(this.automationSettings.keyActionStepDelay):o((0,s.getDeepActiveElement)(this.topSameDomainDocument)).then(function(){return(0,l.delay)(n.automationSettings.keyActionStepDelay)})},a.prototype._up=function(t){return t.up(this.modifiersState),(0,l.delay)(this.automationSettings.keyActionStepDelay)},a.prototype._runCombination=function(t){var n=this;this.modifiersState={ctrl:!1,alt:!1,shift:!1,meta:!1},this.isSelectElement=l.domUtils.isSelectElement((0,s.getDeepActiveElement)(this.topSameDomainDocument)),this.pressedKeyString="",this.shortcutHandlers=a._getShortcutHandlers(t);var e=a._getKeyPressSimulators(t);return l.promiseUtils.each(e,function(e){return n._down(e).then(function(t){return n._press(e,t)})}).then(function(){return l.arrayUtils.reverse(e),l.promiseUtils.each(e,function(t){return n._up(t)})})},a.prototype.run=function(){var e=this,t=l.domUtils.getActiveElement(),n=l.domUtils.isIframeElement(t);if(R.top===R&&n&&t.contentWindow){var o={cmd:h,keyCombinations:this.keyCombinations,options:this.options};return(0,l.sendRequestToFrame)(o,p,t.contentWindow)}return l.promiseUtils.each(this.keyCombinations,function(t){return e._runCombination(t).then(function(){return(0,l.delay)(e.automationSettings.keyActionStepDelay)})})},a}();t.default=m,e.exports=t.default},"key-press-simulator.js":function(t,e,n){t.__esModule=!0;var o=function(){function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}}(),r=c(n("../../deps/hammerhead")),f=n("../../deps/testcafe-core"),a=c(n("../type/type-text")),d=n("./utils"),i=c(n("../../utils/get-key-code")),s=c(n("../../utils/get-key-identifier")),l=c(n("../../utils/is-letter")),u=c(n("../../utils/key-identifier-required-for-event"));function c(t){return t&&t.__esModule?t:{default:t}}var h=r.default.utils.browser,p=r.default.utils.extend,m=r.default.eventSandbox.eventSimulator,g=function(){function c(t,e){!function(t,e){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}(this),this.isLetter=(0,l.default)(t),this.isChar=1===t.length||"space"===t,this.sanitizedKey=(0,f.getSanitizedKey)(t),this.modifierKeyCode=f.KEY_MAPS.modifiers[this.sanitizedKey],this.specialKeyCode=f.KEY_MAPS.specialKeys[this.sanitizedKey],this.keyCode=null,this.keyIdentifierProperty=(0,s.default)(e),this.topSameDomainDocument=f.domUtils.getTopSameDomainWindow(R).document,this.keyProperty=f.KEY_MAPS.keyProperty[e]||e,this.isChar&&"space"!==t?this.keyCode=(0,i.default)(this.sanitizedKey):this.modifierKeyCode?this.keyCode=this.modifierKeyCode:this.specialKeyCode&&(this.keyCode=this.specialKeyCode),this.storedActiveElement=null}return c._isKeyActivatedInputElement=function(t){return f.domUtils.isInputElement(t)&&/button|submit|reset|radio|checkbox/.test(t.type)},c.prototype._type=function(t,e){var n=t!==this.storedActiveElement,o=!n,r=t,i=f.domUtils.isEditableElement(t),s=f.domUtils.isEditableElement(this.storedActiveElement);try{if(n){var l=f.domUtils.isElementInIframe(t)===f.domUtils.isElementInIframe(this.storedActiveElement)||s;o=(!h.isFirefox||s)&&(!h.isWebKit||l)}}catch(t){}o&&(!h.isIE&&n&&s&&i&&(r=this.storedActiveElement),(0,a.default)(r,e))},c.prototype._addKeyPropertyToEventOptions=function(t){return(0,u.default)()?t.keyIdentifier="keypress"===t.type?"":this.keyIdentifierProperty:t.key=this.keyProperty,t},c.prototype.down=function(t){this.storedActiveElement=(0,d.getDeepActiveElement)(this.topSameDomainDocument),this.modifierKeyCode&&(t[this.sanitizedKey]=!0),t.shift&&this.isLetter&&(this.keyProperty=(0,d.changeLetterCase)(this.keyProperty));var e={keyCode:this.keyCode,type:"keydown"};return this._addKeyPropertyToEventOptions(e),m.keydown(this.storedActiveElement,p(e,t))},c.prototype.press=function(t){if(!this.isChar&&!this.specialKeyCode)return!0;var e=(0,d.getDeepActiveElement)(this.topSameDomainDocument),n=this.isChar?(0,d.getChar)(this.sanitizedKey,t.shift):null,o=this.specialKeyCode||n.charCodeAt(0),r=e!==this.storedActiveElement;if(h.isWebKit&&r&&f.domUtils.isElementInIframe(e)!==f.domUtils.isElementInIframe(this.storedActiveElement))return!0;this.storedActiveElement=e;var i={keyCode:o,charCode:o,type:"keypress"};this._addKeyPropertyToEventOptions(i,!0);var s=m.keypress(e,p(i,t));if(!s)return s;e=(0,d.getDeepActiveElement)(this.topSameDomainDocument),!n||t.ctrl||t.alt||this._type(e,n);var l=c._isKeyActivatedInputElement(e),a=f.domUtils.isButtonElement(e),u=h.isSafari&&0<=h.compareVersions([h.webkitVersion,"603.1.30"]);return!h.isFirefox&&!u&&(l||a)&&"enter"===this.sanitizedKey&&e.click(),s},c.prototype.up=function(t){this.modifierKeyCode&&(t[this.sanitizedKey]=!1);var e={keyCode:this.keyCode,type:"keyup"};this._addKeyPropertyToEventOptions(e);var n=m.keyup((0,d.getDeepActiveElement)(this.topSameDomainDocument),p(e,t)),o=(0,d.getDeepActiveElement)(this.topSameDomainDocument);return!h.isFirefox&&!h.isSafari&&(!h.isChrome||53<=h.version)&&n&&"space"===this.sanitizedKey&&c._isKeyActivatedInputElement(o)&&o.click(),n},o(c,[{key:"key",get:function(){return this.sanitizedKey}}]),c}();t.default=g,e.exports=t.default},"shortcuts.js":function(t,e,n){t.__esModule=!0;var o=s(n("../../deps/hammerhead")),r=s(n("../../deps/testcafe-core")),i=s(n("../../deps/testcafe-ui"));function s(t){return t&&t.__esModule?t:{default:t}}var d=o.default.Promise,l=o.default.utils.browser,a=o.default.eventSandbox.eventSimulator,u=o.default.eventSandbox.focusBlur,c=o.default.eventSandbox.elementEditingWatcher,h=r.default.textSelection,f=r.default.eventUtils,p=r.default.domUtils,m=i.default.selectElement,g=null,E=null;function v(){E=g=null,f.unbind(this,"blur",v,!0)}function y(t){var e,n,o,r;p.isTextAreaElement(t)&&(g!==t&&(f.bind(t,"blur",v,!0),g=t),e=t,n=h.hasInverseSelection(e),o=p.getTextAreaValue(e),r=n?h.getSelectionStart(e):h.getSelectionEnd(e),E=o&&r?p.getTextareaIndentInLine(e,r):0)}function b(t,e){var n=p.getTextAreaValue(t);if(n){var o=h.getSelectionStart(t),r=h.getSelectionEnd(t),i=h.hasInverseSelection(t),s=n.substring(0,i?o:r),l=s.lastIndexOf("\n"),a=s.substring(0,l);null!==E&&g===t||y(t),l=a.lastIndexOf("\n"),_(t,o,r,i,Math.min(l+1+E,a.length),e)}}function S(t,e){var n=p.getTextAreaValue(t);if(n){var o=h.getSelectionStart(t),r=h.getSelectionEnd(t),i=h.hasInverseSelection(t),s=i?o:r,l=n.substring(s),a=l.indexOf("\n"),u=-1===a?l.length:a+1,c=l.substring(u),f=s+u,d=-1===(a=c.indexOf("\n"))?c.length:a;null!==E&&g===t||y(t),_(t,o,r,i,f=Math.min(f+E,f+d),e)}}function _(t,e,n,o,r,i){var s=null,l=null;i?(s=e===n?e:o?n:e,l=r):l=s=r,h.select(t,s,l)}function A(t,e,n){p.isInputElement(t)&&"number"===t.type&&("-"===e.charAt(0)&&"."===e.charAt(1)&&(e=e.substring(1)),"."===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1))),p.setElementValue(t,e),h.select(t,n,n),a.input(t)}function w(t,e){if(p.isTextEditableElement(t)){var n,o=h.getSelectionStart(t),r=h.getSelectionEnd(t),i=h.hasInverseSelection(t),s=!p.isTextAreaElement(t)||p.getTextareaLineNumberByPosition(t,o)===p.getTextareaLineNumberByPosition(t,r);n=s?i?r:o:i?o:r;var l=p.getElementValue(t).substring(0,n).lastIndexOf("\n"),a=-1===l?0:l+1,u=null,c=null;s?(u=a,c=e?n:a,h.select(t,c,u)):i?h.select(t,r,a):h.select(t,o,a)}return d.resolve()}function x(t,e){if(p.isTextEditableElement(t)){var n,o=h.getSelectionStart(t),r=h.getSelectionEnd(t),i=h.hasInverseSelection(t),s=!p.isTextAreaElement(t)||p.getTextareaLineNumberByPosition(t,o)===p.getTextareaLineNumberByPosition(t,r);n=s?i?r:o:i?o:r;var l=p.getElementValue(t).substring(n),a=l.indexOf("\n"),u=n,c=null,f=null;u+=-1===a?l.length:a,s?(c=e?n:u,f=u,h.select(t,c,f)):i?h.select(t,r,u):h.select(t,o,u)}return d.resolve()}function P(t){return w(t,!0)}function C(t){return x(t,!0)}t.default={"ctrl+a":function(t){return p.isEditableElement(t)&&h.select(t),d.resolve()},backspace:function(t){if(p.isTextEditableElementAndEditingAllowed(t)){var e=h.getSelectionStart(t),n=h.getSelectionEnd(t),o=p.getElementValue(t).replace(/\r\n/g,"\n");n===e?0<e&&A(t,o.substring(0,e-1)+o.substring(n,o.length),e-1):A(t,o.substring(0,e)+o.substring(n,o.length),e)}return p.isContentEditableElement(t)&&h.deleteSelectionContents(t),d.resolve()},delete:function(t){if(p.isTextEditableElementAndEditingAllowed(t)){var e=h.getSelectionStart(t),n=h.getSelectionEnd(t),o=p.getElementValue(t).replace(/\r\n/g,"\n");n===e?e<o.length&&A(t,o.substring(0,e)+o.substring(n+1,o.length),e):A(t,o.substring(0,e)+o.substring(n,o.length),e)}return p.isContentEditableElement(t)&&h.deleteSelectionContents(t),d.resolve()},left:function(t){var e=null;if(p.isSelectElement(t)&&m.switchOptionsByKeys(t,"left"),p.isTextEditableElement(t)){var n=(e=h.getSelectionStart(t)||0)===h.getSelectionEnd(t)?e-1:e;h.select(t,n,n),y(t)}if(p.isContentEditableElement(t)&&(e=h.getSelectionStart(t))!==h.getSelectionEnd(t)){var o=h.getSelectionByElement(t),r=h.hasInverseSelectionContentEditable(t),i={node:r?o.focusNode:o.anchorNode,offset:r?o.focusOffset:o.anchorOffset};h.selectByNodesAndOffsets(i,i,!0)}return d.resolve()},right:function(t){var e=null,n=null;if(p.isSelectElement(t)&&m.switchOptionsByKeys(t,"right"),p.isTextEditableElement(t)){var o=(e=h.getSelectionStart(t))===(n=h.getSelectionEnd(t))?n+1:n;e===p.getElementValue(t).length&&(o=e),h.select(t,o,o),y(t)}if(p.isContentEditableElement(t)&&(e=h.getSelectionStart(t))!==(n=h.getSelectionEnd(t))){var r=h.getSelectionByElement(t),i=h.hasInverseSelectionContentEditable(t),s={node:i?r.anchorNode:r.focusNode,offset:i?r.anchorOffset:r.focusOffset};h.selectByNodesAndOffsets(s,s,!0)}return d.resolve()},up:function(t){return p.isSelectElement(t)&&m.switchOptionsByKeys(t,"up"),l.isWebKit&&p.isInputElement(t)?w(t):(p.isTextAreaElement(t)&&b(t,!1),d.resolve())},down:function(t){return p.isSelectElement(t)&&m.switchOptionsByKeys(t,"down"),l.isWebKit&&p.isInputElement(t)?x(t):(p.isTextAreaElement(t)&&S(t,!1),d.resolve())},"shift+left":function(t){if(p.isTextEditableElement(t)){var e=h.getSelectionStart(t),n=h.getSelectionEnd(t);e===n||h.hasInverseSelection(t)?h.select(t,n,Math.max(e-1,0)):h.select(t,e,Math.max(n-1,0)),y(t)}return d.resolve()},"shift+right":function(t){if(p.isTextEditableElement(t)){var e=h.getSelectionStart(t),n=h.getSelectionEnd(t),o=p.getElementValue(t).length;e!==n&&h.hasInverseSelection(t)?h.select(t,n,Math.min(e+1,o)):h.select(t,e,Math.min(n+1,o)),y(t)}return d.resolve()},"shift+up":function(t){return l.isWebKit&&p.isInputElement(t)?P(t):(p.isTextAreaElement(t)&&b(t,!0),d.resolve())},"shift+down":function(t){return l.isWebKit&&p.isInputElement(t)?C(t):(p.isTextAreaElement(t)&&S(t,!0),d.resolve())},"shift+home":P,"shift+end":C,home:w,end:x,enter:function(t){if(p.isSelectElement(t)&&m.collapseOptionList(),p.isInputElement(t)){l.isIE||c.processElementChanging(t);var e=p.getParents(t,"form")[0];e&&function(t,e){var n=t.querySelectorAll("input, button"),o=null,r=null;for(r=0;r<n.length;r++)if(!o&&"submit"===n[r].type&&!n[r].disabled){o=n[r];break}if(o)a.click(o);else if(p.blocksImplicitSubmission(e)){var i=t.getElementsByTagName("input"),s=[];for(r=0;r<i.length;r++)p.blocksImplicitSubmission(i[r])&&s.push(i[r]);1===s.length&&s[0]===e&&e.validity.valid&&a.submit(t)&&t.submit()}}(e,t)}else if(p.isTextAreaElement(t)){var n=h.getSelectionStart(t),o=p.getTextAreaValue(t),r=o.substring(0,n),i=o.substring(n),s=n+1;A(t,r+String.fromCharCode(10)+i,s)}else t.tagName&&p.isAnchorElement(t)&&a.click(t);return d.resolve()},tab:function(n){return new d(function(t){p.isSelectElement(n)&&(m.collapseOptionList(),t());var e=p.getNextFocusableElement(n);e||t(),u.focus(e,function(){p.isTextEditableInput(e)&&h.select(e),t()})})},"shift+tab":function(n){return new d(function(t){p.isSelectElement(n)&&(m.collapseOptionList(),t());var e=p.getNextFocusableElement(n,!0);e||t(),u.focus(e,function(){p.isTextEditableInput(e)&&h.select(e),t()})})},esc:function(t){return p.isSelectElement(t)&&m.collapseOptionList(),d.resolve()}},e.exports=t.default},"utils.js":function(t,e,n){t.__esModule=!0,t.changeLetterCase=a,t.getActualKeysAndEventKeyProperties=function(t){for(var e=t.slice(),n=0;n<t.length;n++){var o=t[n];if("shift"===o.toLowerCase()){var r=t[n+1];if(!r)continue;i.KEY_MAPS.shiftMap[r]?t[n+1]=i.KEY_MAPS.shiftMap[r]:i.KEY_MAPS.reversedShiftMap[r]&&(e[n+1]=i.KEY_MAPS.reversedShiftMap[r])}!i.KEY_MAPS.shiftMap[o]||t[n-1]&&"shift"===t[n-1].toLowerCase()||(t[n]=i.KEY_MAPS.shiftMap[o],t.splice(n,0,"shift"),e.splice(n,0,"shift"),n++)}return{actualKeys:t,eventKeyProperties:e}},t.getChar=function(t,e){if("space"===t)return" ";if(e){if((0,r.default)(t))return a(t);if(i.KEY_MAPS.reversedShiftMap[t])return i.KEY_MAPS.reversedShiftMap[t]}return t},t.getDeepActiveElement=function t(e){var n=e||Y,o=null,r=l.documentActiveElementGetter.call(n);if(r&&i.domUtils.isDomElement(r)||(r=n.body),r&&i.domUtils.isIframeElement(r)&&r.contentDocument)try{o=t(r.contentDocument)}catch(t){}return o||r};var o=s(n("../../deps/hammerhead")),i=n("../../deps/testcafe-core"),r=s(n("../../utils/is-letter"));function s(t){return t&&t.__esModule?t:{default:t}}var l=o.default.nativeMethods;function a(t){return t===t.toLowerCase()?t.toUpperCase():t.toLowerCase()}}},"rclick.js":function(t,e,n){t.__esModule=!0;var o=u(n("../deps/hammerhead")),r=u(n("../deps/testcafe-core")),i=u(n("./visible-element-automation")),s=n("../utils/utils"),l=u(n("../cursor")),a=u(n("../utils/next-tick"));function u(t){return t&&t.__esModule?t:{default:t}}var c=o.default.Promise,f=o.default.utils.extend,d=o.default.utils.browser,h=o.default.eventSandbox.eventSimulator,p=r.default.domUtils,m=r.default.eventUtils,g=r.default.delay,E=function(o){function r(t,e){!function(t,e){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,o.call(this,t,e));return n.modifiers=e.modifiers,n.caretPos=e.caretPos,n.eventState={simulateDefaultBehavior:!0,activeElementBeforeMouseDown:null},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,o),r.prototype._mousedown=function(t){var e=this;return l.default.rightButtonDown().then(function(){e.eventState.activeElementBeforeMouseDown=p.getActiveElement(),e.eventState.simulateDefaultBehavior=h.mousedown(t.element,t.options)}).then(function(){return e._focus(t)})},r.prototype._focus=function(t){if(!1===this.simulateDefaultBehavior)return(0,a.default)();var e=p.isContentEditableElement(this.element)?this.element:t.element,n=!d.isIE||this.eventState.activeElementBeforeMouseDown===p.getActiveElement();return(0,s.focusAndSetSelection)(e,n,this.caretPos).then(function(){return(0,a.default)()})},r.prototype._mouseup=function(e){var t=this;return l.default.buttonUp().then(function(){return t._getElementForEvent(e)}).then(function(t){return h.mouseup(t,e.options)})},r.prototype._contextmenu=function(e){return this._getElementForEvent(e).then(function(t){h.contextmenu(t,e.options),p.isElementFocusable(t)||(0,s.focusByRelatedElement)(t)})},r.prototype.run=function(t){var r=this,i=null;return this._ensureElement(t).then(function(t){var e=t.element,n=t.clientPoint,o=t.devicePoint;return i={point:n,element:e,options:f({clientX:n.x,clientY:n.y,screenX:o.x,screenY:o.y,button:m.BUTTON.right,which:m.WHICH_PARAMETER.rightButton,buttons:m.BUTTONS_PARAMETER.rightButton},r.modifiers)},c.all([g(r.automationSettings.mouseActionStepDelay),r._mousedown(i)])}).then(function(){return r._mouseup(i)}).then(function(){return r._contextmenu(i)})},r}(i.default);t.default=E,e.exports=t.default},"scroll.js":function(t,e,n){t.__esModule=!0;var o,r=(o=n("../deps/hammerhead"))&&o.__esModule?o:{default:o},d=n("../deps/testcafe-core"),a=r.default.Promise,s=r.default.eventSandbox.message,u="automation|scroll|request",c="automation|scroll|response";s.on(s.SERVICE_MSG_RECEIVED_EVENT,function(t){if(t.message.cmd===u){var e=d.domUtils.findIframeByWindow(t.source),n=t.message.offsetX,o=t.message.offsetY,r=t.message.maxScrollMargin,i=new l(e,{offsetX:n,offsetY:o});i.maxScrollMargin=r,i.run().then(function(){return s.sendServiceMsg({cmd:c},t.source)})}});var l=function(){function n(t,e){!function(t,e){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),this.element=t,this.offsetX=e.offsetX,this.offsetY=e.offsetY,this.scrollToCenter=e.scrollToCenter,this.skipParentFrames=e.skipParentFrames,this.maxScrollMargin=50}return n.prototype._isScrollValuesChanged=function(t,e){return d.styleUtils.getScrollLeft(t)!==e.left||d.styleUtils.getScrollTop(t)!==e.top},n.prototype._setScroll=function(t,e){var n=e.left,o=e.top,r=d.domUtils.isHtmlElement(t)?d.domUtils.findDocument(t):t,i={left:d.styleUtils.getScrollLeft(r),top:d.styleUtils.getScrollTop(r)};n=Math.max(n,0),o=Math.max(o,0);var s=d.scrollController.waitForScroll();return d.styleUtils.setScrollLeft(r,n),d.styleUtils.setScrollTop(r,o),this._isScrollValuesChanged(r,i)?s:(s.cancel(),a.resolve())},n.prototype._getScrollToPoint=function(t,e){var n=e.x,o=e.y,r=Math.floor(t.width/2),i=Math.floor(Math.floor(t.height/2)),s=this.scrollToCenter?r:Math.min(this.maxScrollMargin,r),l=this.scrollToCenter?i:Math.min(this.maxScrollMargin,i),a=n>=t.scroll.left+t.width-s,u=n<=t.scroll.left+s,c=o>=t.scroll.top+t.height-l,f=o<=t.scroll.top+l,d=t.scroll.left,h=t.scroll.top;return a?d=n-t.width+s:u&&(d=n-s),c?h=o-t.height+l:f&&(h=o-l),{left:d,top:h}},n.prototype._getScrollToFullChildView=function(t,e){var n=null,o=null,r=t.width>=e.width,i=t.height>=e.height,s=d.positionUtils.calcRelativePosition(e,t);if(r){var l=Math.floor((t.width-e.width)/2),a=this.scrollToCenter?l:Math.min(this.maxScrollMargin,l);s.left<a?n=Math.round(t.scroll.left+s.left-a):s.right<a&&(n=Math.round(t.scroll.left+Math.min(s.left,-s.right)+a))}if(i){var u=Math.floor((t.height-e.height)/2),c=this.scrollToCenter?u:Math.min(this.maxScrollMargin,u);s.top<c?o=Math.round(t.scroll.top+s.top-c):s.bottom<c&&(o=Math.round(t.scroll.top+Math.min(s.top,-s.bottom)+c))}return{left:n,top:o}},n.prototype._scrollToChild=function(t,e,n){var o=n.offsetX,r=n.offsetY,i=d.positionUtils.getClientDimensions(t),s=d.positionUtils.getClientDimensions(e),l={x:s.left-i.left+i.scroll.left+s.border.left+o,y:s.top-i.top+i.scroll.top+s.border.top+r},a=this._getScrollToFullChildView(i,s),u=this._getScrollToPoint(i,l),c=null===a.left?u.left:a.left,f=null===a.top?u.top:a.top;return this._setScroll(t,{left:c,top:f})},n.prototype._scrollElement=function(){if(!d.styleUtils.hasScroll(this.element))return a.resolve();var t=d.positionUtils.getClientDimensions(this.element),e=this._getScrollToPoint(t,{x:this.offsetX,y:this.offsetY});return this._setScroll(this.element,e)},n.prototype._scrollParents=function(){var e=this,n=d.styleUtils.getScrollableParents(this.element),o=this.element,r=this.offsetX-Math.round(d.styleUtils.getScrollLeft(o)),i=this.offsetY-Math.round(d.styleUtils.getScrollTop(o)),s=null,l=null;return d.promiseUtils.times(n.length,function(t){return e._scrollToChild(n[t],o,{offsetX:r,offsetY:i}).then(function(){s=d.positionUtils.getClientDimensions(o),l=d.positionUtils.getClientDimensions(n[t]),r+=s.left-l.left+l.border.left,i+=s.top-l.top+l.border.top,o=n[t]})}).then(function(){return R.top===R||e.skipParentFrames?a.resolve():(0,d.sendRequestToFrame)({cmd:u,offsetX:r,offsetY:i,maxScrollMargin:e.maxScrollMargin},c,R.parent)})},n.prototype._isElementHiddenByFixed=function(){for(var t=d.positionUtils.getClientDimensions(this.element),e=d.positionUtils.getElementFromPoint(t.left+this.offsetX,t.top+this.offsetY),n=e,o=null;n&&!o;)d.styleUtils.isFixedElement(n)&&(o=n),n=n.parentNode;return e&&o&&!o.contains(this.element)},n.prototype._isScrollMarginTooBig=function(){var t=Math.min(d.styleUtils.getInnerWidth(R),d.styleUtils.getInnerHeight(R));return this.maxScrollMargin>=t/2},n.prototype.run=function(){var t=this;return this._scrollElement().then(function(){return t._scrollParents()}).then(function(){return d.promiseUtils.whilst(function(){return!t._isScrollMarginTooBig()&&t._isElementHiddenByFixed()},function(){return t.maxScrollMargin+=20,t._scrollParents()})})},n}();t.default=l,e.exports=t.default},select:{"base.js":function(t,e,n){t.__esModule=!0;var o=d(n("../../deps/hammerhead")),r=d(n("../../deps/testcafe-core")),i=d(n("../visible-element-automation")),s=n("../../get-element"),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n("./utils")),a=d(n("../move")),u=n("../../../../test-run/commands/options"),c=d(n("../../cursor")),f=d(n("../../errors"));function d(t){return t&&t.__esModule?t:{default:t}}var h=o.default.Promise,p=o.default.utils.browser,m=o.default.utils.featureDetection,g=o.default.eventSandbox.eventSimulator,E=o.default.eventSandbox.focusBlur,v=r.default.contentEditable,y=r.default.domUtils,b=r.default.positionUtils,S=r.default.eventUtils,_=r.default.delay,A=function(o){function r(t,e){!function(t,e){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,o.call(this,t,e));return n.absoluteStartPoint=null,n.absoluteEndPoint=null,n.clientPoint=null,n.speed=e.speed,n.downEvent=m.isTouchDevice?"touchstart":"mousedown",n.upEvent=m.isTouchDevice?"touchend":"mouseup",n.eventArgs={options:null,element:null},n.eventState={mousedownPrevented:!1,simulateDefaultBehavior:!0},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,o),r._calculateEventArguments=function(t){var n=b.offsetToClientCoords(t);return(0,s.fromPoint)(n.x,n.y).then(function(t){var e=t.element;if(!e)throw new Error(f.default.elementIsInvisibleError);return{element:e,options:{clientX:n.x,clientY:n.y}}})},r.prototype._move=function(t){var e=this,n=t.element,o=t.offsetX,r=t.offsetY,i=t.speed,s=new u.MoveOptions({offsetX:o,offsetY:r,speed:i},!1);return new a.default(n,s).run().then(function(){return _(e.automationSettings.mouseActionStepDelay)})},r.prototype._bindMousedownHandler=function(){var n=this;S.bind(this.element,"mousedown",function t(e){n.eventState.mousedownPrevented=e.defaultPrevented,S.preventDefault(e),S.unbind(n.element,"mousedown",t)})},r.prototype._calculateAbsoluteStartPoint=function(){throw new Error("Not implemented")},r.prototype._calculateAbsoluteEndPoint=function(){throw new Error("Not implemented")},r.prototype._moveToPoint=function(t){l.scrollEditableElementByPoint(this.element,t),this.clientPoint=l.excludeElementScroll(this.element,t);var e={element:Y.documentElement,offsetX:this.clientPoint.x,offsetY:this.clientPoint.y,speed:this.speed};return this._move(e)},r.prototype._mousedown=function(){var n=this;return c.default.leftButtonDown().then(function(){return r._calculateEventArguments(n.clientPoint)}).then(function(t){n.eventArgs=t;var e=(p.isWebKit||p.isIE)&&y.isSelectElement(n.element);return e&&n._bindMousedownHandler(),n.eventState.simulateDefaultBehavior=g[n.downEvent](n.eventArgs.element,n.eventArgs.options),!1===n.eventState.simulateDefaultBehavior&&(n.eventState.simulateDefaultBehavior=e&&!n.eventState.mousedownPrevented),n._focus()})},r.prototype._focus=function(){var n=this;return new h(function(t){var e=y.isContentEditableElement(n.element)?v.findContentEditableParent(n.element):n.element;E.focus(e,t,!1,!0)})},r.prototype._setSelection=function(){throw new Error("Not implemented")},r.prototype._mouseup=function(){var e=this;return c.default.buttonUp().then(function(){return e._setSelection(),r._calculateEventArguments(e.clientPoint)}).then(function(t){e.eventArgs=t,g[e.upEvent](e.eventArgs.element,e.eventArgs.options)})},r.prototype.run=function(){var t=this;return this.absoluteStartPoint=this._calculateAbsoluteStartPoint(),this.absoluteEndPoint=this._calculateAbsoluteEndPoint(),this._moveToPoint(this.absoluteStartPoint).then(function(){return t._mousedown()}).then(function(){return t._moveToPoint(t.absoluteEndPoint)}).then(function(){return t._mouseup()})},r}(i.default);t.default=A,e.exports=t.default},"calculate-select-text-arguments.js":function(t,e,n){t.__esModule=!0,t.default=function(t){var e,n,o,r,i,s,l,a,u,c,f,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},h=v.isTextEditableElement(t),p=h?0:y.getFirstVisiblePosition(t),m=h?v.getElementValue(t).length:y.getLastVisiblePosition(t),g=d.startPos?Math.min(d.startPos,m):p,E=void 0===d.endPos||null===d.endPos?m:Math.min(d.endPos,m);return void 0!==d.offset?(0<=d.offset?E=Math.min(d.offset,E):(g=E,E=Math.max(0,E+d.offset)),{startPos:g,endPos:E}):void 0!==d.startLine?(e=t,n=d,i=(r=(o=v.getTextAreaValue(e))&&o.length?o.split("\n"):[]).length-1,l=r[s=n.startLine?Math.min(n.startLine,i):0]?r[s].length:0,a=n.startPos?Math.min(n.startPos,l):0,c=r[u=void 0===n.endLine||null===n.endLine?i:Math.min(n.endLine,i)]?r[u].length:0,f=void 0===n.endPos||null===n.endPos?c:Math.min(n.endPos,c),{startPos:v.getTextareaPositionByLineAndOffset(e,s,0)+a,endPos:v.getTextareaPositionByLineAndOffset(e,u,0)+f}):{startPos:g,endPos:E}};var o,r=(o=n("../../deps/testcafe-core"))&&o.__esModule?o:{default:o},v=r.default.domUtils,y=r.default.contentEditable;e.exports=t.default},"select-editable-content.js":function(t,e,n){t.__esModule=!0;var o=s(n("../../deps/testcafe-core")),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n("./utils")),i=s(n("./base"));function s(t){return t&&t.__esModule?t:{default:t}}var l=o.default.textSelection,f=o.default.contentEditable,a=o.default.positionUtils,u=function(u){function c(t,e,n){!function(t,e){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}(this);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,u.call(this,f.getNearestCommonAncestor(t,e),n)),r=f.getFirstVisiblePosition(t),i=f.getLastVisiblePosition(e),s={node:t,offset:r},l={node:e,offset:i},a=f.calculatePositionByNodeAndOffset(o.element,s);return f.calculatePositionByNodeAndOffset(o.element,l)<a&&(r=f.getLastVisiblePosition(t),i=f.getFirstVisiblePosition(e)),s=f.calculateNodeAndOffsetByPosition(t,r),l=f.calculateNodeAndOffsetByPosition(e,i),o.startNode=s.node,o.startOffset=s.offset,o.endNode=l.node,o.endOffset=l.offset,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(c,u),c.prototype._calculateAbsoluteStartPoint=function(){return r.getSelectionCoordinatesByNodeAndOffset(this.element,this.startNode,this.startOffset)||a.findCenter(this.element)},c.prototype._calculateAbsoluteEndPoint=function(){return r.getSelectionCoordinatesByNodeAndOffset(this.element,this.endNode,this.endOffset)||a.findCenter(this.element)},c.prototype._setSelection=function(){if(!1!==this.eventState.simulateDefaultBehavior){var t={node:this.startNode,offset:this.startOffset},e={node:this.endNode,offset:this.endOffset};l.selectByNodesAndOffsets(t,e,!0)}},c}(i.default);t.default=u,e.exports=t.default},"select-text.js":function(t,e,n){t.__esModule=!0;var o=i(n("../../deps/testcafe-core")),l=n("../../deps/hammerhead"),r=i(n("./base")),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n("./utils"));function i(t){return t&&t.__esModule?t:{default:t}}var u=o.default.textSelection,c=o.default.domUtils,f=o.default.positionUtils,s=function(i){function s(t,e,n,o){!function(t,e){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}(this);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,i.call(this,t,l.utils.extend(o,{offsetX:0,offsetY:0})));return r.startPos=e,r.endPos=n,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(s,i),s.prototype._calculateAbsoluteStartPoint=function(){return a.getSelectionCoordinatesByPosition(this.element,this.startPos)||f.findCenter(this.element)},s.prototype._calculateAbsoluteEndPoint=function(){return a.getSelectionCoordinatesByPosition(this.element,this.endPos)||(c.isContentEditableElement(this.element)?a.getLastVisibleSelectionPosition(this.element,this.startPos,this.endPos):f.findCenter(this.element))},s.prototype._setSelection=function(){var t=c.isTextEditableElement(this.element),e=c.isContentEditableElement(this.element);(t||e)&&!1!==this.eventState.simulateDefaultBehavior&&u.select(this.element,this.startPos,this.endPos)},s.prototype.run=function(t){var e=this;return this._ensureElement(t).then(function(){return i.prototype.run.call(e)})},s}(r.default);t.default=s,e.exports=t.default},"utils.js":function(t,e,n){t.__esModule=!0,t.getSelectionCoordinatesByPosition=function(t,e){var n=h.isTextEditableElement(t),o=h.isContentEditableElement(t);return n&&0<h.getElementValue(t).length||o&&c.getContentEditableValue(t).length?s(t,e):p.findCenter(t)},t.getSelectionCoordinatesByNodeAndOffset=function(t,e,n){var o=h.findDocument(t).createRange();o.setStart(e,Math.min(n,e.length)),o.setEnd(e,Math.min(n,e.length));var r=o.getClientRects()[0];return r?{x:(r=v(r=E(t,r))).left,y:Math.floor(r.top+(r.bottom-r.top)/2)}:null},t.getLastVisibleSelectionPosition=function(t,e,n){for(var o=n<e?1:-1,r=n,i=null;r!==e&&!(i=s(t,r+=o)););return i||(i=s(t,e)||p.findCenter(t)),i},t.scrollEditableElementByPoint=function(t,e){if(h.isEditableElement(t)){var n=h.isTextAreaElement(t);if(!h.isInputElement(t)||!(u.isFirefox||u.isIE&&10<u.version)){var o=p.getOffsetPosition(t),r=m.getBordersWidth(t),i=m.getElementScroll(t),s=e.x-o.left-r.left,l=e.y-o.top-r.top,a=null;if(n)return l<i.top&&(a=l),l>t.clientHeight+i.top&&(a=l-t.clientHeight),void(null!==a&&m.setScrollTop(t,Math.round(a)));s<i.left&&(a=s),s>t.clientWidth+i.left&&(a=s-t.clientWidth),null!==a&&m.setScrollLeft(t,Math.round(a))}}},t.excludeElementScroll=function(t,e){var n=h.isTextEditableElement(t),o=h.isInputElement(t);if(!n&&!h.isContentEditableElement(t))return e;var r=p.getOffsetPosition(t),i=m.getBordersWidth(t),s=m.getElementScroll(t),l=r.left+i.left+t.clientWidth;return o&&n&&(u.isFirefox||u.isIE&&10<u.version)?{x:Math.min(e.x,l),y:e.y}:{x:e.x-s.left,y:e.y-s.top}};var f=r(n("../../deps/hammerhead")),o=r(n("../../deps/testcafe-core"));function r(t){return t&&t.__esModule?t:{default:t}}var u=f.default.utils.browser,h=o.default.domUtils,p=o.default.positionUtils,m=o.default.styleUtils,c=o.default.contentEditable,d=o.default.arrayUtils,g=["direction","font-family","font-size","font-size-adjust","font-variant","font-weight","font-style","letter-spacing","line-height","text-align","text-indent","text-transform","word-wrap","word-spacing","padding-top","padding-left","padding-right","padding-bottom","margin-top","margin-left","margin-right","margin-bottom","border-top-width","border-left-width","border-right-width","border-bottom-width"];function E(t,e){var n=m.getBordersWidth(t),o=p.getOffsetPosition(t),r=t.scrollHeight||t.getBoundingClientRect().height,i=Math.ceil(e.left),s=Math.ceil(e.top),l=Math.floor(e.bottom);if(!h.isTextAreaElement(t)){var a=p.offsetToClientCoords({x:o.left,y:o.top}),u=a.x+n.left+1,c=a.y+n.top+1,f=a.y+n.top+n.bottom+r,d=a.y+n.top+r-1;i=Math.ceil(i<=a.x?u:e.left),s=Math.ceil(s<=a.y?c:e.top),l=Math.floor(f<=l?d:e.bottom)}return{left:i,top:s,bottom:l}}function v(t){var e=m.getElementScroll(Y);return{left:t.left+e.left,top:t.top+e.top,bottom:t.bottom+e.top}}function s(t,e){var n,o,r,i,s,l,a=null;return h.isContentEditableElement(t)?(r=t,i=e,s=h.findDocument(r).createRange(),l=c.calculateNodeAndOffsetByPosition(r,i),s.setStart(l.node,Math.min(l.offset,l.node.length)),s.setEnd(l.node,Math.min(l.offset,l.node.length)),a=s.getClientRects()[0]):"function"==typeof t.createTextRange?(n=e,(o=t.createTextRange()).collapse(!0),o.moveStart("character",n),o.moveEnd("character",n),o.collapse(!0),a=o.getBoundingClientRect()):a=function(t,e){var n=t.getBoundingClientRect(),o=function(e){var t=Y.body,n=p.getOffsetPosition(e),o=m.getElementMargin(e),r=n.top-o.top,i=n.left-o.left,s=Y.createElement("div"),l="white-space:pre-wrap;border-style:solid;";if("absolute"===m.get(t,"position")){var a=m.getElementMargin(t),u=m.get(t,"left"),c=m.get(t,"top");i-=a.left+(parseInt(u.replace("px",""),10)||0),r-=a.top+(parseInt(c.replace("px",""),10)||0)}return d.forEach(g,function(t){l+=t+":"+m.get(e,t)+";"}),m.set(s,{cssText:l,position:"absolute",left:i+"px",top:r+"px",width:e.scrollWidth+"px",height:e.scrollHeight+"px"}),f.default.nativeMethods.nodeTextContentSetter.call(s,h.getElementValue(e)+" "),t.appendChild(s),s}(t),r=null,i=t.getBoundingClientRect(),s=i.top-n.top,l=i.left-n.left,a=h.getElementValue(t).length;try{var u=Y.createRange();u.setStart(f.default.nativeMethods.nodeFirstChildGetter.call(o),Math.min(e,a)),u.setEnd(f.default.nativeMethods.nodeFirstChildGetter.call(o),Math.min(e+1,a+1)),h.isTextAreaElement(t)?0===(r=u.getBoundingClientRect()).width&&0===r.height&&(r=u.getClientRects()[0]):r=u.getClientRects()[0]}catch(t){r=null}return h.remove(o),r?{width:r.width,height:r.height,top:r.top-s,bottom:r.bottom-s,left:r.left-l,right:r.right-l}:null}(t,e),a?{x:(a=v(a=E(t,a))).left,y:Math.floor(a.top+(a.bottom-a.top)/2)}:null}}},type:{"index.js":function(t,e,n){t.__esModule=!0;var o=i(n("../../deps/hammerhead")),r=i(n("../../deps/testcafe-core")),c=n("../../../../test-run/commands/options"),f=i(n("../click")),l=i(n("./type-text")),s=i(n("../../utils/get-key-code")),a=i(n("../../utils/get-key-identifier")),u=i(n("../../utils/key-identifier-required-for-event")),d=n("../../utils/offsets"),h=i(n("../../settings"));function i(t){return t&&t.__esModule?t:{default:t}}var p=o.default.Promise,m=o.default.utils.extend,g=o.default.eventSandbox.eventSimulator,E=o.default.eventSandbox.elementEditingWatcher,v=r.default.domUtils,y=r.default.promiseUtils,b=r.default.contentEditable,S=r.default.textSelection,_=r.default.delay,A=r.default.KEY_MAPS.specialKeys,w=function(){function i(t,e,n){!function(t,e){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this),this.element=i.findTextEditableChild(t)||t,this.typingText=e.toString(),this.modifiers=n.modifiers,this.caretPos=n.caretPos,this.replace=n.replace,this.paste=n.paste,this.offsetX=n.offsetX,this.offsetY=n.offsetY,this.speed=n.speed,this.automationSettings=new h.default(this.speed),this.elementChanged=t!==this.element,this.currentPos=0,this.currentKeyCode=null,this.currentCharCode=null,this.currentKey=null,this.currentKeyIdentifier=null,this.eventArgs={options:null,element:null},this.eventState={skipType:!1,simulateKeypress:!0,simulateTypeChar:!0}}return i.findTextEditableChild=function(t){var e=null;if(!v.isEditableElement(t))for(var n=t.querySelectorAll("*"),o=0;o<n.length;o++)if(v.isTextEditableElementAndEditingAllowed(n[o])){e=n[o];break}return e},i.prototype._calculateEventArguments=function(t){var e=v.getActiveElement(),n=v.isContentEditableElement(this.element),o=this.eventArgs.element||this.element;n||e===o||(o=i.findTextEditableChild(e)||e);var r=m({keyCode:t?this.currentCharCode:this.currentKeyCode},this.modifiers);return t&&(r.charCode=this.currentCharCode),(0,u.default)()?r.keyIdentifier=t?"":this.currentKeyIdentifier:r.key=this.currentKey,{element:o,options:r}},i.prototype._calculateTargetElement=function(){var t=v.getActiveElement(),e=v.isContentEditableElement(this.element);if(e){if(t!==b.findContentEditableParent(this.element))return void(this.eventState.skipType=!0)}else if(t!==this.element)return void(this.eventState.skipType=!0);this.element=e?this.element:t},i.prototype._click=function(t){var e=this,n=v.getActiveElement(),o=v.isTextEditableElementAndEditingAllowed(this.element),r=v.isContentEditableElement(this.element);if(n!==this.element){var i=(0,d.getDefaultAutomationOffsets)(this.element),s=i.offsetX,l=i.offsetY,a=new c.ClickOptions({offsetX:this.elementChanged?s:this.offsetX,offsetY:this.elementChanged?l:this.offsetY,speed:this.speed,caretPos:this.caretPos,modifiers:this.modifiers});return new f.default(this.element,a).run(t).then(function(){return _(e.automationSettings.mouseActionStepDelay)})}if(o&&E.watchElementEditing(this.element),o||r){var u=S.getSelectionStart(this.element);isNaN(parseInt(this.caretPos,10))||this.caretPos===u||S.select(this.element,this.caretPos,this.caretPos)}return p.resolve()},i.prototype._type=function(){var t=this;if(this.eventState.skipType)return p.resolve();var e=v.isContentEditableElement(this.element);return this.replace&&(v.isTextEditableElementAndEditingAllowed(this.element)?S.select(this.element):e&&S.deleteSelectionContents(this.element,!0)),y.whilst(function(){return!t._isTypingFinished()},function(){return t._typingStep()})},i.prototype._isTypingFinished=function(){return this.currentPos===this.typingText.length},i.prototype._typingStep=function(){var t=this.typingText.charAt(this.currentPos);return this.currentKeyCode=(0,s.default)(t),this.currentCharCode=this.typingText.charCodeAt(this.currentPos),this.currentKey=this.currentKeyCode===A.enter?"Enter":t,this.currentKeyIdentifier=(0,a.default)(this.currentKey),this._keydown(),this._keypress(),this._keyup()},i.prototype._keydown=function(){this.eventArgs=this._calculateEventArguments(),this.eventState.simulateKeypress=g.keydown(this.eventArgs.element,this.eventArgs.options)},i.prototype._keypress=function(){!1!==this.eventState.simulateKeypress&&(this.eventArgs=this._calculateEventArguments(!0),this.eventState.simulateTypeChar=g.keypress(this.eventArgs.element,this.eventArgs.options))},i.prototype._keyup=function(){var t=this,e=this.eventArgs.element;this.eventArgs=this._calculateEventArguments();var n=v.isTextEditableElement(this.element),o=v.isContentEditableElement(this.element),r=this.paste||!n&&!o;return p.resolve().then(function(){return r?t._typeAllText(e):t._typeChar(e)}).then(function(){g.keyup(t.eventArgs.element,t.eventArgs.options),r?t.currentPos=t.typingText.length:t.currentPos++})},i.prototype._typeChar=function(t){if(!1===this.eventState.simulateKeypress||!1===this.eventState.simulateTypeChar)return E.restartWatchingElementEditing(t),_(this.automationSettings.keyActionStepDelay);var e=this.typingText.charAt(this.currentPos),n=/^\d$/.test(e),o=0===this.currentPos?null:this.typingText.charAt(this.currentPos-1);if(v.isInputElement(t)&&"number"===t.type){var r=S.getSelectionStart(t),i=v.getInputValue(t).length,s=/^\d/.test(this.typingText);if(!n&&(s||!("."===e||"-"===e&&i)||0!==r))return _(this.automationSettings.keyActionStepDelay);n&&("."===o||"-"===o&&!i)&&(e=o+e)}return(0,l.default)(t,e,null),_(this.automationSettings.keyActionStepDelay)},i.prototype._typeAllText=function(t){return(0,l.default)(t,this.typingText,this.caretPos),_(this.automationSettings.keyActionStepDelay)},i.prototype.run=function(t){var e=this;return this._click(t).then(function(){return e._calculateTargetElement()}).then(function(){return e._type()})},i}();t.default=w,e.exports=t.default},"type-text.js":function(t,e,n){t.__esModule=!0,t.default=function(t,e,n){_.isContentEditableElement(t)&&function(t,e){var n,o=x(t),r=o.startPos.node,i=o.endPos.node,s=!0,l=e;e=e.replace(w,String.fromCharCode(160));var a,u,c,f,d,h,p,m,g=function(){s=!1};function E(t,e,n){n()}r&&i&&_.isContentEditableElement(r)&&_.isContentEditableElement(i)&&(_.isTheSameNode(r,i)||(A.deleteSelectionContents(t),a=t,c=(u=o).startPos.node,f=c.parentNode&&c.parentElement,(y.isChrome&&y.version<58||y.isSafari||!f||!_.isElementContainsNode(a,c))&&(u=x(a),A.hasInverseSelectionContentEditable(a)&&(u={startPos:u.endPos,endPos:u.startPos})),u.endPos.offset=u.startPos.offset,r=(o=u).startPos.node),r&&_.isContentEditableElement(r)&&_.isRenderedNode(r)&&(n=C(t,l),s=n&&!y.isIE11,S.addInternalEventListener(R,["input"],g),S.addInternalEventListener(R,["textinput"],E),n&&(_.isElementNode(r)?(d=r,h=e,p=Y.createTextNode(h),m={node:p,offset:h.length},"br"===_.getTagName(d)?d.parentNode.insertBefore(p,d):d.appendChild(p),A.selectByNodesAndOffsets(m,m)):function(t,e,n){var o=e.startPos.node;_.isElementContainsNode(t,o)||(o=(e=P(x(t))).startPos.node);var r=e.startPos.offset,i=e.endPos.offset,s=o.nodeValue,l={node:o,offset:r+n.length};o.nodeValue=s.substring(0,r)+n+s.substring(i,s.length),A.selectByNodesAndOffsets(l,l)}(t,P(o),e)),(0,v.default)().then(function(){s&&b.input(t),S.removeInternalEventListener(R,["input"],g),S.removeInternalEventListener(R,["textinput"],E)})))}(t,e),_.isElementReadOnly(t)||(_.isTextEditableElement(t)?function(t,e){var n=_.getElementValue(t),o=e.length,r=A.getSelectionStart(t),i=A.getSelectionEnd(t),s=_.isInputElement(t)&&"number"===t.type;if(C(t,e)){var l=!y.isIE&&s?null:parseInt(t.maxLength,10);l<0&&(l=y.isIE&&y.version<17?0:null),(null===l||isNaN(l)||l>n.length)&&(s&&y.isIOS&&"."===n[n.length-1]&&(r+=1,i+=1),_.setElementValue(t,n.substring(0,r)+e+n.substring(i,n.length)),A.select(t,r+o,r+o)),b.input(t)}}(t,e):_.isInputElement(t)&&function(t,e,n){if(null!==n){var o=_.getElementValue(t);_.setElementValue(t,o.substr(0,n)+e+o.substr(n+e.length))}else _.setElementValue(t,e);b.change(t),b.input(t)}(t,e,n))};var o=i(n("../../deps/hammerhead")),r=i(n("../../deps/testcafe-core")),v=i(n("../../utils/next-tick"));function i(t){return t&&t.__esModule?t:{default:t}}var y=o.default.utils.browser,s=o.default.sandbox.event,b=o.default.eventSandbox.eventSimulator,S=o.default.eventSandbox.listeners,_=r.default.domUtils,l=r.default.contentEditable,A=r.default.textSelection,w=/ /g;function x(t){var e=A.getSelectionByElement(t),n=A.hasInverseSelectionContentEditable(t);return A.hasElementContainsSelection(t)?l.getSelection(t,e,n):{startPos:l.calculateNodeAndOffsetByPosition(t,0),endPos:l.calculateNodeAndOffsetByPosition(t,0)}}function P(t){var e=t.startPos.node,n=t.startPos.offset,o=t.endPos.offset,r=l.getFirstNonWhitespaceSymbolIndex(e.nodeValue),i=l.getLastNonWhitespaceSymbolIndex(e.nodeValue);return n<r&&0!==n?(t.startPos.offset=r,t.endPos.offset=o+r-n):i<o&&o!==e.nodeValue.length&&(t.startPos.offset=e.nodeValue.length,t.endPos.offset=o+e.nodeValue.length-n),t}function C(t,e){var n=void 0;function o(t){t.preventDefault(),n=!0}function r(t){"textInput"===t.type&&(n=!1)}y.isSafari&&(S.addInternalEventListener(R,["textInput"],o),s.on(s.EVENT_PREVENTED_EVENT,r));var i=y.isFirefox||b.textInput(t,e)||n;return y.isSafari&&(S.removeInternalEventListener(R,["textInput"],o),s.off(s.EVENT_PREVENTED_EVENT,r)),i||y.isIE11}e.exports=t.default}},"upload.js":function(t,e,n){t.__esModule=!0;var r=n("../deps/hammerhead"),i=n("../deps/testcafe-core"),o=function(){function o(t,e,n){!function(t,e){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}(this),this.element=t,this.paths=e,this.createError=n}return o.prototype.run=function(){var e=this;return(0,r.doUpload)(this.element,this.paths).then(function(t){if(t.length)throw e.createError(i.arrayUtils.map(t,function(t){return t.path}))})},o}();t.default=o,e.exports=t.default},"visible-element-automation.js":function(t,e,n){t.__esModule=!0;var o=r(n("../deps/hammerhead")),p=n("../deps/testcafe-core"),i=r(n("../utils/get-automation-point")),s=r(n("../utils/screen-point-to-client")),d=r(n("../utils/get-device-point")),m=n("../get-element"),l=r(n("../errors")),a=r(n("../settings")),u=r(n("./scroll")),c=r(n("./move")),f=n("../../../test-run/commands/options");function r(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var g=o.default.utils.extend,E=function t(e){var n=e.element,o=void 0===n?null:n,r=e.clientPoint,i=void 0===r?null:r,s=e.screenPoint,l=void 0===s?null:s,a=e.isTarget,u=void 0!==a&&a,c=e.inMoving,f=void 0!==c&&c;h(this,t),this.element=o,this.clientPoint=i,this.screenPoint=l,this.isTarget=u,this.inMoving=f,this.devicePoint=(0,d.default)(i)},v=function(o){function r(t,e){h(this,r);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,o.call(this));return n.TARGET_ELEMENT_FOUND_EVENT="automation|target-element-found-event",n.element=t,n.options=e,n.automationSettings=new a.default(e.speed),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,o),r.prototype._getElementForEvent=function(t){var e=t.point,n=e.x,o=e.y,r=p.positionUtils.containsOffset(this.element,this.options.offsetX,this.options.offsetY)?this.element:null;return(0,m.fromPoint)(n,o,r).then(function(t){return t.element})},r.prototype._moveToElement=function(){var t=this,e=new f.MoveOptions(g({skipScrolling:!0},this.options),!1);return new c.default(this.element,e).run().then(function(){return(0,p.delay)(t.automationSettings.mouseActionStepDelay)})},r.prototype._scrollToElement=function(){var t=this;return new u.default(this.element,new f.ScrollOptions(this.options)).run().then(function(){return(0,p.delay)(t.automationSettings.mouseActionStepDelay)})},r.prototype._wrapAction=function(t){var f=this,e=this.options.offsetX,n=this.options.offsetY,d=(0,i.default)(this.element,e,n),h=p.positionUtils.getClientPosition(this.element);return t().then(function(){var l=(0,i.default)(f.element,e,n),a=p.positionUtils.getClientPosition(f.element),u=(0,s.default)(f.element,l),c=p.positionUtils.containsOffset(f.element,e,n)?f.element:null;return(0,m.fromPoint)(u.x,u.y,c).then(function(t){var e=t.element,n=t.corrected,o=e;if(!o)return new E({});var r=!c||n||o===f.element;r||(r=-1<p.arrayUtils.indexOf(p.domUtils.getParents(o),f.element));var i=d.x!==l.x||d.y!==l.y,s=h.x!==a.x||h.y!==a.y;return new E({element:e,clientPoint:u,screenPoint:l,isTarget:r,inMoving:i&&s})})})},r._checkElementState=function(t,e){if(!t.element)throw new Error(l.default.elementIsInvisibleError);if(e&&(!t.isTarget||t.inMoving))throw new Error(l.default.foundElementIsNotTarget)},r.prototype._ensureElement=function(e,n){var o=this;return this._wrapAction(function(){return o._scrollToElement()}).then(function(t){return r._checkElementState(t,e)}).then(function(){return o._wrapAction(function(){return o._moveToElement()})}).then(function(t){return n||r._checkElementState(t,e),t}).then(function(t){return o.emit(o.TARGET_ELEMENT_FOUND_EVENT,{}),{element:t.element,clientPoint:t.clientPoint,screenPoint:t.screenPoint,devicePoint:t.devicePoint}})},r}(p.serviceUtils.EventEmitter);t.default=v,e.exports=t.default}},"settings.js":function(t,e,n){t.__esModule=!0;var o=function(){function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}}(),r=function(){function n(t){!function(t,e){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),this.speedFactor=t||1}return o(n,[{key:"mouseActionStepDelay",get:function(){return 1===this.speedFactor?10:400*(1-this.speedFactor)}},{key:"keyActionStepDelay",get:function(){return 1===this.speedFactor?10:200*(1-this.speedFactor)}},{key:"cursorSpeed",get:function(){return Math.pow(400,this.speedFactor)/4}},{key:"draggingSpeed",get:function(){return Math.pow(16,this.speedFactor)/4}}]),n}();t.default=r,e.exports=t.default},utils:{"get-automation-point.js":function(t,e,n){t.__esModule=!0,t.default=function(t,e,n){var o=r.positionUtils.getOffsetPosition(t);return{x:(t===Y.documentElement?0:o.left)+e,y:(t===Y.documentElement?0:o.top)+n}};var r=n("../deps/testcafe-core");e.exports=t.default},"get-device-point.js":function(t,e,n){t.__esModule=!0,t.default=function(t){if(!t)return null;var e=R.screenLeft||R.screenX,n=R.screenTop||R.screenY;return{x:e+t.x,y:n+t.y}},e.exports=t.default},"get-key-code.js":function(t,e,n){t.__esModule=!0,t.default=function(t){if((0,i.default)(t))return t.toUpperCase().charCodeAt(0);var e=r.KEY_MAPS.shiftMap[t]?r.KEY_MAPS.shiftMap[t].charCodeAt(0):t.charCodeAt(0);return r.KEY_MAPS.symbolCharCodeToKeyCode[e]||e};var o,r=n("../deps/testcafe-core"),i=(o=n("./is-letter"))&&o.__esModule?o:{default:o};e.exports=t.default},"get-key-identifier.js":function(t,e,n){t.__esModule=!0,t.default=function(t){return(0,r.default)(t)?o.default.LETTERS[t.toLowerCase()]:o.default.SYMBOLS[t]||o.default.SPECIAL_KEYS[t]||t};var o=i(n("./key-identifier-maps")),r=i(n("./is-letter"));function i(t){return t&&t.__esModule?t:{default:t}}e.exports=t.default},"get-line-rect-intersection.js":function(t,e,n){t.__esModule=!0,t.default=function(t,e,n){for(var o=[],r=null,i=[{x1:n.left,y1:n.top,x2:n.left,y2:n.bottom,isHorizontal:!1},{x1:n.right,y1:n.top,x2:n.right,y2:n.bottom,isHorizontal:!1},{x1:n.left,y1:n.top,x2:n.right,y2:n.top,isHorizontal:!0},{x1:n.left,y1:n.bottom,x2:n.right,y2:n.bottom,isHorizontal:!0}],s=0;s<i.length;s++)(r=a(t,e,i[s]))&&o.push(r);return o.length?1===o.length?o[0]:l(t,o[0])<l(t,o[1])?o[0]:o[1]:null};var i=n("../deps/testcafe-core");function l(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function a(t,e,n){var o=null;if(n.isHorizontal)return(o=i.positionUtils.getLineXByYCoord(t,e,n.y1))&&o>=n.x1&&o<=n.x2?{x:o,y:n.y1}:null;var r=i.positionUtils.getLineYByXCoord(t,e,n.x1);return r&&r>=n.y1&&r<=n.y2?{x:n.x1,y:r}:null}e.exports=t.default},"is-letter.js":function(t,e,n){t.__esModule=!0,t.default=function(t){return 1===t.length&&("a"<=t&&t<="z"||"A"<=t&&t<="Z")},e.exports=t.default},"key-identifier-maps.js":function(t,e,n){t.__esModule=!0,t.default={SPECIAL_KEYS:{capslock:"CapsLock",delete:"U+007F",end:"End",enter:"Enter",esc:"U+001B",home:"Home",ins:"Insert",pagedown:"PageDown",pageup:"PageUp",space:"U+0020",tab:"Tab",alt:"Alt",ctrl:"Control",meta:"Meta",shift:"Shift"},LETTERS:{a:"U+0041",b:"U+0042",c:"U+0043",d:"U+0044",e:"U+0045",f:"U+0046",g:"U+0047",h:"U+0048",i:"U+0049",j:"U+004A",k:"U+004B",l:"U+004C",m:"U+004D",n:"U+004E",o:"U+004F",p:"U+0050",q:"U+0051",r:"U+0052",s:"U+0053",t:"U+0054",u:"U+0055",v:"U+0056",w:"U+0057",x:"U+0058",y:"U+0059",z:"U+005A"},SYMBOLS:{0:"U+0030",1:"U+0031",2:"U+0032",3:"U+0033",4:"U+0034",5:"U+0035",6:"U+0036",7:"U+0037",8:"U+0038",9:"U+0039"," ":"U+0020","!":"U+0021","@":"U+0040","#":"U+0023",$:"U+0024","%":"U+0025","^":"U+005E","*":"U+002A","(":"U+0028",")":"U+0029",_:"U+005F","|":"U+007C","\\":"U+005C","/":"U+002F","?":"U+003F",".":"U+002E",",":"U+002C","<":"U+003C",">":"U+003E","[":"U+005B","]":"U+005D","{":"U+007B","}":"U+007D","":"U+00A7","":"U+00B1","'":"U+0027",'"':"U+0022",":":"U+003A",";":"U+003B","`":"U+0060","~":"U+007E"}},e.exports=t.default},"key-identifier-required-for-event.js":function(t,e,n){t.__esModule=!0,t.default=function(){return r.isSafari||r.isChrome&&r.version<54};var o,r=((o=n("../deps/hammerhead"))&&o.__esModule?o:{default:o}).default.utils.browser;e.exports=t.default},"next-tick.js":function(t,e,n){t.__esModule=!0,t.default=function(){return new i(function(t){return s.setTimeout.call(R,t,0)})};var o,r=(o=n("../deps/hammerhead"))&&o.__esModule?o:{default:o},i=r.default.Promise,s=r.default.nativeMethods;e.exports=t.default},"offsets.js":function(t,e,n){t.__esModule=!0,t.getDefaultAutomationOffsets=c,t.getOffsetOptions=function(t,e,n){var o=c(t);if(e="number"==typeof e?Math.round(e):o.offsetX,n="number"==typeof n?Math.round(n):o.offsetY,0<e&&0<n)return{offsetX:e,offsetY:n};var r=u.positionUtils.getClientDimensions(t),i=Math.round(Math.max(t.scrollWidth,r.width)),s=Math.round(Math.max(t.scrollHeight,r.height)),l=r.scrollbar.right+r.border.left+r.border.right+i,a=r.scrollbar.bottom+r.border.top+r.border.bottom+s;return{offsetX:e<0?l+e:e,offsetY:n<0?a+n:n}},t.getMoveAutomationOffsets=function(t,e,n){if(u.positionUtils.containsOffset(t,e,n))return{offsetX:e,offsetY:n};var o=(0,r.default)(t,e,n);return{offsetX:o.x,offsetY:o.y}};var o,u=n("../deps/testcafe-core"),r=(o=n("./get-automation-point"))&&o.__esModule?o:{default:o};function i(t){var e=t/2;return e<1?0:Math.round(e)}function c(t){var e=u.positionUtils.getElementRectangle(t);return{offsetX:i(e.width),offsetY:i(e.height)}}},"screen-point-to-client.js":function(t,e,n){t.__esModule=!0,t.default=function(t,e){var n=o.styleUtils.getElementScroll(t);return!/html/i.test(t.tagName)&&o.styleUtils.hasScroll(t)&&(e.x-=n.left,e.y-=n.top),o.positionUtils.offsetToClientCoords(e)};var o=n("../deps/testcafe-core");e.exports=t.default},"utils.js":function(t,e,n){t.__esModule=!0,t.focusAndSetSelection=function(p,m,g){return new s(function(t){var e=_.getActiveElement(),n=_.isTextEditableElement(p),o=_.closest(p,"label[for]"),r=_.isElementFocusable(p),i=!_.isElementFocusable(p)&&o,s=_.isContentEditableElement(p),l=s?b.findContentEditableParent(p):p;if(m&&v.isWebKit&&n&&S.select(p,0,0),i)return m&&A(o),void t();var a=!m,u=!1;if(!r&&!s){var c=_.findDocument(l),f=E.documentActiveElementGetter.call(c),d=_.isBodyElement(f),h=_.isBodyElement(l)?l:_.getFocusableParent(l);if(f&&!d&&_.containsElement(f,l)||d&&_.isBodyElement(h))return void t();l=h||c.body,u=!0}y.focus(l,function(){!m||s||p===_.getActiveElement()?(function(t,e){var n=_.isTextEditableElement(t),o=_.isContentEditableElement(t);if(n||o)if(o&&isNaN(parseInt(e,10)))S.setCursorToLastVisiblePosition(t);else{var r=isNaN(parseInt(e,10))?_.getElementValue(t).length:e;S.select(t,r,r)}else{var i=b.findContentEditableParent(t);i&&S.setCursorToLastVisiblePosition(b.findContentEditableParent(i))}}(p,g),m||_.getActiveElement()===e?t():y.focus(e,t,!0,!0)):t()},a,!0,!1,u)})},t.focusByRelatedElement=A;var o=i(n("../deps/hammerhead")),r=i(n("../deps/testcafe-core"));function i(t){return t&&t.__esModule?t:{default:t}}var s=o.default.Promise,E=o.default.nativeMethods,v=o.default.utils.browser,y=o.default.eventSandbox.focusBlur,b=r.default.contentEditable,S=r.default.textSelection,_=r.default.domUtils;function A(t){var e=_.closest(t,"label[for]");if(e){var n=Y.getElementById(e.getAttribute("for"));n&&_.getActiveElement()!==n&&y.focus(n,r.default.noop,!1,!0)}}}}}},errors:{"test-run":{"index.js":function(t,e,n){t.__esModule=!0,t.RequestHookConfigureAPIError=t.SetNativeDialogHandlerCodeWrongTypeError=t.UncaughtErrorInNativeDialogHandler=t.NativeDialogNotHandledError=t.CurrentIframeIsInvisibleError=t.CurrentIframeNotFoundError=t.CurrentIframeIsNotLoadedError=t.ActionIframeIsNotLoadedError=t.ActionElementNotIframeError=t.RoleSwitchInRoleInitializerError=t.InvalidElementScreenshotDimensionsError=t.WindowDimensionsOverflowError=t.ActionInvalidScrollTargetError=t.ActionElementIsNotFileInputError=t.ActionCanNotFindFileToUploadError=t.ActionIncorrectKeysError=t.ActionRootContainerNotFoundError=t.ActionElementNonContentEditableError=t.ActionElementNotTextAreaError=t.ActionElementNonEditableError=t.ActionAdditionalSelectorMatchesWrongNodeTypeError=t.ActionAdditionalElementIsInvisibleError=t.ActionAdditionalElementNotFoundError=t.ActionSelectorMatchesWrongNodeTypeError=t.ActionElementIsInvisibleError=t.ActionElementNotFoundError=t.ActionSelectorError=t.ActionUnsupportedDeviceTypeError=t.SetTestSpeedArgumentError=t.ActionStringArrayElementError=t.ActionStringOrStringArrayArgumentError=t.ActionPositiveIntegerArgumentError=t.ActionRoleArgumentError=t.ActionIntegerArgumentError=t.ActionNullableStringArgumentError=t.ActionStringArgumentError=t.ActionOptionsTypeError=t.ActionSpeedOptionError=t.ActionBooleanOptionError=t.ActionPositiveIntegerOptionError=t.ActionIntegerOptionError=t.AssertionUnawaitedPromiseError=t.AssertionExecutableArgumentError=t.ExternalAssertionLibraryError=t.UncaughtErrorInCustomDOMPropertyCode=t.UncaughtErrorInClientFunctionCode=t.UncaughtNonErrorObjectInTestCode=t.UncaughtErrorInTestCode=t.UncaughtErrorOnPage=t.PageLoadError=t.CantObtainInfoForElementSpecifiedBySelectorError=t.InvalidSelectorResultError=t.DomNodeClientFunctionResultError=t.ClientFunctionExecutionInterruptionError=t.MissingAwaitError=void 0;var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=(o=n("./type"))&&o.__esModule?o:{default:o};function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function t(e){u(this,t),this.type=e,this.isTestCafeError=!0,this.callsite=null},c=function(r){function i(t,e,n){u(this,i);var o=l(this,r.call(this,t));return o.optionName=e,o.actualValue=n,o}return a(i,r),i}(i),f=function(r){function i(t,e,n){u(this,i);var o=l(this,r.call(this,t));return o.argumentName=e,o.actualValue=n,o}return a(i,r),i}(i);t.MissingAwaitError=function(n){function o(t){u(this,o);var e=l(this,n.call(this,s.default.missingAwaitError));return e.callsite=t,e}return a(o,n),o}(i),t.ClientFunctionExecutionInterruptionError=function(n){function o(t){u(this,o);var e=l(this,n.call(this,s.default.clientFunctionExecutionInterruptionError));return e.instantiationCallsiteName=t,e}return a(o,n),o}(i),t.DomNodeClientFunctionResultError=function(n){function o(t){u(this,o);var e=l(this,n.call(this,s.default.domNodeClientFunctionResultError));return e.instantiationCallsiteName=t,e}return a(o,n),o}(i),t.InvalidSelectorResultError=function(t){function e(){return u(this,e),l(this,t.call(this,s.default.invalidSelectorResultError))}return a(e,t),e}(i),t.CantObtainInfoForElementSpecifiedBySelectorError=function(n){function o(t){u(this,o);var e=l(this,n.call(this,s.default.cantObtainInfoForElementSpecifiedBySelectorError));return e.callsite=t,e}return a(o,n),o}(i),t.PageLoadError=function(n){function o(t){u(this,o);var e=l(this,n.call(this,s.default.pageLoadError));return e.errMsg=t,e}return a(o,n),o}(i),t.UncaughtErrorOnPage=function(o){function r(t,e){u(this,r);var n=l(this,o.call(this,s.default.uncaughtErrorOnPage));return n.errMsg=t,n.pageDestUrl=e,n}return a(r,o),r}(i),t.UncaughtErrorInTestCode=function(o){function r(t,e){u(this,r);var n=l(this,o.call(this,s.default.uncaughtErrorInTestCode));return n.errMsg=String(t),n.callsite=e,n}return a(r,o),r}(i),t.UncaughtNonErrorObjectInTestCode=function(n){function o(t){u(this,o);var e=l(this,n.call(this,s.default.uncaughtNonErrorObjectInTestCode));return e.objType=void 0===t?"undefined":r(t),e.objStr=String(t),e}return a(o,n),o}(i),t.UncaughtErrorInClientFunctionCode=function(o){function r(t,e){u(this,r);var n=l(this,o.call(this,s.default.uncaughtErrorInClientFunctionCode));return n.errMsg=String(e),n.instantiationCallsiteName=t,n}return a(r,o),r}(i),t.UncaughtErrorInCustomDOMPropertyCode=function(r){function i(t,e,n){u(this,i);var o=l(this,r.call(this,s.default.uncaughtErrorInCustomDOMPropertyCode,e,n));return o.errMsg=String(e),o.property=n,o.instantiationCallsiteName=t,o}return a(i,r),i}(i),t.ExternalAssertionLibraryError=function(o){function r(t,e){u(this,r);var n=l(this,o.call(this,s.default.externalAssertionLibraryError));return n.errMsg=String(t),n.callsite=e,n}return a(r,o),r}(i),t.AssertionExecutableArgumentError=function(r){function i(t,e,n){u(this,i);var o=l(this,r.call(this,s.default.assertionExecutableArgumentError,t,e));return o.errMsg=n,o}return a(i,r),i}(f),t.AssertionUnawaitedPromiseError=function(n){function o(t){u(this,o);var e=l(this,n.call(this,s.default.assertionUnawaitedPromiseError));return e.callsite=t,e}return a(o,n),o}(i),t.ActionIntegerOptionError=function(n){function o(t,e){return u(this,o),l(this,n.call(this,s.default.actionIntegerOptionError,t,e))}return a(o,n),o}(c),t.ActionPositiveIntegerOptionError=function(n){function o(t,e){return u(this,o),l(this,n.call(this,s.default.actionPositiveIntegerOptionError,t,e))}return a(o,n),o}(c),t.ActionBooleanOptionError=function(n){function o(t,e){return u(this,o),l(this,n.call(this,s.default.actionBooleanOptionError,t,e))}return a(o,n),o}(c),t.ActionSpeedOptionError=function(n){function o(t,e){return u(this,o),l(this,n.call(this,s.default.actionSpeedOptionError,t,e))}return a(o,n),o}(c),t.ActionOptionsTypeError=function(n){function o(t){u(this,o);var e=l(this,n.call(this,s.default.actionOptionsTypeError));return e.actualType=t,e}return a(o,n),o}(i),t.ActionStringArgumentError=function(n){function o(t,e){return u(this,o),l(this,n.call(this,s.default.actionStringArgumentError,t,e))}return a(o,n),o}(f),t.ActionNullableStringArgumentError=function(n){function o(t,e){return u(this,o),l(this,n.call(this,s.default.actionNullableStringArgumentError,t,e))}return a(o,n),o}(f),t.ActionIntegerArgumentError=function(n){function o(t,e){return u(this,o),l(this,n.call(this,s.default.actionIntegerArgumentError,t,e))}return a(o,n),o}(f),t.ActionRoleArgumentError=function(n){function o(t,e){return u(this,o),l(this,n.call(this,s.default.actionRoleArgumentError,t,e))}return a(o,n),o}(f),t.ActionPositiveIntegerArgumentError=function(n){function o(t,e){return u(this,o),l(this,n.call(this,s.default.actionPositiveIntegerArgumentError,t,e))}return a(o,n),o}(f),t.ActionStringOrStringArrayArgumentError=function(n){function o(t,e){return u(this,o),l(this,n.call(this,s.default.actionStringOrStringArrayArgumentError,t,e))}return a(o,n),o}(f),t.ActionStringArrayElementError=function(r){function i(t,e,n){u(this,i);var o=l(this,r.call(this,s.default.actionStringArrayElementError,t,e));return o.elementIndex=n,o}return a(i,r),i}(f),t.SetTestSpeedArgumentError=function(n){function o(t,e){return u(this,o),l(this,n.call(this,s.default.setTestSpeedArgumentError,t,e))}return a(o,n),o}(f),t.ActionUnsupportedDeviceTypeError=function(n){function o(t,e){return u(this,o),l(this,n.call(this,s.default.actionUnsupportedDeviceTypeError,t,e))}return a(o,n),o}(f),t.ActionSelectorError=function(o){function r(t,e){u(this,r);var n=l(this,o.call(this,s.default.actionSelectorError));return n.selectorName=t,n.errMsg=e,n}return a(r,o),r}(i),t.ActionElementNotFoundError=function(t){function e(){return u(this,e),l(this,t.call(this,s.default.actionElementNotFoundError))}return a(e,t),e}(i),t.ActionElementIsInvisibleError=function(t){function e(){return u(this,e),l(this,t.call(this,s.default.actionElementIsInvisibleError))}return a(e,t),e}(i),t.ActionSelectorMatchesWrongNodeTypeError=function(n){function o(t){u(this,o);var e=l(this,n.call(this,s.default.actionSelectorMatchesWrongNodeTypeError));return e.nodeDescription=t,e}return a(o,n),o}(i),t.ActionAdditionalElementNotFoundError=function(n){function o(t){u(this,o);var e=l(this,n.call(this,s.default.actionAdditionalElementNotFoundError));return e.argumentName=t,e}return a(o,n),o}(i),t.ActionAdditionalElementIsInvisibleError=function(n){function o(t){u(this,o);var e=l(this,n.call(this,s.default.actionAdditionalElementIsInvisibleError));return e.argumentName=t,e}return a(o,n),o}(i),t.ActionAdditionalSelectorMatchesWrongNodeTypeError=function(o){function r(t,e){u(this,r);var n=l(this,o.call(this,s.default.actionAdditionalSelectorMatchesWrongNodeTypeError));return n.argumentName=t,n.nodeDescription=e,n}return a(r,o),r}(i),t.ActionElementNonEditableError=function(t){function e(){return u(this,e),l(this,t.call(this,s.default.actionElementNonEditableError))}return a(e,t),e}(i),t.ActionElementNotTextAreaError=function(t){function e(){return u(this,e),l(this,t.call(this,s.default.actionElementNotTextAreaError))}return a(e,t),e}(i),t.ActionElementNonContentEditableError=function(n){function o(t){u(this,o);var e=l(this,n.call(this,s.default.actionElementNonContentEditableError));return e.argumentName=t,e}return a(o,n),o}(i),t.ActionRootContainerNotFoundError=function(t){function e(){return u(this,e),l(this,t.call(this,s.default.actionRootContainerNotFoundError))}return a(e,t),e}(i),t.ActionIncorrectKeysError=function(n){function o(t){u(this,o);var e=l(this,n.call(this,s.default.actionIncorrectKeysError));return e.argumentName=t,e}return a(o,n),o}(i),t.ActionCanNotFindFileToUploadError=function(n){function o(t){u(this,o);var e=l(this,n.call(this,s.default.actionCanNotFindFileToUploadError));return e.filePaths=t,e}return a(o,n),o}(i),t.ActionElementIsNotFileInputError=function(t){function e(){return u(this,e),l(this,t.call(this,s.default.actionElementIsNotFileInputError))}return a(e,t),e}(i),t.ActionInvalidScrollTargetError=function(o){function r(t,e){u(this,r);var n=l(this,o.call(this,s.default.actionInvalidScrollTargetError));return n.properties=t?"scrollTargetY property":e?"scrollTargetX property":"scrollTargetX and scrollTargetY properties",n}return a(r,o),r}(i),t.WindowDimensionsOverflowError=function(n){function o(t){u(this,o);var e=l(this,n.call(this,s.default.windowDimensionsOverflowError));return e.callsite=t,e}return a(o,n),o}(i),t.InvalidElementScreenshotDimensionsError=function(o){function r(t,e){u(this,r);var n=l(this,o.call(this,s.default.invalidElementScreenshotDimensionsError));return t<=0?e<=0?(n.verb="are",n.dimensions="width and height"):(n.verb="is",n.dimensions="width"):(n.verb="is",n.dimensions="height"),n}return a(r,o),r}(i),t.RoleSwitchInRoleInitializerError=function(n){function o(t){u(this,o);var e=l(this,n.call(this,s.default.roleSwitchInRoleInitializerError));return e.callsite=t,e}return a(o,n),o}(i),t.ActionElementNotIframeError=function(t){function e(){return u(this,e),l(this,t.call(this,s.default.actionElementNotIframeError))}return a(e,t),e}(i),t.ActionIframeIsNotLoadedError=function(t){function e(){return u(this,e),l(this,t.call(this,s.default.actionIframeIsNotLoadedError))}return a(e,t),e}(i),t.CurrentIframeIsNotLoadedError=function(t){function e(){return u(this,e),l(this,t.call(this,s.default.currentIframeIsNotLoadedError))}return a(e,t),e}(i),t.CurrentIframeNotFoundError=function(t){function e(){return u(this,e),l(this,t.call(this,s.default.currentIframeNotFoundError))}return a(e,t),e}(i),t.CurrentIframeIsInvisibleError=function(t){function e(){return u(this,e),l(this,t.call(this,s.default.currentIframeIsInvisibleError))}return a(e,t),e}(i),t.NativeDialogNotHandledError=function(o){function r(t,e){u(this,r);var n=l(this,o.call(this,s.default.nativeDialogNotHandledError));return n.dialogType=t,n.pageUrl=e,n}return a(r,o),r}(i),t.UncaughtErrorInNativeDialogHandler=function(r){function i(t,e,n){u(this,i);var o=l(this,r.call(this,s.default.uncaughtErrorInNativeDialogHandler));return o.dialogType=t,o.errMsg=e,o.pageUrl=n,o}return a(i,r),i}(i),t.SetNativeDialogHandlerCodeWrongTypeError=function(n){function o(t){u(this,o);var e=l(this,n.call(this,s.default.setNativeDialogHandlerCodeWrongTypeError));return e.actualType=t,e}return a(o,n),o}(i),t.RequestHookConfigureAPIError=function(o){function r(t,e){u(this,r);var n=l(this,o.call(this,s.default.requestHookConfigureAPIError));return n.requestHookName=t,n.errMsg=e,n}return a(r,o),r}(i)},"type.js":function(t,e,n){t.__esModule=!0,t.default={uncaughtErrorOnPage:"uncaughtErrorOnPage",uncaughtErrorInTestCode:"uncaughtErrorInTestCode",uncaughtNonErrorObjectInTestCode:"uncaughtNonErrorObjectInTestCode",uncaughtErrorInClientFunctionCode:"uncaughtErrorInClientFunctionCode",uncaughtErrorInCustomDOMPropertyCode:"uncaughtErrorInCustomDOMPropertyCode",missingAwaitError:"missingAwaitError",actionIntegerOptionError:"actionIntegerOptionError",actionPositiveIntegerOptionError:"actionPositiveIntegerOptionError",actionBooleanOptionError:"actionBooleanOptionError",actionSpeedOptionError:"actionSpeedOptionError",actionOptionsTypeError:"actionOptionsTypeError",actionStringArgumentError:"actionStringArgumentError",actionNullableStringArgumentError:"actionNullableStringArgumentError",actionStringOrStringArrayArgumentError:"actionStringOrStringArrayArgumentError",actionStringArrayElementError:"actionStringArrayElementError",actionIntegerArgumentError:"actionIntegerArgumentError",actionRoleArgumentError:"actionRoleArgumentError",actionPositiveIntegerArgumentError:"actionPositiveIntegerArgumentError",actionSelectorError:"actionSelectorError",actionElementNotFoundError:"actionElementNotFoundError",actionElementIsInvisibleError:"actionElementIsInvisibleError",actionSelectorMatchesWrongNodeTypeError:"actionSelectorMatchesWrongNodeTypeError",actionAdditionalElementNotFoundError:"actionAdditionalElementNotFoundError",actionAdditionalElementIsInvisibleError:"actionAdditionalElementIsInvisibleError",actionAdditionalSelectorMatchesWrongNodeTypeError:"actionAdditionalSelectorMatchesWrongNodeTypeError",actionElementNonEditableError:"actionElementNonEditableError",actionElementNotTextAreaError:"actionElementNotTextAreaError",actionElementNonContentEditableError:"actionElementNonContentEditableError",actionElementIsNotFileInputError:"actionElementIsNotFileInputError",actionRootContainerNotFoundError:"actionRootContainerNotFoundError",actionIncorrectKeysError:"actionIncorrectKeysError",actionCanNotFindFileToUploadError:"actionCanNotFindFileToUploadError",actionUnsupportedDeviceTypeError:"actionUnsupportedDeviceTypeError",actionIframeIsNotLoadedError:"actionIframeIsNotLoadedError",actionElementNotIframeError:"actionElementNotIframeError",actionInvalidScrollTargetError:"actionInvalidScrollTargetError",currentIframeIsNotLoadedError:"currentIframeIsNotLoadedError",currentIframeNotFoundError:"currentIframeNotFoundError",currentIframeIsInvisibleError:"currentIframeIsInvisibleError",nativeDialogNotHandledError:"nativeDialogNotHandledError",uncaughtErrorInNativeDialogHandler:"uncaughtErrorInNativeDialogHandler",setTestSpeedArgumentError:"setTestSpeedArgumentError",setNativeDialogHandlerCodeWrongTypeError:"setNativeDialogHandlerCodeWrongTypeError",clientFunctionExecutionInterruptionError:"clientFunctionExecutionInterruptionError",domNodeClientFunctionResultError:"domNodeClientFunctionResultError",invalidSelectorResultError:"invalidSelectorResultError",cantObtainInfoForElementSpecifiedBySelectorError:"cantObtainInfoForElementSpecifiedBySelectorError",externalAssertionLibraryError:"externalAssertionLibraryError",pageLoadError:"pageLoadError",windowDimensionsOverflowError:"windowDimensionsOverflowError",invalidElementScreenshotDimensionsError:"invalidElementScreenshotDimensionsError",roleSwitchInRoleInitializerError:"roleSwitchInRoleInitializerError",assertionExecutableArgumentError:"assertionExecutableArgumentError",assertionUnawaitedPromiseError:"assertionUnawaitedPromiseError",requestHookConfigureAPIError:"requestHookConfigureAPIError"},e.exports=t.default}}},"test-run":{commands:{"options.js":function(t,e,n){t.__esModule=!0,t.AssertionOptions=t.ResizeToFitDeviceOptions=t.DragToElementOptions=t.TypeOptions=t.MoveOptions=t.ClickOptions=t.MouseOptions=t.ElementScreenshotOptions=t.ScrollOptions=t.OffsetOptions=t.ActionOptions=t.speedOption=t.booleanOption=t.positiveIntegerOption=t.integerOption=void 0;var o,r=(o=n("../../utils/assignable"))&&o.__esModule?o:{default:o},i=n("./validations/factories"),s=n("../../errors/test-run");function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=t.integerOption=(0,i.createIntegerValidator)(s.ActionIntegerOptionError),f=t.positiveIntegerOption=(0,i.createPositiveIntegerValidator)(s.ActionPositiveIntegerOptionError),d=t.booleanOption=(0,i.createBooleanValidator)(s.ActionBooleanOptionError),h=t.speedOption=(0,i.createSpeedValidator)(s.ActionSpeedOptionError),p=t.ActionOptions=function(o){function r(t,e){l(this,r);var n=a(this,o.call(this));return n.speed=null,n._assignFrom(t,e),n}return u(r,o),r.prototype._getAssignableProperties=function(){return[{name:"speed",type:h}]},r}(r.default),m=t.OffsetOptions=function(o){function r(t,e){l(this,r);var n=a(this,o.call(this));return n.offsetX=null,n.offsetY=null,n._assignFrom(t,e),n}return u(r,o),r.prototype._getAssignableProperties=function(){return o.prototype._getAssignableProperties.call(this).concat([{name:"offsetX",type:c},{name:"offsetY",type:c}])},r}(p),g=(t.ScrollOptions=function(o){function r(t,e){l(this,r);var n=a(this,o.call(this));return n.scrollToCenter=!1,n.skipParentFrames=!1,n._assignFrom(t,e),n}return u(r,o),r.prototype._getAssignableProperties=function(){return o.prototype._getAssignableProperties.call(this).concat([{name:"scrollToCenter",type:d},{name:"skipParentFrames",type:d}])},r}(m),t.ElementScreenshotOptions=function(o){function r(t,e){l(this,r);var n=a(this,o.call(this));return n.scrollTargetX=null,n.scrollTargetY=null,n.includeMargins=!1,n.includeBorders=!0,n.includePaddings=!0,n.crop={left:null,right:null,top:null,bottom:null},n._assignFrom(t,e),n}return u(r,o),r.prototype._getAssignableProperties=function(){return o.prototype._getAssignableProperties.call(this).concat([{name:"scrollTargetX",type:c},{name:"scrollTargetY",type:c},{name:"crop.left",type:c},{name:"crop.right",type:c},{name:"crop.top",type:c},{name:"crop.bottom",type:c},{name:"includeMargins",type:d},{name:"includeBorders",type:d},{name:"includePaddings",type:d}])},r}(p),t.MouseOptions=function(o){function r(t,e){l(this,r);var n=a(this,o.call(this));return n.modifiers={ctrl:!1,alt:!1,shift:!1,meta:!1},n._assignFrom(t,e),n}return u(r,o),r.prototype._getAssignableProperties=function(){return o.prototype._getAssignableProperties.call(this).concat([{name:"modifiers.ctrl",type:d},{name:"modifiers.alt",type:d},{name:"modifiers.shift",type:d},{name:"modifiers.meta",type:d}])},r}(m)),E=t.ClickOptions=function(o){function r(t,e){l(this,r);var n=a(this,o.call(this));return n.caretPos=null,n._assignFrom(t,e),n}return u(r,o),r.prototype._getAssignableProperties=function(){return o.prototype._getAssignableProperties.call(this).concat([{name:"caretPos",type:f}])},r}(g);t.MoveOptions=function(o){function r(t,e){l(this,r);var n=a(this,o.call(this));return n.speed=null,n.minMovingTime=null,n.holdLeftButton=!1,n.skipScrolling=!1,n._assignFrom(t,e),n}return u(r,o),r.prototype._getAssignableProperties=function(){return o.prototype._getAssignableProperties.call(this).concat([{name:"speed"},{name:"minMovingTime"},{name:"holdLeftButton"},{name:"skipScrolling",type:d}])},r}(g),t.TypeOptions=function(o){function r(t,e){l(this,r);var n=a(this,o.call(this));return n.replace=!1,n.paste=!1,n._assignFrom(t,e),n}return u(r,o),r.prototype._getAssignableProperties=function(){return o.prototype._getAssignableProperties.call(this).concat([{name:"replace",type:d},{name:"paste",type:d}])},r}(E),t.DragToElementOptions=function(o){function r(t,e){l(this,r);var n=a(this,o.call(this,t,e));return n.destinationOffsetX=null,n.destinationOffsetY=null,n._assignFrom(t,e),n}return u(r,o),r.prototype._getAssignableProperties=function(){return o.prototype._getAssignableProperties.call(this).concat([{name:"destinationOffsetX",type:c},{name:"destinationOffsetY",type:c}])},r}(g),t.ResizeToFitDeviceOptions=function(o){function r(t,e){l(this,r);var n=a(this,o.call(this));return n.portraitOrientation=!1,n._assignFrom(t,e),n}return u(r,o),r.prototype._getAssignableProperties=function(){return[{name:"portraitOrientation",type:d}]},r}(r.default),t.AssertionOptions=function(o){function r(t,e){l(this,r);var n=a(this,o.call(this));return n.timeout=void 0,n.allowUnawaitedPromise=!1,n._assignFrom(t,e),n}return u(r,o),r.prototype._getAssignableProperties=function(){return[{name:"timeout",type:f},{name:"allowUnawaitedPromise",type:d}]},r}(r.default)},validations:{"factories.js":function(t,e,n){t.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function i(o){return function(t,e){var n=void 0===e?"undefined":r(e);if("number"!==n)throw new o(t,n);if(isNaN(e)||!isFinite(e)||e!==Math.floor(e))throw new o(t,e)}}t.createIntegerValidator=i,t.createPositiveIntegerValidator=function(n){var o=i(n);return function(t,e){if(o(t,e),e<0)throw new n(t,e)}},t.createBooleanValidator=function(o){return function(t,e){var n=void 0===e?"undefined":r(e);if("boolean"!==n)throw new o(t,n)}},t.createSpeedValidator=function(o){return function(t,e){var n=void 0===e?"undefined":r(e);if("number"!==n)throw new o(t,n);if(isNaN(e)||e<.01||1<e)throw new o(t,e)}}}}}},utils:{"assignable.js":function(t,e,n){t.__esModule=!0;var o=function(){function n(){!function(t,e){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this)}return n.prototype._getAssignableProperties=function(){throw new Error("Not implemented")},n.prototype._assignFrom=function(t,e){if(t)for(var n=this._getAssignableProperties(),o=0;o<n.length;o++){for(var r=n[o],i=r.name,s=r.type,l=r.required,a=r.init,u=i.split("."),c=u.length-1,f=u[c],d=t,h=this,p=0;p<c&&d&&h;p++)d=d[u[p]],h=h[u[p]];if(d&&h){var m=d[f];(void 0!==m||l)&&(e&&s&&s(i,m),h[f]=a?a(i,m):m)}}},n}();t.default=o,e.exports=t.default}}}}})("testcafe/src/client/automation/index")}(window);