<!DOCTYPE html>
<html>
<head>
    <title>GH-1054</title>
</head>
<body>
<input value="Initial value">
<div contenteditable="true">Initial value</div>
<script>
    window.storedValue = '';

    var textarea = document.querySelector('input');
    var div      = document.querySelector('div');

    var storeValue = function (event) {
        var target = event.target;

        window.storedValue = target.value ||target.innerText;

        target.removeEventListener('input', storeValue);
    };

    textarea.addEventListener('input', storeValue);
    div.addEventListener('input', storeValue);
</script>
</body>
</html>