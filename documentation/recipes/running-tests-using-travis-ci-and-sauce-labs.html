<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <title>Running Tests Using Travis CI and Sauce Labs | TestCafe</title>

  <meta name="description" content="">
  <meta name="viewport" content="width=device-width">

  <meta property="og:image" content="https://raw.githubusercontent.com/DevExpress/testcafe-gh-page-assets/master/src/images/testcafe-ogp-icon.png">
  <meta property="og:type" content="website" />
  <meta property="og:url" content="http://devexpress.github.io/testcafe/documentation/recipes/running-tests-using-travis-ci-and-sauce-labs.html" />
  <meta property="og:title" content="Running Tests Using Travis CI and Sauce Labs | TestCafe" />

  <link rel="shortcut icon" href="/testcafe/favicon.ico">
  <link rel="stylesheet" href="/testcafe/css/main.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.0.0/styles/docco.min.css">
  <link rel="canonical" href="http://devexpress.github.io/testcafe/documentation/recipes/running-tests-using-travis-ci-and-sauce-labs.html">
  <link rel="alternate" type="application/rss+xml" title="TestCafe" href="http://devexpress.github.io/testcafe/feed.xml">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.0.0/highlight.min.js"></script>
  <script>
      document.addEventListener('DOMContentLoaded', function (e) {
          hljs.initHighlightingOnLoad();
      });
  </script>

  
  <script>
    // Google Analytics
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-83678642-1', 'auto');
    ga('send', 'pageview');
  </script>
  

  
  
  

  <script>
    (function () {
        var VISIT_DAY = {
            first: 1,
            second: 2,
            more: 3
        };

        var isLandingPage = false;
        var isGettingStarted = false;
        var isDocumentation = true;

        function updateVisitDay () {
            var FIRST_VISIT_DAY_ITEM_NAME = 'first-visit-day';
            var SECOND_VISIT_DAY_ITEM_NAME = 'second-visit-day';
            var DIFFERENT_VISITS_DELAY = 12 * 60 * 60 * 1000; 
            
            // TODO: ignore old visits
            var now = Date.now();
            var firstVisit = window.localStorage.getItem(FIRST_VISIT_DAY_ITEM_NAME);
            var secondVisit = window.localStorage.getItem(SECOND_VISIT_DAY_ITEM_NAME);

            if(!firstVisit) {
                window.localStorage.setItem(FIRST_VISIT_DAY_ITEM_NAME, now);
                return VISIT_DAY.first;
            }

            firstVisit = parseInt(firstVisit);

            if(!secondVisit) {
                if(!isLandingPage && now - firstVisit >=DIFFERENT_VISITS_DELAY) {
                    window.localStorage.setItem(SECOND_VISIT_DAY_ITEM_NAME, now);
                    return VISIT_DAY.second;
                }

                return VISIT_DAY.first;
            }
            
            secondVisit = parseInt(secondVisit);

            return now - secondVisit >= DIFFERENT_VISITS_DELAY ? VISIT_DAY.more : VISIT_DAY.second;
        }

        window.needShowShareWidget = function () {
            if(!isDocumentation || isGettingStarted)
                return false;

            var visitDay = updateVisitDay();

            return visitDay === VISIT_DAY.more;
        };
    })();
  </script>

  

  
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery.perfect-scrollbar/0.6.12/css/perfect-scrollbar.min.css">
    <script defer type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery.perfect-scrollbar/0.6.12/js/perfect-scrollbar.min.js"></script>
    <script defer type="text/javascript" src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-2.2.3.min.js"></script>
    <script defer src="/testcafe/scripts/widget.js" type="text/javascript"></script>
    <script src="/testcafe/scripts/mobile-detect.min.js" type="text/javascript"></script>

    <script>
        var MIN_BODY_WIDTH = 1000;
        var FOOTER_HEIGHT  = 63;
        var HEADER_HEIGHT  = 102;

        var nav            = null;
        var article        = null;
        var md             = new MobileDetect(window.navigator.userAgent);
        var isMobileDevice = !!md.mobile();

        function setNavTopPosition () {
            var isMobileZoomed = isMobileDevice && window.innerWidth !== document.body.scrollWidth;
            var top            = null;

            if(isMobileDevice) {
                top = window.pageYOffset >= HEADER_HEIGHT ? window.pageYOffset - HEADER_HEIGHT + 'px' : '0';

                if (nav.style.paddingTop !== top) {
                    nav.style.paddingTop = top;
                    Ps.update(nav);
                }

                return;
            }

            if (document.body.clientWidth > MIN_BODY_WIDTH) {
                if (nav.style.top !== HEADER_HEIGHT + 'px') {
                    nav.style.top = HEADER_HEIGHT + 'px';
                    Ps.update(nav);
                }
            }
            else if(!isMobileZoomed) {
                top = window.pageYOffset <= HEADER_HEIGHT ? HEADER_HEIGHT - window.pageYOffset + 'px' : '0';

                if (nav.style.top !== top) {
                    nav.style.top = top;
                    Ps.update(nav);
                }
            }
        }

        function setNavBottomPosition () {
            var footerVisibleHeight = FOOTER_HEIGHT - document.body.scrollHeight + window.pageYOffset +
                                      document.body.clientHeight;

            if (footerVisibleHeight > 0) {
                if (nav.style.bottom !== footerVisibleHeight + 'px') {
                    nav.style.bottom = footerVisibleHeight + 'px';
                    Ps.update(nav);
                }
            }
            else if (nav.style.bottom !== '0') {
                nav.style.bottom = '0';
                Ps.update(nav);
            }
        }

        function updatePosition () {
            if (isMobileDevice)
                changeBodyHeight();
            else
                nav.style.marginLeft = '-' + window.pageXOffset + 'px';

            setNavBottomPosition();
            setNavTopPosition();
        }

        function changeBodyHeight () {
            if (document.body.style.height !== window.innerHeight + 'px')
                document.body.style.height = window.innerHeight + 'px';
        }

        function initScrollBar() {
            Ps.initialize(nav);

            window.addEventListener('resize', function () {
                Ps.update(nav);
            });
        }

        function initNav() {
            if(isMobileDevice) {
                nav.style.position = 'relative';
                nav.style.float = 'left';
                nav.style.top = '0px';

                article.style.marginTop = '0px';
                article.style.paddingTop = '22px';
            }

            initScrollBar();
            updatePosition();
            window.addEventListener('scroll', updatePosition);
            window.addEventListener('resize', updatePosition);

            if(isMobileDevice) {
                nav.style.height = window.innerHeight + 'px';
            }
        }

        document.addEventListener('DOMContentLoaded', function (e) {
            nav     = document.querySelector('.doc-nav');
            article = document.querySelector('.doc');

            if(nav)
                initNav(nav);
        });
    </script>
  
    <script>
        function initHeader(siteHeader, contentWrapper, docTopMenu, article) {
            var MIN_BODY_WIDTH = 1000;

            function updateHeader() {
                var bodyMinimized = document.body.clientWidth === MIN_BODY_WIDTH;

                

                siteHeader.style.position = bodyMinimized ? 'static' : '';

                if(docTopMenu)
                    docTopMenu.style.position = bodyMinimized ? 'static' : '';

                if(contentWrapper)
                    contentWrapper.style.paddingTop = bodyMinimized ? '0' : '';

                if(article)
                    article.style.marginTop = bodyMinimized ? '21px' : '72px';
            }

            updateHeader();
            window.addEventListener('scroll', updateHeader);
            window.addEventListener('resize', updateHeader);
        }
        document.addEventListener('DOMContentLoaded', function (e) {
            var contentWrapper = document.querySelector('.container');
            var siteHeader     = document.querySelector('.site-header');
            var docTopMenu     = document.querySelector('.doc-top-nav');
            var article        = document.querySelector('.doc');

            if(siteHeader) 
                initHeader(siteHeader, contentWrapper, docTopMenu, article);
        });
    </script>
</head>


  <body>
    <div class="page-content-wrapper">

      <header class="site-header minimized">
  <div class="site-header-content">
    <a class="site-logo" href="/testcafe/"></a>
    <nav class="site-nav">
        
          
          <a class="page-link active" href="/testcafe/documentation/getting-started/">Documentation</a>
          <span class="page-link-separator">|</span>
        
          
          <a class="page-link " href="https://github.com/DevExpress/testcafe">GitHub</a>
          <span class="page-link-separator">|</span>
        
          
          <a class="page-link " href="/testcafe/faq/">FAQ</a>
          <span class="page-link-separator">|</span>
        
          
          <a class="page-link " href="/testcafe/blog/">Blog</a>
          <span class="page-link-separator">|</span>
        
          
          <a class="page-link " href="https://github.com/DevExpress/testcafe/issues">Issues</a>
          <span class="page-link-separator">|</span>
        
          
          <a class="page-link " href="https://testcafe-discuss.devexpress.com/">Discuss</a>
          <span class="page-link-separator">|</span>
        
          
          <a class="page-link " href="https://twitter.com/dxtestcafe">Twitter</a>
          <span class="page-link-separator">|</span>
        
      <input type="text" placeholder="Search" id="search"/>
    </nav>

  </div>
</header>


  <div class="doc-top-nav">
    <div class="doc-top-nav-content">
    
      <a class="" href="/testcafe/documentation/getting-started/">Getting Started</a>
      <span class="page-link-separator level-2">|</span>
    
      <a class="" href="/testcafe/documentation/using-testcafe/">Using TestCafe</a>
      <span class="page-link-separator level-2">|</span>
    
      <a class="" href="/testcafe/documentation/test-api/">Test API</a>
      <span class="page-link-separator level-2">|</span>
    
      <a class="" href="/testcafe/documentation/extending-testcafe/">Extending TestCafe</a>
      <span class="page-link-separator level-2">|</span>
    
      <a class="active" href="/testcafe/documentation/recipes/">Recipes</a>
      <span class="page-link-separator level-2">|</span>
    
    </div>
  </div>



      <div class="container">
    
	
	

	
	

	
	

	
	

	
	
	<nav class="doc-nav">	
		<div class="doc-nav-content">
			<ul>
				<li>
				
<a href="/testcafe/documentation/recipes/"  >RECIPES</a>
				<ul>

    <li>
		    
		
<a href="/testcafe/documentation/recipes/debugging-with-chrome-dev-tools.html"  >Debugging with Chrome Developer Tools</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/recipes/debugging-with-visual-studio-code.html"  >Debugging with Visual Studio Code</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/recipes/running-tests-in-firefox-and-chrome-using-travis-ci.html"  >Running Tests in Firefox and Chrome Using Travis CI</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/recipes/running-tests-using-travis-ci-and-sauce-labs.html" class="active" >Running Tests Using Travis CI and Sauce Labs</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/recipes/testing-select-elements.html"  >Testing &lt;select&gt; Elements</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/recipes/test-static-html-pages.html"  >Test Static HTML Pages</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/recipes/testing-on-remote-computers-and-mobile-devices.html"  >Testing on Remote Computers and Mobile Devices</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/recipes/using-page-model.html"  >Using Page Model</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/recipes/using-testcafe-with-grunt.html"  >Using TestCafe with Grunt</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/recipes/using-testcafe-with-gulp.html"  >Using TestCafe with Gulp</a>
		
    </li>

</ul>
				</li>
			</ul>
		</div>
	</nav>
	
	


<main>
	<article class="doc">
		<div class="post-content">

			<h1>Running Tests Using Travis CI and Sauce Labs</h1>
<p>You can automatically run tests as a part of your build process using TestCafe and <a href="https://travis-ci.org/">Travis CI</a>.
TestCafe also allows you to use <a href="https://saucelabs.com/">Sauce Labs</a> browsers for testing.
Thus, you can run your tests completely in the cloud.</p>

<p>Suppose you have a GitHub project for which you need to automatically run tests in the cloud when the project is modified. To do this, go through the following steps.</p>

<ul>
<li><a href="#step-1---install-testcafe-and-create-tests">Step 1 - Install TestCafe and create tests</a></li>
<li><a href="#step-2---enable-travis-for-your-project">Step 2 - Enable Travis for your project</a></li>
<li><a href="#step-3---configure-travis-to-use-sauce-labs">Step 3 - Configure Travis to use Sauce Labs</a></li>
<li><a href="#step-4---install-the-sauce-labs-browser-provider-plugin">Step 4 - Install the Sauce Labs browser provider plugin</a></li>
<li><a href="#step-5---add-the-test-script-to-packagejson">Step 5 - Add the <code>test</code> script to package.json</a></li>
<li><a href="#step-6---trigger-a-travis-ci-build">Step 6 - Trigger a Travis CI build</a></li>
</ul>
<blockquote><div class="blockquote-content"><p>TestCafe provides an <a href="https://github.com/DevExpress/testcafe/tree/master/examples/running-tests-using-travis-and-saucelabs/">example</a> that can show you how to run tests with Travis CI and Sauce Labs.</p>
</div></blockquote><h2><a class="anchor" name="step-1---install-testcafe-and-create-tests"></a>Step 1 - Install TestCafe and create tests <a class="permalink" href="#step-1---install-testcafe-and-create-tests">#</a></h2>
<p>Install TestCafe <a href="../using-testcafe/installing-testcafe.html#locally">locally</a> in your project and <a href="../getting-started/#creating-a-test">create tests</a>.</p>
<h2><a class="anchor" name="step-2---enable-travis-for-your-project"></a>Step 2 - Enable Travis for your project <a class="permalink" href="#step-2---enable-travis-for-your-project">#</a></h2>
<ol>
<li><a href="https://travis-ci.org/auth">Sign in to Travis CI</a> with your GitHub account. Travis CI will synchronize your repositories from GitHub. You can see them on your <a href="https://travis-ci.org/profile">profile page</a>.</li>
<li><p>Enable Travis CI for a repository you want to build by flicking the switch on.</p>

<p><img src="../../images/travis-step-2-2.png" alt="Enable Travis for a repository"></p>

<p>By default, Travic CI runs builds on pushes and pull requests. You can manage this behavior in your repository&#39;s settings.</p>

<p><img src="../../images/travis-step-2-4.png" alt="Enable builds"></p></li>
<li><p>Add a <code>.travis.yml</code> configuration file to the root of your project. This file contains parameters and commands that instruct Travis CI how to execute your builds. For more information, see <a href="https://docs.travis-ci.com/user/customizing-the-build">Customizing the Build</a>.</p>

<p>For Node.js projects, the <code>.travis.yml</code> file can have the following content.</p>
<div class="highlight"><pre><code class="language-yaml" data-lang="yaml"> <span class="s">language</span><span class="pi">:</span> <span class="s">node_js</span>
 <span class="s">node_js</span><span class="pi">:</span> <span class="s2">"</span><span class="s">stable"</span>

 <span class="s">before_install</span><span class="pi">:</span>
   <span class="pi">-</span> <span class="s">stty cols 80</span>
</code></pre></div>
<p>Commit and push this file to your repository.</p></li>
</ol>
<h2><a class="anchor" name="step-3---configure-travis-to-use-sauce-labs"></a>Step 3 - Configure Travis to use Sauce Labs <a class="permalink" href="#step-3---configure-travis-to-use-sauce-labs">#</a></h2>
<ol>
<li>Save your Sauce Labs username and access key to the SAUCE_USERNAME and SAUCE_ACCESS_KEY environment variables, as described in <a href="https://wiki.saucelabs.com/display/DOCS/Best+Practice%3A+Use+Environment+Variables+for+Authentication+Credentials">SauceLabs documentation</a>.</li>
<li><p>Go to the repository settings in Travis CI. In the <strong>Environment Variables</strong> section, define the SAUCE_USERNAME and SAUCE_ACCESS_KEY variables (see <a href="https://docs.travis-ci.com/user/environment-variables/#Defining-Variables-in-Repository-Settings">Defining Variables in Repository Settings</a>).</p>

<p><img src="../../images/travis-step-3-2.png" alt="Define variables"></p></li>
</ol>
<h2><a class="anchor" name="step-4---install-the-sauce-labs-browser-provider-plugin"></a>Step 4 - Install the Sauce Labs browser provider plugin <a class="permalink" href="#step-4---install-the-sauce-labs-browser-provider-plugin">#</a></h2>
<p>To run TestCafe tests in the cloud using Sauce Labs browsers, you need to install the <a href="https://www.npmjs.com/package/testcafe-browser-provider-saucelabs">testcafe-browser-provider-saucelabs</a> plugin locally to your project.
To do this, run the following command.</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">npm install --save-dev testcafe-browser-provider-saucelabs
</code></pre></div>
<p>For more information on testing in cloud browsers, see <a href="../using-testcafe/common-concepts/browser-support.html#browsers-in-cloud-testing-services">Browsers in Cloud Testing Services</a>.</p>
<h2><a class="anchor" name="step-5---add-the-test-script-to-packagejson"></a>Step 5 - Add the <code>test</code> script to package.json <a class="permalink" href="#step-5---add-the-test-script-to-packagejson">#</a></h2>
<p>To test a project, Travis runs test scripts. For Node.js projects, the default test script is <code>npm test</code>.
To tell npm how to run your tests, add the <code>test</code> script to the project&#39;s package.json file. Use <code>testcafe</code> command in the script to run tests on a Sauce Labs browser.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">"scripts": {
    "test":  "testcafe \"saucelabs:Chrome@beta:Windows 10\" tests/index-test.js"
}
</code></pre></div>
<p>For more information on how to configure a test run using a <code>testcafe</code> command, see <a href="../using-testcafe/command-line-interface.html">Command Line Interface</a>.</p>

<p><strong>Note:</strong> If your app requires starting a custom web server, use the <code>--app</code> TestCafe option to specify a command that starts your server.
This command will be automatically executed before running tests. After tests are finished, TestCafe will stop the app server.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">"scripts": {
  "test":  "testcafe \"saucelabs:Chrome@beta:Windows 10\" tests/index-test.js --app \"node server.js\""
}
</code></pre></div><h2><a class="anchor" name="step-6---trigger-a-travis-ci-build"></a>Step 6 - Trigger a Travis CI build <a class="permalink" href="#step-6---trigger-a-travis-ci-build">#</a></h2>
<p>You can trigger a Travis CI build by pushing commits to your repository or creating a pull request.</p>

<p>To check if the build passed or failed, go to the <a href="https://travis-ci.org/repositories">build status page</a>.</p>


		</div>
		<div class="widget-container hidden">
			<div id="share-button">
				<div id="graph-icon">
					<img src="/testcafe/images/icon-share.svg"/>
				</div>
				<p>TELL<br/>YOUR<br/>FRIENDS</p>
			</div>
			<div class="widget-panel">
				<div id="tweet">
					<a href="https://twitter.com/intent/tweet?text=Check%20out%20%23TestCafe%20-%20a%20free%20node.js%20tool%20for%20e2e%20testing%20https%3A%2F%2Fdevexpress.github.io%2Ftestcafe%2F"
					onclick="return !window.open(this.href, 'Twitter', 'width=690,height=450')"
					target="_blank">
						<img src="/testcafe/images/icon-tweet.svg"/>
					</a>
				</div>
				<div id="facebook">
					<a href="https://www.facebook.com/sharer/sharer.php?u=https://devexpress.github.io/testcafe/"
					onclick="return !window.open(this.href, 'Facebook', 'width=500,height=500')"
					target="_blank">
						<image src="/testcafe/images/icon-facebook.svg"/>
					</a>
				</div>
				<div id="collapse">
					<img src="/testcafe/images/icon-close.svg"/>
				</div>
			</div>
		</div>
	</article>
</main>
</div>

      <div class="push"></div>
    </div>

    <footer class="site-footer">
    <div class="site-footer-content">
        <div class="footer-col-1">
            <p><strong>TestCafe</strong>: Automated browser testing for the modern web development stack<br/>
            Copyright © 1998-2017 Developer Express Inc.</p>
        </div>
    </div>
</footer>


    <script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
    <script type="text/javascript"> docsearch({
          apiKey: '938fb7894c0af8c01af3e2b4c53d4bdd',
          indexName: 'testcafe',
          inputSelector: '#search',
          debug: false // Set debug to true if you want to inspect the dropdown
      });
    </script>

  </body>

</html>
