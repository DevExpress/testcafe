<!DOCTYPE html>
<html>

  <head>
  
  
  
  
  
  
  

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <title>Best Practices | TestCafe</title>

  <meta name="description" content="">
  <meta name="viewport" content="width=device-width">

  <meta property="og:image" content="https://raw.githubusercontent.com/DevExpress/testcafe-gh-page-assets/master/src/images/testcafe-ogp-icon.png">
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://devexpress.github.io/testcafe/documentation/guides/basic-guides/best-practices.html" />
  <meta property="og:title" content="Best Practices | TestCafe" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:image" content="https://raw.githubusercontent.com/DevExpress/testcafe-gh-page-assets/master/src/images/testcafe-twitter-card-icon.png" />
  <meta name="twitter:site" content="@DXTestCafe" />
  
  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.16.2/build/styles/docco.min.css">
  
  
  <link rel="shortcut icon" href="/testcafe/favicon.ico">
  <link rel="stylesheet" href="/testcafe/css/main.css">
  <link rel="stylesheet" href="/testcafe/css/banner.css">
  <link rel="canonical" href="https://devexpress.github.io/testcafe/documentation/guides/basic-guides/best-practices.html">
  <link rel="alternate" type="application/rss+xml" title="TestCafe" href="https://devexpress.github.io/testcafe/feed.xml">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans">
  <link rel="apple-touch-icon" sizes="180x180" href="/testcafe/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/testcafe/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/testcafe/favicon-16x16.png">
  <link rel="manifest" href="/testcafe/site.webmanifest">
  <meta name="msapplication-TileColor" content="#2d89ef">
  <meta name="msapplication-config" content="/testcafe/browserconfig.xml" />
  <meta name="theme-color" content="#ffffff">
  <script defer src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.16.2/build/highlight.min.js"></script>
  <script defer src="https://buttons.github.io/buttons.js"></script>
  <script defer type="text/javascript" src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-2.2.3.min.js"></script>
  <script src="/testcafe/scripts/mobile-detect.min.js" type="text/javascript"></script>
  <script>
     var md             = new MobileDetect(window.navigator.userAgent);
     var isMobileDevice = !!md.mobile();
  </script>
  <script>
      var SUMMER_2019_SURVEY_COMPLETED_FLAG            = 'summer-2019-survey-completed';
      var SUMMER_2019_SURVEY_PAGE_OPEN_DATE_FLAG       = 'summer-2019-survey-page-open-date';
      var SUMMER_2019_SURVEY_BANNER_DISMISSED_FLAG     = 'summer-2019-survey-banner-dismissed';
      var DECEMBER_2020_WEBINAR_BANNER_DISMISSED_FLAG  = 'december-2020-webinar-banner-dismissed';
      var DECEMBER_2020_WEBINAR_OPEN_DATE_FLAG         = 'december-2020-webinar-page-open-date';
  </script>
  <script>
      document.addEventListener('DOMContentLoaded', function (e) {
          hljs.initHighlightingOnLoad();
      });
  </script>

  
  <script>
    // Google Analytics
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-83678642-1', 'auto');
    ga('set', 'anonymizeIp', true);
    ga('send', 'pageview');
  </script>
  

  

  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery.perfect-scrollbar/0.6.12/css/perfect-scrollbar.min.css">
  <link rel="stylesheet" href="/testcafe/css/docs.css">
    
  <style>
      .ps-container > .ps-scrollbar-x-rail,
      .ps-container > .ps-scrollbar-y-rail {
          opacity: 0.6;
      }
  </style>
  

  

  

  

  <script>
    function linkCss (href) {
        var link  = document.createElement('link');
        var html  = document.querySelector('html');
        var head  = document.head;

        link.rel  = 'stylesheet';
        link.type = 'text/css';
        link.href = href;
        link.media = 'all';

        head.appendChild(link);

        window.addEventListener('load', function () {
            html.style.display = 'block';
        });

        html.style.display = 'none';
    }
  </script>
    
    

    <script>
        if (isMobileDevice) {
            linkCss('/testcafe/css/banner.mobile.css');

            document.addEventListener('DOMContentLoaded', function (e) {
                var siteNav         = document.querySelector('.site-nav');
                var hamburgerButton = document.querySelector('.hamburger-button');

                hamburgerButton.addEventListener('click', function (e) {
                    if (hamburgerButton.className.indexOf('active') !== -1) {
                        hamburgerButton.className = hamburgerButton.className.replace(' active', '');
                        siteNav.className = siteNav.className.replace(' active', '');
                        document.documentElement.style.overflowY = 'scroll';
                        document.body.style.overflowY = 'initial';
                    }
                    else {
                        hamburgerButton.className += ' active';
                        siteNav.className += ' active';
                        document.documentElement.style.overflowY = 'hidden';
                        document.body.style.overflowY = 'hidden';
                    }
                });

                var docTopNav          = document.querySelector('.doc-top-nav');
                var docMenuItem        = document.querySelector('.site-nav-tab');
                var mainMenuSecondItem = document.querySelector('.site-nav-tab:nth-child(2)');

                siteNav.insertBefore(docTopNav, mainMenuSecondItem);
                
                var searchPanel = document.getElementById('search-panel');
                
                siteNav.insertBefore(searchPanel, docMenuItem);

                var docMenuItemIcon = document.createElement('div');

                docMenuItemIcon.className = 'doc-menu-item-icon';
                docMenuItem.appendChild(docMenuItemIcon);

                
                    docMenuItem.className += ' expanded';
                    docTopNav.className += ' expanded';
                

                docMenuItem.addEventListener('click', function (e) {
                    if (docTopNav.className.indexOf('expanded') !== -1) {
                        docMenuItem.className = docMenuItem.className.replace(' expanded', '');
                        docTopNav.className = docTopNav.className.replace(' expanded', '');
                    }
                    else {
                        docMenuItem.className += ' expanded';
                        docTopNav.className += ' expanded';
                    }
                    e.preventDefault();
                });
            });

            linkCss('/testcafe/css/mobile.css');
        }
    </script>

  

  

    

  
    <script defer type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery.perfect-scrollbar/0.6.12/js/perfect-scrollbar.min.js"></script>
    <script defer type="text/javascript" src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-2.2.3.min.js"></script>

    <script>
        var MIN_BODY_WIDTH = 1230;
        var FOOTER_HEIGHT  = 225;

        var nav     = null;
        var article = null;

        function getHeaderHeight () {
            var DOCS_HEADER_HEIGHT   = 126;
            var SURVEY_HEADER_HEIGHT = 32;

            var surveyBanner          = document.querySelector('.survey-banner');
            var isSurveyBannerVisible = surveyBanner && surveyBanner.className.indexOf('hidden') === -1;

            return isSurveyBannerVisible ? DOCS_HEADER_HEIGHT + SURVEY_HEADER_HEIGHT : DOCS_HEADER_HEIGHT;
        }

        function setNavTopPosition () {
            var headerHeight = getHeaderHeight();
            var top          = null;

            if (document.body.clientWidth > MIN_BODY_WIDTH) {
                if (nav.style.top !== headerHeight + 'px') {
                    nav.style.top = headerHeight + 'px';
                    Ps.update(nav);
                }
            }
            else {
                top = window.pageYOffset <= headerHeight ? headerHeight - window.pageYOffset + 'px' : '0';

                if (nav.style.top !== top) {
                    nav.style.top = top;
                    Ps.update(nav);
                }
            }
        }

        function setNavBottomPosition () {
            var footerVisibleHeight = FOOTER_HEIGHT - document.body.scrollHeight + window.pageYOffset +
                                      document.body.clientHeight;

            if (footerVisibleHeight > 0) {
                if (nav.style.bottom !== footerVisibleHeight + 'px') {
                    nav.style.bottom = footerVisibleHeight + 'px';
                    Ps.update(nav);
                }
            }
            else if (nav.style.bottom !== '0') {
                nav.style.bottom = '0';
                Ps.update(nav);
            }
        }

        function updateNavMenuPosition () {
            nav.style.marginLeft = '-' + window.pageXOffset + 'px';

            setNavBottomPosition();
            setNavTopPosition();
        }

        function changeBodyHeight () {
            if (document.body.style.height !== window.innerHeight + 'px')
                document.body.style.height = window.innerHeight + 'px';
        }

        function initScrollBar() {
            Ps.initialize(nav);

            window.addEventListener('resize', function () {
                Ps.update(nav);
            });
        }

        function initNav() {
            initScrollBar();
            updateNavMenuPosition();
            window.addEventListener('scroll', updateNavMenuPosition);
            window.addEventListener('resize', updateNavMenuPosition);
        }

        function scrollToActiveItem() {
            var activeItem = document.querySelector('.doc-nav .active');
            var scrollContainer = document.querySelector('.ps-container');

            if (scrollContainer && activeItem) {
                scrollContainer.scrollTop = activeItem.offsetTop;
            }
        }

        document.addEventListener('DOMContentLoaded', function (e) {
            if (isMobileDevice)
                return;

            nav     = document.querySelector('.doc-nav');
            article = document.querySelector('.doc');

            if (nav)
                initNav(nav);

            scrollToActiveItem();
        });
    </script>
    
    
    <script>
        if (isMobileDevice) {
            linkCss('/testcafe/css/banner.mobile.css');
            linkCss('/testcafe/css/docs.mobile.css');           
            
            if (false == false) {
                document.addEventListener('DOMContentLoaded', function (e) {
                    var docNavPanel = document.querySelector('.doc-nav-panel');
                    var docNav      = document.querySelector('.doc-nav');

                    docNavPanel.addEventListener('click', function (e) {
                        if (docNav.className.indexOf('active') !== -1) {
                            docNav.className = docNav.className.replace(' active', '');
                            document.documentElement.style.overflowY = 'scroll';
                            document.body.style.overflowY = 'initial';
                        }
                        else {
                            docNav.className += ' active';
                            document.documentElement.style.overflowY = 'hidden';
                            document.body.style.overflowY = 'hidden';
                        }
                    });
                });
            }
        }
    </script>
  
    <script>
        function initHeader(siteHeader, contentWrapper, docTopMenu, article, gs, surveyBanner) {
            var MIN_BODY_WIDTH = 1230;

            function updateHeader() {
                var CONTENT_MARGIN_WITH_DOC_MENU     = '72px';
                var CONTENT_MARGIN_WITHOUT_DOC_MENU  = '21px';
                var CONTENT_MARGIN_COMMUNITY_DESKTOP = '27px';
                var CONTENT_MARGIN_COMMUNITY_MOBILE  = '48px';

                var bodyMinimized          = document.body.clientWidth === MIN_BODY_WIDTH;
                var docContentMargin       = bodyMinimized ? CONTENT_MARGIN_WITHOUT_DOC_MENU : CONTENT_MARGIN_WITH_DOC_MENU;
                var isCommunitySection     = false;
                var contentMarginCommunity = isMobileDevice ? CONTENT_MARGIN_COMMUNITY_MOBILE : CONTENT_MARGIN_COMMUNITY_DESKTOP;
                var contentMargin          = isCommunitySection ? contentMarginCommunity : docContentMargin;

                

                siteHeader.style.position = bodyMinimized ? 'static' : '';

                if(docTopMenu)
                    docTopMenu.style.position = bodyMinimized ? 'static' : '';

                if(surveyBanner)
                    surveyBanner.style.position = bodyMinimized ? 'static' : '';

                if(contentWrapper)
                    contentWrapper.style.paddingTop = bodyMinimized ? '0' : '';

                if(article && !isMobileDevice)
                    article.style.marginTop = contentMargin;
                if(gs && !isMobileDevice)
                    gs.style.paddingTop = contentMargin;
            }

            updateHeader();
            window.addEventListener('scroll', updateHeader);
            window.addEventListener('resize', updateHeader);
        }
        document.addEventListener('DOMContentLoaded', function (e) {
            var contentWrapper = document.querySelector('.container');
            var siteHeader     = document.querySelector('.site-header');
            var docTopMenu     = document.querySelector('.doc-top-nav');
            var article        = document.querySelector('.doc');
            var gs             = document.querySelector('.gs');
            var surveyBanner   = document.querySelector('.survey-banner');

            if(siteHeader)
                initHeader(siteHeader, contentWrapper, docTopMenu, article, gs, surveyBanner);
        });
    </script>
</head>


  <body>

    <script defer src="/testcafe/scripts/cookie-notice.js" type="text/javascript"></script>
<div class="cookie-notice">
    <div class="close-icon"></div>
    <div class="cookie-notice-content">
        <div class="cookie-notice-message">
            <div class="cookie-notice-header">Why We Use Cookies</div>
            <div class="cookie-notice-text">This site uses cookies to make your browsing experience more convenient and personal. Cookies store useful information on your computer to help us improve the efficiency and relevance of our site for you. In some cases, they are essential to making the site work properly. By accessing this site, you consent to the use of cookies. For more information, refer to DevExpress' <a href="https://www.devexpress.com/AboutUs/privacy-policy.xml" target="_blank">privacy policy</a> and <a href="https://www.devexpress.com/AboutUs/cookie-policy.xml" target="_blank">cookie policy</a>.</div>
        </div>
        <div class="cookie-notice-button">I understand</div>
    </div>
</div>

    <div class="page-content-wrapper">

      <div class="survey-banner hidden">
    <div class="survey-banner-message">
        <span class="desktop-text">Join us on Wednesday, December 2nd at 10 AM PST for a live webinar on how to get true cross-browser test coverage with TestCafe and LambdaTest. </span><span class="mobile-text">Join us on December 2nd for a live webinar.</span> <a href="https://www.lambdatest.com/webinar/how-to-get-true-cross-browser-test-coverage-with-testCafe-and-lambdatest-webinar" target="_blank"><span>Register</span></a>
    </div>
  <div class="survey-banner-close-button"></div>
</div>
<script>
  var wasWebinarBannerDismissed = window.localStorage.getItem(DECEMBER_2020_WEBINAR_BANNER_DISMISSED_FLAG);
  var webinarOpenDate           = window.localStorage.getItem(DECEMBER_2020_WEBINAR_OPEN_DATE_FLAG);

  if(!wasWebinarBannerDismissed && !webinarOpenDate) {
      var surveyBanner      = document.querySelector('.survey-banner');
      var surveyLink        = document.querySelector('.survey-banner a');
      var surveyBannerClose = document.querySelector('.survey-banner-close-button');

      function hideSurveyBanner() {
          surveyBanner.className = surveyBanner.className += ' hidden';

          var navExists = !!document.querySelector('.doc-nav');

          if (!isMobileDevice && typeof updateNavMenuPosition !== 'undefined' && navExists)
              updateNavMenuPosition();
      }

      surveyBanner.className = surveyBanner.className.replace(/hidden/,'');

      surveyBannerClose.addEventListener('click', function () {
          hideSurveyBanner();
          window.localStorage.setItem(DECEMBER_2020_WEBINAR_BANNER_DISMISSED_FLAG, true);
      });

      surveyLink.addEventListener('click', function () {
          hideSurveyBanner();
      });
  }
</script>


<script>
    var TEAM_BLOG_LAST_VISITED_FLAG = 'team-blog-last-visited';
    var TEAM_BLOG_LINK_ID           = 'blog-link';
    var TEAM_BLOG_LINK_NEW_CLASS    = 'new-post';
    var NOTIFICATIONS_ACTIVE_SINCE  = new Date(2020, 4, 21)

    var teamBlogLastVisited = window.localStorage.getItem(TEAM_BLOG_LAST_VISITED_FLAG) || NOTIFICATIONS_ACTIVE_SINCE;

    window.addEventListener('DOMContentLoaded', function (e) {
        var lastPostDate = new Date(1605560400 * 1000);
        
        if(lastPostDate > teamBlogLastVisited) {
            var blogLink = document.getElementById(TEAM_BLOG_LINK_ID).parentElement;
            
            if(blogLink)
                blogLink.className += ` ${TEAM_BLOG_LINK_NEW_CLASS}`;
        }
    });
</script>
<header class="site-header fixed">
  <div class="site-header-content">
    <a class="site-logo" href="/testcafe/"></a>
    <div class="hamburger-button">
        <div class="hamburger-icon"></div>
    </div>
    <nav class="site-nav">
      
        
        <div class="site-nav-tab active">
          <a class="page-link" href="/testcafe/documentation/getting-started/"><span>Docs</span></a>
        </div>
      
        
        <div class="site-nav-tab" id="blog-link-tab">
          <a class="page-link" id="blog-link" href="/testcafe/media/team-blog/"><span>Blog</span></a>
        </div>
      
        
        <div class="site-nav-tab">
          <a class="page-link" href="/testcafe/faq/"><span>FAQ</span></a>
        </div>
      
        
        <div class="site-nav-tab">
          <a class="page-link" href="/testcafe/support/"><span>Support</span></a>
        </div>
      
        
        <div class="site-nav-tab">
          <a class="page-link" href="/testcafe/release-notes/"><span>Release Notes</span></a>
        </div>
      
        
        <div class="site-nav-tab" id="studio-link-tab">
          <a class="page-link" id="studio-link" href="https://www.devexpress.com/products/testcafestudio/" target="_blank"><span>TestCafe Studio</span></a>
        </div>
      
    </nav>
    <div class="site-header-buttons">
      <a id="twitter-button" href="https://twitter.com/dxtestcafe" target="_blank"></a>
      <div id="search-icon"></div>
      <div class="star-button">
        <a class="github-button" href="https://github.com/DevExpress/testcafe" data-size="large" data-count-href="/DevExpress/testcafe/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star DevExpress/testcafe on GitHub"><span style="color:#ffffff">Star</span></a>
      </div>
      <div id="search-panel" class="hidden">
          <input type="text" placeholder="Search documentation" id="search"/>
          <div id="close-search"></div>
      </div>
    </div>
  </div>
</header>

<script>
  function has(parentEl, el)  {
    var descendants = parentEl.getElementsByTagName('*');
    
    for(i = 0; i < descendants.length; i++) 
        if(descendants[i] === el) return true;

    return false;
  }

  function clickOutsideBox(e, box) {
      return box !== e.target && !has(box, e.target);
  }  

  function closeSearchBox(e) {
      if(clickOutsideBox(e, searchPanel) && searchPanel.className.indexOf('hidden') === -1) 
          searchPanel.className += ' hidden';
  }

  var searchButton      = document.getElementById('search-icon');
  var searchPanel       = document.getElementById('search-panel');
  var searchInput       = document.getElementById('search');
  var closeSearchButton = document.getElementById('close-search');

  searchButton.addEventListener('click', function () {
      searchPanel.className = searchPanel.className.replace(/hidden/,'');
      searchInput.focus();      
  });
  
  closeSearchButton.addEventListener('click', function () {
      searchPanel.className += ' hidden';
  });

  window.addEventListener('mousedown', closeSearchBox);        
  window.addEventListener('touchstart', closeSearchBox);

  if (window.isMobileDevice) {
      function closeHamburgerMenuBox(e) {
          if(clickOutsideBox(e, hamburgerMenu) && clickOutsideBox(e, hamburgerButton) && hamburgerMenu.className.indexOf('active') !== -1) {
              hamburgerMenu.className = hamburgerMenu.className.replace(' active', '');
              hamburgerButton.className = hamburgerButton.className.replace(' active', '');
              document.documentElement.style.overflowY = 'scroll';
              document.body.style.overflowY = 'initial';
          }
      }

      var hamburgerMenu = document.querySelector('.site-nav');
      var hamburgerButton = document.querySelector('.hamburger-button');

      window.addEventListener('mousedown', closeHamburgerMenuBox);        
      window.addEventListener('touchstart', closeHamburgerMenuBox);

      window.addEventListener('DOMContentLoaded', function (e) {
          var docNav = document.querySelector('.doc-nav');

          if(docNav) {
              function closeDocNav() {
                  docNav.className = docNav.className.replace(' active', '');
                  document.documentElement.style.overflowY = 'scroll';
                  document.body.style.overflowY = 'initial';
              }

              function clickWithDocNavInvoked(e) {
                  if(clickOutsideBox(e, docNav) && clickOutsideBox(e, docNavPanel) && docNav.className.indexOf('active') !== -1) 
                      closeDocNav();
              }

              var docNavPanel = document.querySelector('.doc-nav-panel');

              window.addEventListener('mousedown', clickWithDocNavInvoked);        
              window.addEventListener('touchstart', clickWithDocNavInvoked);

              var docNavLinks = document.querySelectorAll('.doc-nav a');

              docNavLinks.forEach(function (link) {
                  link.addEventListener('click', closeDocNav);
              });
          }
      });
  }
</script>

<script>
  var studioLink = document.getElementById('studio-link');

  studioLink.addEventListener('click', function () {
      ga('send', 'event', 'topMenu', 'studioLinkClicked');
  });
</script>

<div class="doc-top-nav">
  <div class="doc-top-nav-content">
    <div class="doc-top-nav-wrapper">
      
        <div class="doc-top-nav-tab " >
          <a href="/testcafe/documentation/getting-started/">Getting Started</a>
        </div>
      
        <div class="doc-top-nav-tab active" >
          <a href="/testcafe/documentation/guides/">Guides</a>
        </div>
      
        <div class="doc-top-nav-tab " >
          <a href="/testcafe/documentation/reference/">Reference</a>
        </div>
      
        <div class="doc-top-nav-tab " >
          <a href="/testcafe/documentation/recipes/">Recipes</a>
        </div>
      
        <div class="doc-top-nav-tab " >
          <a href="/testcafe/documentation/how-it-works/">How It Works</a>
        </div>
      
        <div class="doc-top-nav-tab " >
          <a href="/testcafe/documentation/examples/">Examples</a>
        </div>
      
    </div>
  </div>
</div>


      <div class="container">
    

	
	

	
	
	<div class="doc-nav-panel">
		<div class="toggle-nav-button"></div>
		<div class="doc-nav-panel-header">
			<div class="doc-nav-panel-heading">Documentation</div>
			<div class="doc-nav-panel-title">Guides</div>
		</div>
	</div>
	<nav class="doc-nav">	
		<div class="doc-nav-content">
			<ul>
				<li>
				<ul>

    <li>
		    
		

<span>Basic Guides</span>

		
			<ul>

    <li>
		    
		

<a href="/testcafe/documentation/guides/basic-guides/install-testcafe.html"  >Install TestCafe</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/basic-guides/organize-tests.html"  >Organize Tests</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/basic-guides/select-page-elements.html"  >Select Page Elements</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/basic-guides/interact-with-the-page.html"  >Interact with the Page</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/basic-guides/assert.html"  >Assert</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/basic-guides/obtain-client-side-info.html"  >Obtain Client-Side Info</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/basic-guides/run-tests.html"  >Run Tests</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/basic-guides/debug.html"  >Debug</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/basic-guides/best-practices.html" class="active" >Best Practices</a>

		
    </li>

</ul>
		
    </li>

    <li>
		    
		

<span>Advanced Guides</span>

		
			<ul>

    <li>
		    
		

<a href="/testcafe/documentation/guides/advanced-guides/authentication.html"  >Authentication</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/advanced-guides/screenshots-and-videos.html"  >Screenshots and Videos</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/advanced-guides/intercept-http-requests.html"  >Intercept HTTP Requests</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/advanced-guides/inject-client-scripts.html"  >Inject Client Scripts</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/advanced-guides/test-https-features-and-http2-websites.html"  >Test HTTPS Features and HTTP/2 Websites</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/advanced-guides/detect-the-client-browser-and-platform.html"  >Detect the Client Browser and Platform</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/advanced-guides/use-testcafe-docker-image.html"  >Use TestCafe Docker Image</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/advanced-guides/multiple-browser-windows.html"  >Multiple Browser Windows</a>

		
    </li>

</ul>
		
    </li>

    <li>
		    
		

<span>Concepts</span>

		
			<ul>

    <li>
		    
		

<a href="/testcafe/documentation/guides/concepts/browsers.html"  >Browsers</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/concepts/reporters.html"  >Reporters</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/concepts/page-model.html"  >Page Model</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/concepts/typescript-and-coffeescript.html"  >TypeScript and CoffeeScript</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/concepts/built-in-wait-mechanisms.html"  >Built-in Wait Mechanisms</a>

		
    </li>

</ul>
		
    </li>

    <li>
		    
		

<span>Continuous Integration</span>

		
			<ul>

    <li>
		    
		

<a href="/testcafe/documentation/guides/continuous-integration/appveyor.html"  >AppVeyor</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/continuous-integration/azure-devops.html"  >Azure DevOps</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/continuous-integration/bitbucket-pipelines.html"  >Bitbucket Pipelines</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/continuous-integration/circleci.html"  >CircleCI</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/continuous-integration/github-actions.html"  >GitHub Actions</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/continuous-integration/github-actions-and-browserstack.html"  >GitHub Actions + BrowserStack</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/continuous-integration/gitlab.html"  >GitLab</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/continuous-integration/jenkins.html"  >Jenkins</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/continuous-integration/teamcity.html"  >TeamCity</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/continuous-integration/travis.html"  >Travis</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/continuous-integration/travis-and-sauce-labs.html"  >Travis + Sauce Labs</a>

		
    </li>

</ul>
		
    </li>

    <li>
		    
		

<span>Extend TestCafe</span>

		
			<ul>

    <li>
		    
		

<a href="/testcafe/documentation/guides/extend-testcafe/install-plugins.html"  >Install Plugins</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/extend-testcafe/reporter-plugin.html"  >Reporter Plugin</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/extend-testcafe/browser-provider-plugin.html"  >Browser Provider Plugin</a>

		
    </li>

</ul>
		
    </li>

</ul>
				</li>
			</ul>
		</div>
	</nav>
	

	
	

	
	
	


<main>
	<article class="doc">
		<div class="post-content">

			<h1>Best Practices</h1>
<p>This article describes the recommended ways to test with TestCafe. The main topics are as follows:</p>

<ul>
<li><a href="#e2e-test-scope">E2E Test Scope</a></li>
<li><a href="#smart-assertions">Smart Assertions</a></li>
<li><a href="#use-of-page-objects">Use of Page Objects</a></li>
<li><a href="#use-of-roles-for-login">Use of Roles for Login</a></li>
<li><a href="#file-structure">File Structure</a></li>
<li><a href="#setup-and-teardown">Setup and Teardown</a></li>
<li><a href="#selector-strategy">Selector Strategy</a></li>
</ul>
<h2><a class="anchor" id="e2e-test-scope"></a>E2E Test Scope <a class="permalink" href="#e2e-test-scope">#</a></h2>
<p>During the functional (also known as &#39;end-to-end&#39;) testing, the application is tested from beginning to end. This is in contrast to unit or integration tests, which focus on a specific part (or integration between parts) of the application.</p>

<p>TestCafe is a tool built for functional testing. Do not use it to perform non-functional testing (like performance or load testing). Such tests would not yield any conclusive results.</p>

<p>In your end-to-end tests, try to replicate real user actions. Don&#39;t test exceptions - these are better tested with unit and integration tests. Test the general business logic of your application and refrain from rare scenarios and edge cases.</p>

<p>Write fewer E2E tests. End-to-end tests are slow by nature, so the number of tests should be drastically lower than that of unit or integration tests.</p>
<h2><a class="anchor" id="smart-assertions"></a>Smart Assertions <a class="permalink" href="#smart-assertions">#</a></h2>
<p>In end-to-end web testing, unpredictable factors (like network lag, processor speed, or memory bottlenecks in containers) can interfere with the assertions and produce inconsistent test results. Such tests are inconclusive (sometimes called &#39;flaky&#39;).</p>

<p>TestCafe includes a <a href="../../guides/basic-guides/assert.html#smart-assertion-query-mechanism">Smart Assertion Query Mechanism</a>. This mechanism introduces wait time for all the assertions; if an assertion fails, it retries multiple times within a timeout. That reduces random impact and stabilizes the tests without performance trade-offs.</p>

<p>The following example demonstrates a common mistake:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="k">import</span> <span class="p">{</span> <span class="nx">Selector</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">testcafe</span><span class="dl">'</span><span class="p">;</span>

<span class="nx">fixture</span> <span class="s2">`My fixture`</span>
    <span class="p">.</span><span class="nx">page</span> <span class="s2">`http://devexpress.github.io/testcafe/example/`</span><span class="p">;</span>

<span class="nx">test</span><span class="p">(</span><span class="dl">'</span><span class="s1">Assertion with Selector</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">developerNameInput</span> <span class="o">=</span> <span class="nx">Selector</span><span class="p">(</span><span class="dl">'</span><span class="s1">#developer-name</span><span class="dl">'</span><span class="p">);</span>

    <span class="k">await</span> <span class="nx">t</span><span class="p">.</span><span class="nx">typeText</span><span class="p">(</span><span class="nx">developerNameInput</span><span class="p">,</span> <span class="dl">'</span><span class="s1">Peter</span><span class="dl">'</span><span class="p">);</span>

    <span class="c1">//the selector prefixed with the "await" operator doesn't update and produces unstable test results. Avoid it.</span>
    <span class="kd">const</span> <span class="nx">developerName</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">Selector</span><span class="p">(</span><span class="dl">'</span><span class="s1">#developer-name</span><span class="dl">'</span><span class="p">).</span><span class="nx">value</span><span class="p">;</span>

    <span class="k">await</span> <span class="nx">t</span>
            <span class="p">.</span><span class="nx">expect</span><span class="p">(</span><span class="nx">developerName</span><span class="p">).</span><span class="nx">eql</span><span class="p">(</span><span class="dl">'</span><span class="s1">Peter</span><span class="dl">'</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">typeText</span><span class="p">(</span><span class="nx">developerNameInput</span><span class="p">,</span> <span class="dl">'</span><span class="s1">Jack</span><span class="dl">'</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">expect</span><span class="p">(</span><span class="nx">developerName</span><span class="p">).</span><span class="nx">eql</span><span class="p">(</span><span class="dl">'</span><span class="s1">Jack</span><span class="dl">'</span><span class="p">);</span> <span class="c1">// fails</span>
<span class="p">});</span>
</code></pre></div>
<p>In this snippet, the <code>developerName</code> is initialized with the value of a Selector, but because of the <code>await</code> keyword, the value is calculated once and doesn&#39;t update. This disables the smart assertions query mechanism and leads to inconclusive results.</p>

<p>To enable the mechanism, omit the <code>await</code> keyword:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="k">import</span> <span class="p">{</span> <span class="nx">Selector</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">testcafe</span><span class="dl">'</span><span class="p">;</span>

<span class="nx">fixture</span> <span class="s2">`My fixture`</span>
    <span class="p">.</span><span class="nx">page</span> <span class="s2">`http://devexpress.github.io/testcafe/example/`</span><span class="p">;</span>

<span class="nx">test</span><span class="p">(</span><span class="dl">'</span><span class="s1">Assertion with Selector</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">developerNameInput</span> <span class="o">=</span> <span class="nx">Selector</span><span class="p">(</span><span class="dl">'</span><span class="s1">#developer-name</span><span class="dl">'</span><span class="p">);</span>

    <span class="k">await</span> <span class="nx">t</span><span class="p">.</span><span class="nx">typeText</span><span class="p">(</span><span class="nx">developerNameInput</span><span class="p">,</span> <span class="dl">'</span><span class="s1">Peter</span><span class="dl">'</span><span class="p">);</span>

    <span class="kd">const</span> <span class="nx">developerName</span> <span class="o">=</span> <span class="nx">Selector</span><span class="p">(</span><span class="dl">'</span><span class="s1">#developer-name</span><span class="dl">'</span><span class="p">).</span><span class="nx">value</span><span class="p">;</span>

    <span class="k">await</span> <span class="nx">t</span>
            <span class="p">.</span><span class="nx">expect</span><span class="p">(</span><span class="nx">developerName</span><span class="p">).</span><span class="nx">eql</span><span class="p">(</span><span class="dl">'</span><span class="s1">Peter</span><span class="dl">'</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">typeText</span><span class="p">(</span><span class="nx">developerNameInput</span><span class="p">,</span> <span class="dl">'</span><span class="s1">Jack</span><span class="dl">'</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">expect</span><span class="p">(</span><span class="nx">developerName</span><span class="p">).</span><span class="nx">eql</span><span class="p">(</span><span class="dl">'</span><span class="s1">Jack</span><span class="dl">'</span><span class="p">);</span> <span class="c1">// passes</span>
<span class="p">});</span>
</code></pre></div>
<p>The <code>developerName</code> is now initialized with a re-executable Selector API promise. When a test controller receives this promise, it enables the smart assertion query mechanism so TestCafe can wait for the value to update.</p>
<blockquote><div class="blockquote-content"><p>The smart assertion query mechanism works with Client Functions and promises created by TestCafe Selector and RequestLogger APIs. Use the <code>await</code> keyword with user-created promises and promises returned from third-party libraries.</p>
</div></blockquote>
<p>This rule applies to ClientFunctions as well.</p>

<p>The test below yields inconsistent results:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="k">import</span> <span class="p">{</span> <span class="nx">Selector</span><span class="p">,</span> <span class="nx">ClientFunction</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">testcafe</span><span class="dl">'</span><span class="p">;</span>

<span class="nx">fixture</span> <span class="s2">`My fixture`</span>
    <span class="p">.</span><span class="nx">page</span> <span class="s2">`http://devexpress.github.io/testcafe/example/`</span><span class="p">;</span>

<span class="nx">test</span><span class="p">(</span><span class="dl">'</span><span class="s1">Assertion with ClientFunction</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">interfaceSelect</span> <span class="o">=</span> <span class="nx">Selector</span><span class="p">(</span><span class="dl">'</span><span class="s1">#preferred-interface</span><span class="dl">'</span><span class="p">);</span>
    <span class="kd">const</span> <span class="nx">interfaceOption</span> <span class="o">=</span> <span class="nx">interfaceSelect</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="dl">'</span><span class="s1">option</span><span class="dl">'</span><span class="p">);</span>

    <span class="kd">const</span> <span class="nx">getValue</span>        <span class="o">=</span> <span class="nx">ClientFunction</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">'</span><span class="s1">preferred-interface</span><span class="dl">'</span><span class="p">).</span><span class="nx">value</span><span class="p">);</span>
    <span class="kd">const</span> <span class="nx">value</span>           <span class="o">=</span> <span class="k">await</span> <span class="nx">getValue</span><span class="p">();</span>

    <span class="k">await</span> <span class="nx">t</span>
        <span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="nx">interfaceSelect</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="nx">interfaceOption</span><span class="p">.</span><span class="nx">withText</span><span class="p">(</span><span class="dl">'</span><span class="s1">JavaScript API</span><span class="dl">'</span><span class="p">))</span>
        <span class="p">.</span><span class="nx">expect</span><span class="p">(</span><span class="nx">value</span><span class="p">).</span><span class="nx">eql</span><span class="p">(</span><span class="dl">'</span><span class="s1">JavaScript API</span><span class="dl">'</span><span class="p">);</span>
        <span class="c1">//fails</span>
<span class="p">});</span>
</code></pre></div>
<p>In this example, the client function obtains the value of a drop-down element. This value is then passed to the <code>t.expect</code> method. Since <code>getValue()</code> is called with await, the return value gets resolved instantly and never updates. The smart assertion query mechanism doesn&#39;t apply and the test fails.</p>

<p>To solve the issue, pass the client function without the <code>await</code> keyword:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="k">import</span> <span class="p">{</span> <span class="nx">Selector</span><span class="p">,</span> <span class="nx">ClientFunction</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">testcafe</span><span class="dl">'</span><span class="p">;</span>

<span class="nx">fixture</span> <span class="s2">`My fixture`</span>
    <span class="p">.</span><span class="nx">page</span> <span class="s2">`http://devexpress.github.io/testcafe/example/`</span><span class="p">;</span>

<span class="nx">test</span><span class="p">(</span><span class="dl">'</span><span class="s1">Assertion with ClientFunction</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">getValue</span> <span class="o">=</span> <span class="nx">ClientFunction</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">'</span><span class="s1">preferred-interface</span><span class="dl">'</span><span class="p">).</span><span class="nx">value</span><span class="p">)</span>

    <span class="kd">const</span> <span class="nx">interfaceSelect</span> <span class="o">=</span> <span class="nx">Selector</span><span class="p">(</span><span class="dl">'</span><span class="s1">#preferred-interface</span><span class="dl">'</span><span class="p">);</span>
    <span class="kd">const</span> <span class="nx">interfaceOption</span> <span class="o">=</span> <span class="nx">interfaceSelect</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="dl">'</span><span class="s1">option</span><span class="dl">'</span><span class="p">);</span>
    <span class="kd">const</span> <span class="nx">value</span>           <span class="o">=</span>  <span class="nx">getValue</span><span class="p">();</span>

    <span class="k">await</span> <span class="nx">t</span>
        <span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="nx">interfaceSelect</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="nx">interfaceOption</span><span class="p">.</span><span class="nx">withText</span><span class="p">(</span><span class="dl">'</span><span class="s1">JavaScript API</span><span class="dl">'</span><span class="p">))</span>
        <span class="p">.</span><span class="nx">expect</span><span class="p">(</span><span class="nx">value</span><span class="p">).</span><span class="nx">eql</span><span class="p">(</span><span class="dl">'</span><span class="s1">JavaScript API</span><span class="dl">'</span><span class="p">)</span>
<span class="p">});</span>
</code></pre></div>
<p>In this case, TestCafe applies the smart query mechanism and retries the assertion multiple times. This test responds to the changes that occur on the page and is more conclusive.</p>
<h2><a class="anchor" id="use-of-page-objects"></a>Use of Page Objects <a class="permalink" href="#use-of-page-objects">#</a></h2>
<p>Use the Page Model in your tests. Consider this simple page object of our <a href="https://devexpress.github.io/testcafe/example/">Example Page</a>.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="k">import</span> <span class="p">{</span><span class="nx">t</span><span class="p">,</span> <span class="nx">Selector</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">testcafe</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">class</span> <span class="nx">Page</span> <span class="p">{</span>
    <span class="kd">constructor</span> <span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">nameInput</span>               <span class="o">=</span> <span class="nx">Selector</span><span class="p">(</span><span class="dl">'</span><span class="s1">input</span><span class="dl">'</span><span class="p">).</span><span class="nx">withAttribute</span><span class="p">(</span><span class="dl">'</span><span class="s1">data-testid</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">name-input</span><span class="dl">'</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">importantFeaturesLabels</span> <span class="o">=</span> <span class="nx">Selector</span><span class="p">(</span><span class="dl">'</span><span class="s1">legend</span><span class="dl">'</span><span class="p">).</span><span class="nx">withExactText</span><span class="p">(</span><span class="dl">'</span><span class="s1">Which features are important to you:</span><span class="dl">'</span><span class="p">).</span><span class="nx">parent</span><span class="p">().</span><span class="nx">child</span><span class="p">(</span><span class="dl">'</span><span class="s1">p</span><span class="dl">'</span><span class="p">).</span><span class="nx">child</span><span class="p">(</span><span class="dl">'</span><span class="s1">label</span><span class="dl">'</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">submitButton</span>            <span class="o">=</span> <span class="nx">Selector</span><span class="p">(</span><span class="dl">'</span><span class="s1">button</span><span class="dl">'</span><span class="p">).</span><span class="nx">withAttribute</span><span class="p">(</span><span class="dl">'</span><span class="s1">data-testid</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">submit-button</span><span class="dl">'</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">async</span> <span class="nx">selectFeature</span><span class="p">(</span><span class="nx">number</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">await</span> <span class="nx">t</span><span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">importantFeaturesLabels</span><span class="p">.</span><span class="nx">nth</span><span class="p">(</span><span class="nx">number</span><span class="p">));</span>
    <span class="p">}</span>

    <span class="k">async</span> <span class="nx">clickSubmit</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">await</span> <span class="nx">t</span><span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">submitButton</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">async</span> <span class="nx">typeName</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">await</span> <span class="nx">t</span><span class="p">.</span><span class="nx">typeText</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">nameInput</span><span class="p">,</span> <span class="nx">name</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="k">new</span> <span class="nx">Page</span><span class="p">();</span>
</code></pre></div>
<p>The page object holds references to the desired elements on the page. Common operations are defined as an object&#39;s method.</p>

<p>This useful abstraction improves the flexibility of your tests - if the UI changes, change one file to update all references. A test with this model can look like this:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="k">import</span> <span class="nx">page</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./page-model</span><span class="dl">'</span>

<span class="nx">fixture</span> <span class="s2">`Use a Page Model`</span>
    <span class="p">.</span><span class="nx">page</span> <span class="s2">`https://devexpress.github.io/testcafe/example`</span><span class="p">;</span>


<span class="nx">test</span><span class="p">(</span><span class="dl">'</span><span class="s1">Use a Page Model</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>

    <span class="k">await</span> <span class="nx">page</span><span class="p">.</span><span class="nx">selectFeature</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
    <span class="k">await</span> <span class="nx">page</span><span class="p">.</span><span class="nx">typeName</span><span class="p">(</span><span class="dl">'</span><span class="s1">Peter</span><span class="dl">'</span><span class="p">);</span>
    <span class="k">await</span> <span class="nx">page</span><span class="p">.</span><span class="nx">clickSubmit</span><span class="p">();</span>

<span class="p">});</span>
</code></pre></div>
<p>The page model object handles the identification of items and common operations. Tests are then more readable and less brittle because there is no duplicate code. Notice how this test doesn&#39;t require a test controller (<code>t</code>) since the page object handles all actions.</p>

<p>The <a href="../../guides/concepts/page-model.html">Page Model</a> topic describes page object use in greater detail.</p>

<p>A code example is available in the <a href="https://github.com/DevExpress/testcafe-examples/tree/master/examples/use-page-model">testcafe-examples</a> repository.</p>
<h2><a class="anchor" id="use-of-roles-for-login"></a>Use of Roles for Login <a class="permalink" href="#use-of-roles-for-login">#</a></h2>
<p>Handle authentication during your tests with <a href="../../guides/advanced-guides/authentication.html#user-roles">User Roles</a>. Roles allow you to wrap authentication logic and credentials in a reusable object.</p>

<p>Define roles in a separate file with the <a href="../../reference/test-api/role/constructor.html">Role</a> constructor and include them in your tests with the <a href="../../reference/test-api/testcontroller/userole.html">t.useRole</a> method. The following example uses two user roles.</p>

<p><code>/tests/roles/roles.js:</code></p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="k">import</span> <span class="p">{</span> <span class="nx">Role</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">testcafe</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">regularUser</span> <span class="o">=</span> <span class="nx">Role</span><span class="p">(</span><span class="dl">'</span><span class="s1">http://example.com/login</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">await</span> <span class="nx">t</span>
        <span class="p">.</span><span class="nx">typeText</span><span class="p">(</span><span class="dl">'</span><span class="s1">#login</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">TestUser</span><span class="dl">'</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">typeText</span><span class="p">(</span><span class="dl">'</span><span class="s1">#password</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">testpass</span><span class="dl">'</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="dl">'</span><span class="s1">#sign-in</span><span class="dl">'</span><span class="p">);</span>
<span class="p">});</span>

<span class="kd">const</span> <span class="nx">admin</span> <span class="o">=</span> <span class="nx">Role</span><span class="p">(</span><span class="dl">'</span><span class="s1">http://example.com/login</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">await</span> <span class="nx">t</span>
        <span class="p">.</span><span class="nx">typeText</span><span class="p">(</span><span class="dl">'</span><span class="s1">#login</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">Admin</span><span class="dl">'</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">typeText</span><span class="p">(</span><span class="dl">'</span><span class="s1">#password</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">adminpass</span><span class="dl">'</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="dl">'</span><span class="s1">#sign-in</span><span class="dl">'</span><span class="p">);</span>
<span class="p">});</span>

<span class="k">export</span> <span class="p">{</span> <span class="nx">regularUser</span><span class="p">,</span> <span class="nx">admin</span> <span class="p">};</span>
</code></pre></div>
<p><code>/tests/test_group1.js/test1.js:</code></p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="k">import</span> <span class="p">{</span> <span class="nx">regularUser</span><span class="p">,</span> <span class="nx">admin</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">../../roles/roles.js</span><span class="dl">'</span><span class="p">;</span>

<span class="nx">fixture</span> <span class="s2">`My Fixture`</span>
    <span class="p">.</span><span class="nx">page</span><span class="p">(</span><span class="dl">'</span><span class="s1">../../my-page.html</span><span class="dl">'</span><span class="p">);</span>

<span class="nx">test</span><span class="p">(</span><span class="dl">'</span><span class="s1">Regular user test</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">await</span> <span class="nx">t</span>
        <span class="p">.</span><span class="nx">useRole</span><span class="p">(</span><span class="nx">regularUser</span><span class="p">);</span>
<span class="p">});</span>

<span class="nx">test</span><span class="p">(</span><span class="dl">'</span><span class="s1">Admin test</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">await</span> <span class="nx">t</span>
        <span class="p">.</span><span class="nx">useRole</span><span class="p">(</span><span class="nx">admin</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p>See the <a href="../../guides/advanced-guides/authentication.html">Authentication</a> article for more in-depth information.</p>
<h2><a class="anchor" id="file-structure"></a>File Structure <a class="permalink" href="#file-structure">#</a></h2>
<p>Follow these guidelines to keep your test structure manageable and &quot;clean&quot;:</p>

<ul>
<li><p>Use a page model to store Selectors and compound actions that are often used across your app. For instance, a page model function can contain all steps that are necessary to perform an action.</p></li>
<li><p>Put all the page model files into one directory. If your application is divided logically into components or subsystems, split up the associated page model objects into separate files.</p></li>
</ul>
<blockquote><div class="blockquote-content"><p>You can find a page model example in the <a href="https://github.com/DevExpress/testcafe-examples/tree/master/examples/use-page-model">testcafe-examples</a> repository.</p>
</div></blockquote>
<ul>
<li><p>Keep all <a href="#use-of-roles-for-login">Roles</a> in a separate file. This enables TestCafe to detect when the same Role is reused and further optimize the process.</p></li>
<li><p>Create a <code>testcaferc.json</code> file in the root directory of the project. It enables you to fine-tune your tests, which can be useful in CI/CD systems. For more information, read the <a href="../../reference/configuration-file.html">Configuration File</a> article.</p></li>
<li><p>Define one <code>fixture</code> in every test file. While it&#39;s technically possible to define multiple, it may lead to confusion as your suite grows.</p></li>
<li><p>A <code>fixture</code> should aggregate related tests. For example, place all authentication-related tests into one fixture.</p></li>
<li><p>TestCafe tests are purely functional. As such, they should not depend on the implementation details and it is best to isolate them from production code. Keep your test files in a separate directory. You can name this directory appropriately (for instance, <code>tests</code>).</p></li>
<li><p>In your test folder, create subfolders for tests that cover different subsystems of your application.</p></li>
<li><p>Don&#39;t write long tests. Shorter test scenarios are easier to debug and can run concurrently.</p></li>
<li><p>Any reused data (for example, large sets of reference values or form inputs) is better stored in a dedicated directory. Consider a descriptive folder name (for instance, <code>data</code>).</p></li>
</ul>

<p>With all the suggestions applied, your project&#39;s file structure might look like this:</p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="nb">.</span>
├── .testcaferc.json
└── tests
    ├── |- test_group1/
    │   └── |-test1.js
    │       |-test2.js
    ├── |- test_group2/
    │   └── |-test1.js
    │       |-test2.js
    ├── |- page_model/
    │   └── |- page1.js
    │       |- page2.js
    ├── |- helpers/
    │   └── |- helper1.js
    │       |- helper2.js
    ├── |- roles/
    │   └── |- roles.js
    └── |-data
</code></pre></div><h2><a class="anchor" id="setup-and-teardown"></a>Setup and Teardown <a class="permalink" href="#setup-and-teardown">#</a></h2>
<p>State management is an integral and important part of web testing. When your tests run, there are inevitably leftovers - database or local storage records, cache, or cookies. This data requires deletion during teardown. Extra steps your app requires to run (like adding records to the database) are performed during setup.</p>

<p>Consider a test that downloads a file and saves it to a folder. Since the file system persists between tests, this file requires deletion when the test completes. This is better done with an <code>afterEach</code> hook:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">fixture</span> <span class="s2">`My fixture`</span>
    <span class="p">.</span><span class="nx">page</span> <span class="s2">`http://example.com`</span>
    <span class="p">.</span><span class="nx">afterEach</span><span class="p">(</span> <span class="k">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="k">await</span> <span class="nx">cleanDir</span><span class="p">();</span>
    <span class="p">});</span>

<span class="nx">test</span><span class="p">(</span><span class="dl">'</span><span class="s1">My test</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">//test actions</span>
<span class="p">});</span>
</code></pre></div>
<p>While good for cleanup, <code>after</code> and <code>afterEach</code> hooks create mutual dependence between your tests when used to set up for the next test. The success rate of a test is then influenced by the preceding test, which is not desirable. Such tests need to run in a specific order and can&#39;t run in parallel.</p>

<p>Use <code>before</code> or <code>beforeEach</code> to fullfill your test&#39;s prerequisites (for example, to create a file necessary for a successful test run):</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">fixture</span> <span class="s2">`Another fixture`</span>
    <span class="p">.</span><span class="nx">page</span> <span class="s2">`http://example.com`</span>
    <span class="p">.</span><span class="nx">beforeEach</span><span class="p">(</span> <span class="k">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="k">await</span> <span class="nx">setupFileSystem</span><span class="p">();</span>
    <span class="p">});</span>

<span class="nx">test</span><span class="p">(</span><span class="dl">'</span><span class="s1">Another test</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">//test actions</span>
<span class="p">});</span>
</code></pre></div>
<p>If the <code>before</code>/<code>beforeEach</code> setup is unsuccessful, the corresponding test does not run, which saves you time. If <code>after</code>/<code>afterEach</code> setup yields an error, the following test runs and probably fails due to the unsuccessful setup.</p>

<p>To fulfill your test&#39;s prerequisites, use the <code>before</code> and <code>beforeEach</code> hooks. Clean the environment up with the <code>after</code> and <code>afterEach</code> hooks.</p>

<p>Use the <code>test.before</code> and <code>test.after</code> hooks to set a state that an individual test requires. Use <code>fixture.beforeEach</code> and <code>fixture.afterEach</code> to set a common state that all the tests in the suite require.</p>
<h2><a class="anchor" id="selector-strategy"></a>Selector Strategy <a class="permalink" href="#selector-strategy">#</a></h2>
<p>The <a href="https://community.devexpress.com/blogs/testcafe/archive/2020/06/10/testcafe-studio-v1-3-0-a-new-way-to-work-with-selectors.aspx">TestCafe Studio blog</a> explains the best ways to work with Selectors.</p>

<p>In general, follow these guidelines when you write the Selectors for your tests.</p>

<ul>
<li><p>Selectors shouldn’t be too specific. Otherwise, you might have to rewrite them after each page modification. For instance, <code>Selector(‘body’).find(‘div’).nth(5).find(‘p’).nth(3)</code> must be revised each time the number of elements on the page changes.</p></li>
<li><p>Selectors shouldn&#39;t be too generic. Otherwise, they may return different elements after each markup change. For example, <code>Selector(‘div &gt; button’)</code> can match multiple elements simultaneously.</p></li>
<li><p>Selectors shouldn’t rely on element parameters that might change. For instance, <code>Selector(&#39;[style*=&quot;background-color: red&quot;]&#39;)</code> uses a CSS style that changes often.</p></li>
<li><p>Selectors should remain readable. Selectors should be easy to understand (by you or another developer) for as long as the test is maintained. For instance, it may be difficult to understand which element corresponds to the following selector: <code>Selector(‘div’).find(‘pre’).nextSibling(-1)</code>. In contrast, <code>Selector(‘#topContainer’).find(‘.child’).withText(‘Add item’)</code> is much easier to read.</p></li>
<li><p>Selectors should reflect the user’s point of view. Since TestCafe supports end-to-end testing, it’s a good idea to build selectors that identify elements as an end-user would. For instance, <code>Selector(‘form’).find(‘[name=”btn-foo-123”]’)</code> might be stable, but it is written from the programmer’s perspective rather than from the user’s point of view.</p></li>
<li><p>Use custom attributes (like <code>data-testid</code>) whose sole purpose is to identify items with TestCafe. These attributes are unlikely to change during development, so you don&#39;t need to rewrite your Selectors as frequently.</p></li>
</ul>

<p>Group the Selectors in a <a href="#use-of-page-objects">page model</a>. It increases the resilience of your tests and helps remove redundant code.</p>

<p>Use the Selectors extension plugins for pages built with JavaScript frameworks. These extensions allow you to create Selectors that are more native to every framework.
Such plugins are available for the following popular front-end frameworks: <a href="https://github.com/DevExpress/testcafe-angular-selectors">Angular</a>, <a href="https://github.com/DevExpress/testcafe-react-selectors">React</a>, and <a href="https://github.com/DevExpress/testcafe-vue-selectors">Vue</a>.</p>


		</div>
	</article>

</main>
</div>

    </div>

    <footer class="site-footer">
    <div class="site-footer-content">
        <div class="footer-links">
            <div class="footer-link-content">
                <div class="link"><a href="/testcafe/documentation/">Docs</a></div>
                <div class="link"><a href="/testcafe/media/team-blog/">Blog</a></div>
                <div class="link"><a href="/testcafe/faq/">FAQ</a></div>
                <div class="link"><a href="/testcafe/support/">Support</a></div>
                <div class="link"><a href="/testcafe/roadmap/">Roadmap</a></div>
                <div class="link"><a href="/testcafe/release-notes/">Release Notes</a></div>
                <div class="link"><a href="https://devexpress.com/products/testcafestudio">TestCafe Studio</a></div>
            </div>
        </div>
        <div class="footer-icons">
            <div class="icon"><a href="https://twitter.com/DXTestCafe"><img src="/testcafe/images/twitter-footer.svg"/></a></div>
            <div class="icon"><a href="https://github.com/DevExpress/testcafe"><img src="/testcafe/images/github-footer.svg"/></a></div>
        </div>
        <div class="footer-legal">
            Use of this site constitutes acceptance of our <a href="https://www.devexpress.com/aboutus/privacy-policy.xml"  target="_blank">Privacy Policy</a><br/>
            Copyright © 2012–2020 Developer Express Inc.</p>
        </div>
    </div>
</footer>


    
<script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
<script type="text/javascript"> var search = docsearch({
     apiKey: '938fb7894c0af8c01af3e2b4c53d4bdd',
     indexName: 'testcafe',
     inputSelector: '#search',
     debug: false // Set debug to true if you want to inspect the dropdown
 });

 search.autocomplete.on('autocomplete:opened', function(e) {
     var searchInput = document.querySelector('#search');
     var dropdown    = document.querySelector('.ds-dropdown-menu');
     
     if(searchInput && dropdown) {
         dropdown.style.maxWidth = "none";
         dropdown.style.width = searchInput.offsetWidth + "px";
     }
 });
</script> 

  </body>

</html>
