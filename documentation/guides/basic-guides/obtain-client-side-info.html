<!DOCTYPE html>
<html>

  <head>
  
  
  
  
  
  
  

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <title>Obtain Client-Side Info | TestCafe</title>

  <meta name="description" content="">
  <meta name="viewport" content="width=device-width">

  <meta property="og:image" content="https://raw.githubusercontent.com/DevExpress/testcafe-gh-page-assets/master/src/images/testcafe-ogp-icon.png">
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://devexpress.github.io/testcafe/documentation/guides/basic-guides/obtain-client-side-info.html" />
  <meta property="og:title" content="Obtain Client-Side Info | TestCafe" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:image" content="https://raw.githubusercontent.com/DevExpress/testcafe-gh-page-assets/master/src/images/testcafe-twitter-card-icon.png" />
  <meta name="twitter:site" content="@DXTestCafe" />
  
  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.16.2/build/styles/docco.min.css">
  
  
  <link rel="shortcut icon" href="/testcafe/favicon.ico">
  <link rel="stylesheet" href="/testcafe/css/main.css">
  <link rel="stylesheet" href="/testcafe/css/banner.css">
  <link rel="canonical" href="https://devexpress.github.io/testcafe/documentation/guides/basic-guides/obtain-client-side-info.html">
  <link rel="alternate" type="application/rss+xml" title="TestCafe" href="https://devexpress.github.io/testcafe/feed.xml">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans">
  <link rel="apple-touch-icon" sizes="180x180" href="/testcafe/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/testcafe/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/testcafe/favicon-16x16.png">
  <link rel="manifest" href="/testcafe/site.webmanifest">
  <meta name="msapplication-TileColor" content="#2d89ef">
  <meta name="msapplication-config" content="/testcafe/browserconfig.xml" />
  <meta name="theme-color" content="#ffffff">
  <script defer src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.16.2/build/highlight.min.js"></script>
  <script defer src="https://buttons.github.io/buttons.js"></script>
  <script defer type="text/javascript" src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-2.2.3.min.js"></script>
  <script src="/testcafe/scripts/mobile-detect.min.js" type="text/javascript"></script>
  <script>
     var md             = new MobileDetect(window.navigator.userAgent);
     var isMobileDevice = !!md.mobile();
  </script>
  <script>
      document.addEventListener('DOMContentLoaded', function (e) {
          hljs.initHighlightingOnLoad();
      });
  </script>

  
  <script>
    // Google Analytics
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-83678642-1', 'auto');
    ga('set', 'anonymizeIp', true);
    ga('send', 'pageview');
  </script>
  

  

  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery.perfect-scrollbar/0.6.12/css/perfect-scrollbar.min.css">
  <link rel="stylesheet" href="/testcafe/css/docs.css">
    
  <style>
      .ps-container > .ps-scrollbar-x-rail,
      .ps-container > .ps-scrollbar-y-rail {
          opacity: 0.6;
      }
  </style>
  

  

  

  

  <script>
    function linkCss (href) {
        var link  = document.createElement('link');
        var html  = document.querySelector('html');
        var head  = document.head;

        link.rel  = 'stylesheet';
        link.type = 'text/css';
        link.href = href;
        link.media = 'all';

        head.appendChild(link);

        window.addEventListener('load', function () {
            html.style.display = 'block';
        });

        html.style.display = 'none';
    }
  </script>
    
    

    <script>
        if (isMobileDevice) {
            linkCss('/testcafe/css/banner.mobile.css');

            document.addEventListener('DOMContentLoaded', function (e) {
                var siteNav         = document.querySelector('.site-nav');
                var hamburgerButton = document.querySelector('.hamburger-button');

                hamburgerButton.addEventListener('click', function (e) {
                    if (hamburgerButton.className.indexOf('active') !== -1) {
                        hamburgerButton.className = hamburgerButton.className.replace(' active', '');
                        siteNav.className = siteNav.className.replace(' active', '');
                        document.documentElement.style.overflowY = 'scroll';
                        document.body.style.overflowY = 'initial';
                    }
                    else {
                        hamburgerButton.className += ' active';
                        siteNav.className += ' active';
                        document.documentElement.style.overflowY = 'hidden';
                        document.body.style.overflowY = 'hidden';
                    }
                });

                var docTopNav          = document.querySelector('.doc-top-nav');
                var docMenuItem        = document.querySelector('.site-nav-tab');
                var mainMenuSecondItem = document.querySelector('.site-nav-tab:nth-child(2)');

                siteNav.insertBefore(docTopNav, mainMenuSecondItem);
                
                var searchPanel = document.getElementById('search-panel');
                
                siteNav.insertBefore(searchPanel, docMenuItem);

                var docMenuItemIcon = document.createElement('div');

                docMenuItemIcon.className = 'doc-menu-item-icon';
                docMenuItem.appendChild(docMenuItemIcon);

                
                    docMenuItem.className += ' expanded';
                    docTopNav.className += ' expanded';
                

                docMenuItem.addEventListener('click', function (e) {
                    if (docTopNav.className.indexOf('expanded') !== -1) {
                        docMenuItem.className = docMenuItem.className.replace(' expanded', '');
                        docTopNav.className = docTopNav.className.replace(' expanded', '');
                    }
                    else {
                        docMenuItem.className += ' expanded';
                        docTopNav.className += ' expanded';
                    }
                    e.preventDefault();
                });
            });

            linkCss('/testcafe/css/mobile.css');
        }
    </script>

  

  

    

  
    <script defer type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery.perfect-scrollbar/0.6.12/js/perfect-scrollbar.min.js"></script>
    <script defer type="text/javascript" src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-2.2.3.min.js"></script>

    <script>
        var MIN_BODY_WIDTH = 1230;
        var FOOTER_HEIGHT  = 225;

        var nav     = null;
        var article = null;

        function getHeaderHeight () {
            return 126;
        }

        function setNavTopPosition () {
            var headerHeight = getHeaderHeight();
            var top          = null;

            if (document.body.clientWidth > MIN_BODY_WIDTH) {
                if (nav.style.top !== headerHeight + 'px') {
                    nav.style.top = headerHeight + 'px';
                    Ps.update(nav);
                }
            }
            else {
                top = window.pageYOffset <= headerHeight ? headerHeight - window.pageYOffset + 'px' : '0';

                if (nav.style.top !== top) {
                    nav.style.top = top;
                    Ps.update(nav);
                }
            }
        }

        function setNavBottomPosition () {
            var footerVisibleHeight = FOOTER_HEIGHT - document.body.scrollHeight + window.pageYOffset +
                                      document.body.clientHeight;

            if (footerVisibleHeight > 0) {
                if (nav.style.bottom !== footerVisibleHeight + 'px') {
                    nav.style.bottom = footerVisibleHeight + 'px';
                    Ps.update(nav);
                }
            }
            else if (nav.style.bottom !== '0') {
                nav.style.bottom = '0';
                Ps.update(nav);
            }
        }

        function updateNavMenuPosition () {
            nav.style.marginLeft = '-' + window.pageXOffset + 'px';

            setNavBottomPosition();
            setNavTopPosition();
        }

        function changeBodyHeight () {
            if (document.body.style.height !== window.innerHeight + 'px')
                document.body.style.height = window.innerHeight + 'px';
        }

        function initScrollBar() {
            Ps.initialize(nav);

            window.addEventListener('resize', function () {
                Ps.update(nav);
            });
        }

        function initNav() {
            initScrollBar();
            updateNavMenuPosition();
            window.addEventListener('scroll', updateNavMenuPosition);
            window.addEventListener('resize', updateNavMenuPosition);
        }

        function scrollToActiveItem() {
            var activeItem = document.querySelector('.doc-nav .active');
            var scrollContainer = document.querySelector('.ps-container');

            if (scrollContainer && activeItem) {
                scrollContainer.scrollTop = activeItem.offsetTop;
            }
        }

        document.addEventListener('DOMContentLoaded', function (e) {
            if (isMobileDevice)
                return;

            nav     = document.querySelector('.doc-nav');
            article = document.querySelector('.doc');

            if (nav)
                initNav(nav);

            scrollToActiveItem();
        });
    </script>
    
    
    <script>
        if (isMobileDevice) {
            linkCss('/testcafe/css/banner.mobile.css');
            linkCss('/testcafe/css/docs.mobile.css');           
            
            if (false == false) {
                document.addEventListener('DOMContentLoaded', function (e) {
                    var docNavPanel = document.querySelector('.doc-nav-panel');
                    var docNav      = document.querySelector('.doc-nav');

                    docNavPanel.addEventListener('click', function (e) {
                        if (docNav.className.indexOf('active') !== -1) {
                            docNav.className = docNav.className.replace(' active', '');
                            document.documentElement.style.overflowY = 'scroll';
                            document.body.style.overflowY = 'initial';
                        }
                        else {
                            docNav.className += ' active';
                            document.documentElement.style.overflowY = 'hidden';
                            document.body.style.overflowY = 'hidden';
                        }
                    });
                });
            }
        }
    </script>
  
    <script>
        function initHeader(siteHeader, contentWrapper, docTopMenu, article, gs) {
            var MIN_BODY_WIDTH = 1230;

            function updateHeader() {
                var CONTENT_MARGIN_WITH_DOC_MENU     = '72px';
                var CONTENT_MARGIN_WITHOUT_DOC_MENU  = '21px';
                var CONTENT_MARGIN_COMMUNITY_DESKTOP = '27px';
                var CONTENT_MARGIN_COMMUNITY_MOBILE  = '48px';

                var bodyMinimized          = document.body.clientWidth === MIN_BODY_WIDTH;
                var docContentMargin       = bodyMinimized ? CONTENT_MARGIN_WITHOUT_DOC_MENU : CONTENT_MARGIN_WITH_DOC_MENU;
                var isCommunitySection     = false;
                var contentMarginCommunity = isMobileDevice ? CONTENT_MARGIN_COMMUNITY_MOBILE : CONTENT_MARGIN_COMMUNITY_DESKTOP;
                var contentMargin          = isCommunitySection ? contentMarginCommunity : docContentMargin;

                

                siteHeader.style.position = bodyMinimized ? 'static' : '';

                if(docTopMenu)
                    docTopMenu.style.position = bodyMinimized ? 'static' : '';

                if(contentWrapper)
                    contentWrapper.style.paddingTop = bodyMinimized ? '0' : '';

                if(article && !isMobileDevice)
                    article.style.marginTop = contentMargin;
                if(gs && !isMobileDevice)
                    gs.style.paddingTop = contentMargin;
            }

            updateHeader();
            window.addEventListener('scroll', updateHeader);
            window.addEventListener('resize', updateHeader);
        }
        document.addEventListener('DOMContentLoaded', function (e) {
            var contentWrapper = document.querySelector('.container');
            var siteHeader     = document.querySelector('.site-header');
            var docTopMenu     = document.querySelector('.doc-top-nav');
            var article        = document.querySelector('.doc');
            var gs             = document.querySelector('.gs');

            if(siteHeader)
                initHeader(siteHeader, contentWrapper, docTopMenu, article, gs);
        });
    </script>
</head>


  <body>

    <script defer src="/testcafe/scripts/cookie-notice.js" type="text/javascript"></script>
<div class="cookie-notice">
    <div class="close-icon"></div>
    <div class="cookie-notice-content">
        <div class="cookie-notice-message">
            <div class="cookie-notice-header">Why We Use Cookies</div>
            <div class="cookie-notice-text">This site uses cookies to make your browsing experience more convenient and personal. Cookies store useful information on your computer to help us improve the efficiency and relevance of our site for you. In some cases, they are essential to making the site work properly. By accessing this site, you consent to the use of cookies. For more information, refer to DevExpress' <a href="https://www.devexpress.com/AboutUs/privacy-policy.xml" target="_blank">privacy policy</a> and <a href="https://www.devexpress.com/AboutUs/cookie-policy.xml" target="_blank">cookie policy</a>.</div>
        </div>
        <div class="cookie-notice-button">I understand</div>
    </div>
</div>

    <div class="page-content-wrapper">

      

<script>
    var TEAM_BLOG_LAST_VISITED_FLAG = 'team-blog-last-visited';
    var TEAM_BLOG_LINK_ID           = 'blog-link';
    var TEAM_BLOG_LINK_NEW_CLASS    = 'new-post';
    var NOTIFICATIONS_ACTIVE_SINCE  = new Date(2020, 4, 21)

    var teamBlogLastVisited = window.localStorage.getItem(TEAM_BLOG_LAST_VISITED_FLAG) || NOTIFICATIONS_ACTIVE_SINCE;

    window.addEventListener('DOMContentLoaded', function (e) {
        var lastPostDate = new Date(1609102800 * 1000);
        
        if(lastPostDate > teamBlogLastVisited) {
            var blogLink = document.getElementById(TEAM_BLOG_LINK_ID).parentElement;
            
            if(blogLink)
                blogLink.className += ` ${TEAM_BLOG_LINK_NEW_CLASS}`;
        }
    });
</script>
<header class="site-header fixed">
  <div class="site-header-content">
    <a class="site-logo" href="/testcafe/"></a>
    <div class="hamburger-button">
        <div class="hamburger-icon"></div>
    </div>
    <nav class="site-nav">
      
        
        <div class="site-nav-tab active">
          <a class="page-link" href="/testcafe/documentation/getting-started/"><span>Docs</span></a>
        </div>
      
        
        <div class="site-nav-tab" id="blog-link-tab">
          <a class="page-link" id="blog-link" href="/testcafe/media/team-blog/"><span>Blog</span></a>
        </div>
      
        
        <div class="site-nav-tab">
          <a class="page-link" href="/testcafe/faq/"><span>FAQ</span></a>
        </div>
      
        
        <div class="site-nav-tab">
          <a class="page-link" href="/testcafe/support/"><span>Support</span></a>
        </div>
      
        
        <div class="site-nav-tab">
          <a class="page-link" href="/testcafe/release-notes/"><span>Release Notes</span></a>
        </div>
      
        
        <div class="site-nav-tab" id="studio-link-tab">
          <a class="page-link" id="studio-link" href="https://www.devexpress.com/products/testcafestudio/" target="_blank"><span>TestCafe Studio</span></a>
        </div>
      
    </nav>
    <div class="site-header-buttons">
      <a id="twitter-button" href="https://twitter.com/dxtestcafe" target="_blank"></a>
      <div id="search-icon"></div>
      <div class="star-button">
        <a class="github-button" href="https://github.com/DevExpress/testcafe" data-size="large" data-count-href="/DevExpress/testcafe/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star DevExpress/testcafe on GitHub"><span style="color:#ffffff">Star</span></a>
      </div>
      <div id="search-panel" class="hidden">
          <input type="text" placeholder="Search documentation" id="search"/>
          <div id="close-search"></div>
      </div>
    </div>
  </div>
</header>

<script>
  function has(parentEl, el)  {
    var descendants = parentEl.getElementsByTagName('*');
    
    for(i = 0; i < descendants.length; i++) 
        if(descendants[i] === el) return true;

    return false;
  }

  function clickOutsideBox(e, box) {
      return box !== e.target && !has(box, e.target);
  }  

  function closeSearchBox(e) {
      if(clickOutsideBox(e, searchPanel) && searchPanel.className.indexOf('hidden') === -1) 
          searchPanel.className += ' hidden';
  }

  var searchButton      = document.getElementById('search-icon');
  var searchPanel       = document.getElementById('search-panel');
  var searchInput       = document.getElementById('search');
  var closeSearchButton = document.getElementById('close-search');

  searchButton.addEventListener('click', function () {
      searchPanel.className = searchPanel.className.replace(/hidden/,'');
      searchInput.focus();      
  });
  
  closeSearchButton.addEventListener('click', function () {
      searchPanel.className += ' hidden';
  });

  window.addEventListener('mousedown', closeSearchBox);        
  window.addEventListener('touchstart', closeSearchBox);

  if (window.isMobileDevice) {
      function closeHamburgerMenuBox(e) {
          if(clickOutsideBox(e, hamburgerMenu) && clickOutsideBox(e, hamburgerButton) && hamburgerMenu.className.indexOf('active') !== -1) {
              hamburgerMenu.className = hamburgerMenu.className.replace(' active', '');
              hamburgerButton.className = hamburgerButton.className.replace(' active', '');
              document.documentElement.style.overflowY = 'scroll';
              document.body.style.overflowY = 'initial';
          }
      }

      var hamburgerMenu = document.querySelector('.site-nav');
      var hamburgerButton = document.querySelector('.hamburger-button');

      window.addEventListener('mousedown', closeHamburgerMenuBox);        
      window.addEventListener('touchstart', closeHamburgerMenuBox);

      window.addEventListener('DOMContentLoaded', function (e) {
          var docNav = document.querySelector('.doc-nav');

          if(docNav) {
              function closeDocNav() {
                  docNav.className = docNav.className.replace(' active', '');
                  document.documentElement.style.overflowY = 'scroll';
                  document.body.style.overflowY = 'initial';
              }

              function clickWithDocNavInvoked(e) {
                  if(clickOutsideBox(e, docNav) && clickOutsideBox(e, docNavPanel) && docNav.className.indexOf('active') !== -1) 
                      closeDocNav();
              }

              var docNavPanel = document.querySelector('.doc-nav-panel');

              window.addEventListener('mousedown', clickWithDocNavInvoked);        
              window.addEventListener('touchstart', clickWithDocNavInvoked);

              var docNavLinks = document.querySelectorAll('.doc-nav a');

              docNavLinks.forEach(function (link) {
                  link.addEventListener('click', closeDocNav);
              });
          }
      });
  }
</script>

<script>
  var studioLink = document.getElementById('studio-link');

  studioLink.addEventListener('click', function () {
      ga('send', 'event', 'topMenu', 'studioLinkClicked');
  });
</script>

<div class="doc-top-nav">
  <div class="doc-top-nav-content">
    <div class="doc-top-nav-wrapper">
      
        <div class="doc-top-nav-tab " >
          <a href="/testcafe/documentation/getting-started/">Getting Started</a>
        </div>
      
        <div class="doc-top-nav-tab active" >
          <a href="/testcafe/documentation/guides/">Guides</a>
        </div>
      
        <div class="doc-top-nav-tab " >
          <a href="/testcafe/documentation/reference/">Reference</a>
        </div>
      
        <div class="doc-top-nav-tab " >
          <a href="/testcafe/documentation/recipes/">Recipes</a>
        </div>
      
        <div class="doc-top-nav-tab " >
          <a href="/testcafe/documentation/how-it-works/">How It Works</a>
        </div>
      
        <div class="doc-top-nav-tab " >
          <a href="/testcafe/documentation/examples/">Examples</a>
        </div>
      
    </div>
  </div>
</div>


      <div class="container">
    

	
	

	
	
	<div class="doc-nav-panel">
		<div class="toggle-nav-button"></div>
		<div class="doc-nav-panel-header">
			<div class="doc-nav-panel-heading">Documentation</div>
			<div class="doc-nav-panel-title">Guides</div>
		</div>
	</div>
	<nav class="doc-nav">	
		<div class="doc-nav-content">
			<ul>
				<li>
				<ul>

    <li>
		    
		

<span>Basic Guides</span>

		
			<ul>

    <li>
		    
		

<a href="/testcafe/documentation/guides/basic-guides/install-testcafe.html"  >Install TestCafe</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/basic-guides/organize-tests.html"  >Organize Tests</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/basic-guides/select-page-elements.html"  >Select Page Elements</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/basic-guides/interact-with-the-page.html"  >Interact with the Page</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/basic-guides/assert.html"  >Assert</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/basic-guides/obtain-client-side-info.html" class="active" >Obtain Client-Side Info</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/basic-guides/run-tests.html"  >Run Tests</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/basic-guides/debug.html"  >Debug</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/basic-guides/best-practices.html"  >Best Practices</a>

		
    </li>

</ul>
		
    </li>

    <li>
		    
		

<span>Advanced Guides</span>

		
			<ul>

    <li>
		    
		

<a href="/testcafe/documentation/guides/advanced-guides/authentication.html"  >Authentication</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/advanced-guides/screenshots-and-videos.html"  >Screenshots and Videos</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/advanced-guides/intercept-http-requests.html"  >Intercept HTTP Requests</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/advanced-guides/inject-client-scripts.html"  >Inject Client Scripts</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/advanced-guides/test-https-features-and-http2-websites.html"  >Test HTTPS Features and HTTP/2 Websites</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/advanced-guides/detect-the-client-browser-and-platform.html"  >Detect the Client Browser and Platform</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/advanced-guides/use-testcafe-docker-image.html"  >Use TestCafe Docker Image</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/advanced-guides/multiple-browser-windows.html"  >Multiple Browser Windows</a>

		
    </li>

</ul>
		
    </li>

    <li>
		    
		

<span>Concepts</span>

		
			<ul>

    <li>
		    
		

<a href="/testcafe/documentation/guides/concepts/browsers.html"  >Browsers</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/concepts/reporters.html"  >Reporters</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/concepts/page-model.html"  >Page Model</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/concepts/typescript-and-coffeescript.html"  >TypeScript and CoffeeScript</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/concepts/built-in-wait-mechanisms.html"  >Built-in Wait Mechanisms</a>

		
    </li>

</ul>
		
    </li>

    <li>
		    
		

<span>Continuous Integration</span>

		
			<ul>

    <li>
		    
		

<a href="/testcafe/documentation/guides/continuous-integration/appveyor.html"  >AppVeyor</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/continuous-integration/azure-devops.html"  >Azure DevOps</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/continuous-integration/bitbucket-pipelines.html"  >Bitbucket Pipelines</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/continuous-integration/circleci.html"  >CircleCI</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/continuous-integration/circleci-and-lambdatest.html"  >CircleCI + LambdaTest</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/continuous-integration/github-actions.html"  >GitHub Actions</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/continuous-integration/github-actions-and-browserstack.html"  >GitHub Actions + BrowserStack</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/continuous-integration/gitlab.html"  >GitLab</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/continuous-integration/jenkins.html"  >Jenkins</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/continuous-integration/teamcity.html"  >TeamCity</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/continuous-integration/travis.html"  >Travis</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/continuous-integration/travis-and-sauce-labs.html"  >Travis + Sauce Labs</a>

		
    </li>

</ul>
		
    </li>

    <li>
		    
		

<span>Extend TestCafe</span>

		
			<ul>

    <li>
		    
		

<a href="/testcafe/documentation/guides/extend-testcafe/install-plugins.html"  >Install Plugins</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/extend-testcafe/reporter-plugin.html"  >Reporter Plugin</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/extend-testcafe/browser-provider-plugin.html"  >Browser Provider Plugin</a>

		
    </li>

</ul>
		
    </li>

</ul>
				</li>
			</ul>
		</div>
	</nav>
	

	
	

	
	
	


<main>
	<article class="doc">
		<div class="post-content">

			<h1>Obtain Client-Side Info</h1>
<p>TestCafe allows you to create <em>client functions</em> that can return any serializable value from the client side, such as the current URL or custom data calculated by a client script.</p>

<ul>
<li><a href="#client-function-constructor">Client Function Constructor</a></li>
<li><a href="#run-asynchronous-client-code">Run Asynchronous Client Code</a></li>
<li><a href="#execute-client-functions">Execute Client Functions</a></li>
<li><a href="#pass-parameters-to-client-functions">Pass Parameters to Client Functions</a></li>
<li><a href="#overwrite-client-function-options">Overwrite Client Function Options</a></li>
<li><a href="#one-time-client-code-execution">One-Time Client Code Execution</a></li>
<li><a href="#import-functions-to-be-used-as-client-function-dependencies">Import Functions to be Used as Client Function Dependencies</a></li>
<li><a href="#call-client-functions-from-nodejs-callbacks">Call Client Functions from Node.js Callbacks</a></li>
<li><a href="#client-function-limitations">Client Function Limitations</a></li>
<li><a href="#access-console-messages">Access Console Messages</a></li>
<li><a href="#examples">Examples</a></li>
</ul>
<blockquote><div class="blockquote-content"><p>Do not modify the tested webpage within client functions.
Use <a href="interact-with-the-page.html">test actions</a> to interact with the page instead.</p>
</div></blockquote><h2><a class="anchor" id="client-function-constructor"></a>Client Function Constructor <a class="permalink" href="#client-function-constructor">#</a></h2>
<p>Use the <a href="../../reference/test-api/clientfunction/constructor.html">ClientFunction</a> constructor to create a client function.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="k">import</span> <span class="p">{</span> <span class="nx">ClientFunction</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">testcafe</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">getWindowLocation</span> <span class="o">=</span> <span class="nx">ClientFunction</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">);</span>
</code></pre></div><blockquote><div class="blockquote-content"><p>Client functions cannot return DOM nodes. Use <a href="select-page-elements.html">selectors</a> instead.</p>
</div></blockquote><h2><a class="anchor" id="run-asynchronous-client-code"></a>Run Asynchronous Client Code <a class="permalink" href="#run-asynchronous-client-code">#</a></h2>
<p>TestCafe allows you to create client functions that run asynchronous code.</p>

<p>Pass a function that returns a Promise to the <code>ClientFunction constructor</code>. In this instance, the client function will complete only when the Promise resolves.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="k">import</span> <span class="p">{</span> <span class="nx">ClientFunction</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">testcafe</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">performAsyncOperation</span> <span class="o">=</span> <span class="nx">ClientFunction</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">(</span><span class="nx">resolve</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nb">window</span><span class="p">.</span><span class="nx">setTimeout</span><span class="p">(</span><span class="nx">resolve</span><span class="p">,</span> <span class="mi">500</span><span class="p">);</span> <span class="c1">// some async operations</span>
    <span class="p">});</span>
<span class="p">});</span>
</code></pre></div><h2><a class="anchor" id="execute-client-functions"></a>Execute Client Functions <a class="permalink" href="#execute-client-functions">#</a></h2>
<p>Call the client function with the <code>await</code> keyword to execute it.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="k">import</span> <span class="p">{</span> <span class="nx">ClientFunction</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">testcafe</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">getWindowLocation</span> <span class="o">=</span> <span class="nx">ClientFunction</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">);</span>

<span class="nx">fixture</span> <span class="s2">`My fixture`</span>
    <span class="p">.</span><span class="nx">page</span> <span class="s2">`http://www.example.com/`</span><span class="p">;</span>

<span class="nx">test</span><span class="p">(</span><span class="dl">'</span><span class="s1">My Test</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">location</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">getWindowLocation</span><span class="p">();</span>
<span class="p">});</span>
</code></pre></div><h3><a class="anchor" id="pass-parameters-to-client-functions"></a>Pass Parameters to Client Functions <a class="permalink" href="#pass-parameters-to-client-functions">#</a></h3>
<p>This example shows the <code>getLocationPart</code> client function that returns a <a href="https://developer.mozilla.org/en-US/docs/Web/API/Location">Location</a> property value. The property name is passed as the <code>locationPart</code> parameter.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="k">import</span> <span class="p">{</span> <span class="nx">ClientFunction</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">testcafe</span><span class="dl">'</span><span class="p">;</span>

<span class="nx">fixture</span> <span class="s2">`Parameterized Client Functions`</span>
    <span class="p">.</span><span class="nx">page</span><span class="p">(</span><span class="dl">'</span><span class="s1">https://devexpress.github.io/testcafe/example/</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">getLocationPart</span> <span class="o">=</span> <span class="nx">ClientFunction</span><span class="p">(</span><span class="nx">locationPart</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">[</span><span class="nx">locationPart</span><span class="p">];</span>
<span class="p">});</span>

<span class="nx">test</span><span class="p">(</span><span class="dl">'</span><span class="s1">Parameterized Client Functions</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">await</span> <span class="nx">t</span>
        <span class="p">.</span><span class="nx">expect</span><span class="p">(</span><span class="nx">getLocationPart</span><span class="p">(</span><span class="dl">'</span><span class="s1">host</span><span class="dl">'</span><span class="p">)).</span><span class="nx">eql</span><span class="p">(</span><span class="dl">'</span><span class="s1">devexpress.github.io</span><span class="dl">'</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">expect</span><span class="p">(</span><span class="nx">getLocationPart</span><span class="p">(</span><span class="dl">'</span><span class="s1">pathname</span><span class="dl">'</span><span class="p">)).</span><span class="nx">eql</span><span class="p">(</span><span class="dl">'</span><span class="s1">/testcafe/example/</span><span class="dl">'</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><h2><a class="anchor" id="overwrite-client-function-options"></a>Overwrite Client Function Options <a class="permalink" href="#overwrite-client-function-options">#</a></h2>
<p>Overwrite client function options via the ClientFunction&#39;s <a href="../../reference/test-api/clientfunction/with.html">with</a> method.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">const</span> <span class="nx">cfWithDependency</span> <span class="o">=</span> <span class="nx">cfWithoutDependency</span><span class="p">.</span><span class="kd">with</span><span class="p">({</span>
    <span class="na">dependencies</span><span class="p">:</span> <span class="p">{</span> <span class="na">foo</span><span class="p">:</span> <span class="dl">'</span><span class="s1">bar</span><span class="dl">'</span> <span class="p">}</span>
<span class="p">});</span>
</code></pre></div><h2><a class="anchor" id="one-time-client-code-execution"></a>One-Time Client Code Execution <a class="permalink" href="#one-time-client-code-execution">#</a></h2>
<p>To create a client function and execute it immediately (without saving), use the test controller&#39;s <a href="../../reference/test-api/testcontroller/eval.html">eval</a> method.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">fixture</span> <span class="s2">`My fixture`</span>
    <span class="p">.</span><span class="nx">page</span> <span class="s2">`http://www.example.com/`</span><span class="p">;</span>

<span class="nx">test</span><span class="p">(</span><span class="dl">'</span><span class="s1">My Test</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">docURI</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">t</span><span class="p">.</span><span class="nb">eval</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nb">document</span><span class="p">.</span><span class="nx">documentURI</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><h2><a class="anchor" id="import-functions-to-be-used-as-client-function-dependencies"></a>Import Functions to be Used as Client Function Dependencies <a class="permalink" href="#import-functions-to-be-used-as-client-function-dependencies">#</a></h2>
<p>Assume you have a JS file (<code>utils.js</code>) with a function to be used as a client-function dependency in your test file.</p>

<p><strong>utils.js</strong></p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="k">export</span> <span class="kd">function</span> <span class="nx">getDocumentURI</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nb">document</span><span class="p">.</span><span class="nx">documentURI</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>Note that TestCafe processes test files with <a href="https://babeljs.io">Babel</a> internally. To avoid code transpiling issues, use the <a href="https://nodejs.org/api/modules.html#modules_require_id">require</a> function instead of the <code>import</code> statement to import client function dependencies.</p>

<p><strong>test.js</strong></p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="k">import</span> <span class="p">{</span> <span class="nx">ClientFunction</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">testcafe</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">getDocumentURI</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">./utils.js</span><span class="dl">'</span><span class="p">).</span><span class="nx">getDocumentURI</span><span class="p">;</span>

<span class="nx">fixture</span> <span class="s2">`My fixture`</span>
    <span class="p">.</span><span class="nx">page</span> <span class="s2">`http://devexpress.github.io/testcafe/example/`</span><span class="p">;</span>

<span class="nx">test</span><span class="p">(</span><span class="dl">'</span><span class="s1">My test</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">getUri</span> <span class="o">=</span> <span class="nx">ClientFunction</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">getDocumentURI</span><span class="p">();</span>
    <span class="p">},</span> <span class="p">{</span> <span class="na">dependencies</span><span class="p">:</span> <span class="p">{</span> <span class="nx">getDocumentURI</span> <span class="p">}</span> <span class="p">});</span>

    <span class="kd">const</span> <span class="nx">uri</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">getUri</span><span class="p">();</span>

    <span class="k">await</span> <span class="nx">t</span><span class="p">.</span><span class="nx">expect</span><span class="p">(</span><span class="nx">uri</span><span class="p">).</span><span class="nx">eql</span><span class="p">(</span><span class="dl">'</span><span class="s1">http://devexpress.github.io/testcafe/example/</span><span class="dl">'</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><h2><a class="anchor" id="call-client-functions-from-nodejs-callbacks"></a>Call Client Functions from Node.js Callbacks <a class="permalink" href="#call-client-functions-from-nodejs-callbacks">#</a></h2>
<p>Client functions need access to the <a href="../../reference/test-api/testcontroller/">test controller</a> to be executed. When called directly from a test function, they implicitly obtain the test controller.</p>

<p>However, if you need to call a client function from a Node.js callback that fires during a test run,
you need to manually bind this function to the test controller.</p>

<p>You can use the <a href="../../reference/test-api/clientfunction/constructor.html#optionsboundtestrun">boundTestRun</a> option to do this.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="k">import</span> <span class="nx">fs</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">fs</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">ClientFunction</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">testcafe</span><span class="dl">'</span><span class="p">;</span>

<span class="nx">fixture</span> <span class="s2">`My fixture`</span>
    <span class="p">.</span><span class="nx">page</span> <span class="s2">`http://www.example.com/`</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">getDataFromClient</span> <span class="o">=</span> <span class="nx">ClientFunction</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">getSomeData</span><span class="p">());</span>

<span class="nx">test</span><span class="p">(</span><span class="dl">'</span><span class="s1">Check client data</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">boundGetDataFromClient</span> <span class="o">=</span> <span class="nx">getDataFromClient</span><span class="p">.</span><span class="kd">with</span><span class="p">({</span> <span class="na">boundTestRun</span><span class="p">:</span> <span class="nx">t</span> <span class="p">});</span>

    <span class="kd">const</span> <span class="nx">equal</span> <span class="o">=</span> <span class="k">await</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">(</span><span class="nx">resolve</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">fs</span><span class="p">.</span><span class="nx">readFile</span><span class="p">(</span><span class="dl">'</span><span class="s1">/home/user/tests/reference/clientData.json</span><span class="dl">'</span><span class="p">,</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="nx">boundGetDataFromClient</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="nx">clientData</span> <span class="o">=&gt;</span> <span class="p">{</span>
                <span class="nx">resolve</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">clientData</span><span class="p">)</span> <span class="o">===</span> <span class="nx">data</span><span class="p">);</span>
            <span class="p">});</span>
        <span class="p">});</span>
    <span class="p">});</span>

    <span class="k">await</span> <span class="nx">t</span><span class="p">.</span><span class="nx">expect</span><span class="p">(</span><span class="nx">equal</span><span class="p">).</span><span class="nx">ok</span><span class="p">();</span>
<span class="p">});</span>
</code></pre></div>
<p>This approach only works for Node.js callbacks that fire during a test run. To ensure that the test function
does not finish before the callback, suspend the test until the callback fires. You can introduce a promise and synchronously wait for it to complete, as shown in the example above.</p>
<blockquote><div class="blockquote-content"><p>The <code>boundTestRun</code> option requires the same test controller instance that is passed to the function used in the test declaration. It cannot work with imported test controllers.</p>

<p>For more information on imported test controllers, refer to the following section: <a href="../../reference/test-api/testcontroller/#implicit-test-controller-use">Implicit Test Controller Use</a>.</p>
</div></blockquote><h2><a class="anchor" id="client-function-limitations"></a>Client Function Limitations <a class="permalink" href="#client-function-limitations">#</a></h2>
<p>Client function code does not support the following syntax and capabilities:</p>

<ul>
<li><p>Generators or <code>async/await</code> syntax;</p></li>
<li><p>Access to variables defined in outer scope;</p></li>
</ul>
<blockquote><div class="blockquote-content"><p>You can use arguments to pass data within these functions, except for self-invoking functions that do not accept outside parameters.</p>

<p>The return value is the only way to obtain data from client functions.</p>
</div></blockquote>
<ul>
<li><p>Iterable destructuring (e.g., <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax"><code>spread</code></a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Rest_parameters"><code>rest</code></a> operators) on non-array objects (e.g. <code>NodeList</code>, <code>HTMLCollection</code>);</p></li>
<li><p><a href="http://es6-features.org/#PropertyShorthand">Property shorthands</a> in the <code>dependencies</code> option;</p></li>
<li><p>Array methods <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/from"><code>Array.from()</code></a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/of"><code>Array.of()</code></a>;</p></li>
<li><p>Keyed collections: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map"><code>Map</code></a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set"><code>Set</code></a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakMap"><code>WeakMap</code></a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakSet"><code>WeakSet</code></a>;</p></li>
<li><p>Property shorthand for imported values.</p></li>
</ul>
<h2><a class="anchor" id="access-console-messages"></a>Access Console Messages <a class="permalink" href="#access-console-messages">#</a></h2>
<p>The tested web application or a framework it uses may output log, warning, error and information messages into the browser console. TestCafe allows you to access them from test code with the <a href="../../reference/test-api/testcontroller/getbrowserconsolemessages.html">t.getBrowserConsoleMessages</a> method.</p>

<p>For instance, consider the React&#39;s typechecking feature, <a href="https://reactjs.org/docs/typechecking-with-proptypes.html">PropTypes</a>. You can use it to check that you assign valid values to the component&#39;s props. If a <code>PropTypes</code> rule is violated, React posts an error into the JavaScript console.</p>

<p>The following example shows how to check the React prop types for errors with the <a href="../../reference/test-api/testcontroller/getbrowserconsolemessages.html">t.getBrowserConsoleMessages</a> method.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="c1">// check-prop-types.js</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">t</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">testcafe</span><span class="dl">'</span><span class="p">;</span>

<span class="k">export</span> <span class="k">default</span> <span class="k">async</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="p">{</span> <span class="nx">error</span> <span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">t</span><span class="p">.</span><span class="nx">getBrowserConsoleMessages</span><span class="p">();</span>

    <span class="k">await</span> <span class="nx">t</span><span class="p">.</span><span class="nx">expect</span><span class="p">(</span><span class="nx">error</span><span class="p">[</span><span class="mi">0</span><span class="p">]).</span><span class="nx">notOk</span><span class="p">();</span>
<span class="p">}</span>

<span class="c1">// test.js</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Selector</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">testcafe</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">checkPropTypes</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./check-prop-types</span><span class="dl">'</span><span class="p">;</span>

<span class="nx">fixture</span> <span class="s2">`react example`</span>
    <span class="p">.</span><span class="nx">page</span> <span class="s2">`http://localhost:8080/`</span>  <span class="c1">// https://github.com/mzabriskie/react-example</span>
    <span class="p">.</span><span class="nx">afterEach</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">checkPropTypes</span><span class="p">());</span>

<span class="nx">test</span><span class="p">(</span><span class="dl">'</span><span class="s1">test</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">await</span> <span class="nx">t</span>
        <span class="p">.</span><span class="nx">typeText</span><span class="p">(</span><span class="nx">Selector</span><span class="p">(</span><span class="dl">'</span><span class="s1">.form-control</span><span class="dl">'</span><span class="p">),</span> <span class="dl">'</span><span class="s1">devexpress</span><span class="dl">'</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="nx">Selector</span><span class="p">(</span><span class="dl">'</span><span class="s1">button</span><span class="dl">'</span><span class="p">).</span><span class="nx">withText</span><span class="p">(</span><span class="dl">'</span><span class="s1">Go</span><span class="dl">'</span><span class="p">))</span>
        <span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="nx">Selector</span><span class="p">(</span><span class="dl">'</span><span class="s1">h4</span><span class="dl">'</span><span class="p">).</span><span class="nx">withText</span><span class="p">(</span><span class="dl">'</span><span class="s1">Organizations</span><span class="dl">'</span><span class="p">));</span>
<span class="p">});</span>
</code></pre></div><h2><a class="anchor" id="examples"></a>Examples <a class="permalink" href="#examples">#</a></h2><h3><a class="anchor" id="check-a-page-url"></a>Check a Page URL <a class="permalink" href="#check-a-page-url">#</a></h3>
<p>When performing certain actions on a tested web page (clicking buttons or links), it can redirect a browser to another page and you need to check if the desired page is open. For example, you are testing your web application&#39;s login form and need to verify if a particular web page opens after a user logs in.</p>

<p>You can create a client function and use the <a href="https://www.w3schools.com/jsref/prop_loc_href.asp">window.location.href</a> property within it to return the URL of a page that is open on the client and then verify if the actual page URL matches the expected one using an <a href="assert.html">assertion</a>. The sample below demonstrates how to do this.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="k">import</span> <span class="p">{</span> <span class="nx">ClientFunction</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">testcafe</span><span class="dl">'</span><span class="p">;</span>

<span class="nx">fixture</span> <span class="s2">`My Fixture`</span>
    <span class="p">.</span><span class="nx">page</span> <span class="s2">`http://devexpress.github.io/testcafe/example`</span><span class="p">;</span>

<span class="c1">//Returns the URL of the current web page</span>
<span class="kd">const</span> <span class="nx">getPageUrl</span> <span class="o">=</span> <span class="nx">ClientFunction</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span><span class="p">);</span>

<span class="nx">test</span><span class="p">(</span><span class="dl">'</span><span class="s1">Check the page URL</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">await</span> <span class="nx">t</span>
        <span class="p">.</span><span class="nx">typeText</span><span class="p">(</span><span class="dl">'</span><span class="s1">#developer-name</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">John Smith</span><span class="dl">'</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="dl">'</span><span class="s1">#submit-button</span><span class="dl">'</span><span class="p">)</span> <span class="c1">//Redirects to the 'Thank you' page</span>
        <span class="p">.</span><span class="nx">expect</span><span class="p">(</span><span class="nx">getPageUrl</span><span class="p">()).</span><span class="nx">contains</span><span class="p">(</span><span class="dl">'</span><span class="s1">thank-you</span><span class="dl">'</span><span class="p">);</span> <span class="c1">//Checks if the current page URL contains the 'thank-you' string</span>
<span class="p">});</span>
</code></pre></div><h3><a class="anchor" id="obtain-a-browser-alias-within-a-test"></a>Obtain a Browser Alias Within a Test <a class="permalink" href="#obtain-a-browser-alias-within-a-test">#</a></h3>
<p>Sometimes you may need to determine a browser&#39;s alias from within a test. For example, you configured a test tasks using the <a href="../../reference/testcafe-api/testcafe/createrunner.html">testCafe.createRunner</a> function and specified several browsers where the test should run: <code>runner.browsers([&#39;safari&#39;,&#39;chrome&#39;])</code>. However, the test logic should be different for different browsers. To do this, you need to detect which test instance corresponds to <code>safari</code> and which one corresponds to <code>chrome</code>.</p>

<p>To obtain a browser&#39;s alias, create a client function that uses the <a href="https://www.w3schools.com/jsref/prop_nav_useragent.asp">navigator.userAgent</a> property. This function returns the browser&#39;s user-agent header, and you can use external modules (for example, <a href="https://github.com/faisalman/ua-parser-js">ua-parser-js</a>) to parse this header.</p>

<p>The following sample demonstrates how to create a conditional test logic based on the browser. Before running this test, install <em>ua-parser-js</em> by running <code>npm install ua-parser-js</code>.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="k">import</span> <span class="p">{</span> <span class="nx">ClientFunction</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">testcafe</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">uaParser</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">ua-parser-js</span><span class="dl">'</span><span class="p">;</span>

<span class="nx">fixture</span> <span class="s2">`My fixture`</span>
    <span class="p">.</span><span class="nx">page</span> <span class="s2">`http://example.com`</span><span class="p">;</span>

<span class="c1">//Returns a user-agent header sent by the browser</span>
<span class="kd">const</span> <span class="nx">getUA</span> <span class="o">=</span> <span class="nx">ClientFunction</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nb">navigator</span><span class="p">.</span><span class="nx">userAgent</span><span class="p">);</span>

<span class="nx">test</span><span class="p">(</span><span class="dl">'</span><span class="s1">My test</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">ua</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">getUA</span><span class="p">();</span>
    <span class="kd">const</span> <span class="nx">browserAlias</span> <span class="o">=</span><span class="nx">uaParser</span><span class="p">(</span><span class="nx">ua</span><span class="p">).</span><span class="nx">browser</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>

    <span class="c1">//Some common actions</span>

    <span class="c1">//Conditional logic</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">browserAlias</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">Chrome</span><span class="dl">'</span><span class="p">){</span>
        <span class="c1">//Test logic for Chrome</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">The browser is Chrome</span><span class="dl">'</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">browserAlias</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">Safari</span><span class="dl">'</span><span class="p">){</span>
        <span class="c1">//Test logic for Safari</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">The browser is Safari</span><span class="dl">'</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">});</span>
</code></pre></div><h3><a class="anchor" id="complex-dom-queries"></a>Complex DOM Queries <a class="permalink" href="#complex-dom-queries">#</a></h3>
<p>Client functions can be helpful for complex DOM queries. For example, a tested page contains a table with some data, and you need to validate data from two columns only. To do this, obtain data from these columns, push them to an array and then compare the returned array with the expected one.</p>

<p>Below is a sample test for the <a href="https://js.devexpress.com/">https://js.devexpress.com/</a> page that contains a grid. The sample demonstrates how to create a client function that returns an array containing data from the grids <strong>Customer</strong> and <strong>Sale Amount</strong> columns.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="k">import</span> <span class="p">{</span> <span class="nx">ClientFunction</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">testcafe</span><span class="dl">'</span><span class="p">;</span>

<span class="nx">fixture</span> <span class="s2">`Get sale amount`</span>
    <span class="p">.</span><span class="nx">page</span><span class="p">(</span><span class="dl">'</span><span class="s1">https://js.devexpress.com/</span><span class="dl">'</span><span class="p">);</span>

    <span class="kd">const</span> <span class="nx">getSalesAmount</span> <span class="o">=</span> <span class="nx">ClientFunction</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="kd">const</span> <span class="nx">grid</span>      <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="dl">'</span><span class="s1">.dx-datagrid-rowsview</span><span class="dl">'</span><span class="p">);</span>
        <span class="kd">const</span> <span class="nx">rowCount</span>  <span class="o">=</span> <span class="nx">grid</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="dl">'</span><span class="s1">.dx-data-row</span><span class="dl">'</span><span class="p">).</span><span class="nx">length</span><span class="p">;</span>
        <span class="kd">const</span> <span class="nx">sales</span>     <span class="o">=</span> <span class="nx">grid</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="dl">'</span><span class="s1">td:nth-child(3)</span><span class="dl">'</span><span class="p">);</span>
        <span class="kd">const</span> <span class="nx">customers</span> <span class="o">=</span> <span class="nx">grid</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="dl">'</span><span class="s1">td:nth-child(7)</span><span class="dl">'</span><span class="p">);</span>

        <span class="kd">const</span> <span class="nx">array</span> <span class="o">=</span> <span class="p">[];</span>

        <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">rowCount</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">array</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>
                <span class="na">sales</span><span class="p">:</span> <span class="nx">sales</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">textContent</span><span class="p">,</span>
                <span class="na">customer</span><span class="p">:</span> <span class="nx">customers</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">textContent</span>
            <span class="p">});</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="nx">array</span><span class="p">;</span>
    <span class="p">});</span>

<span class="nx">test</span><span class="p">(</span><span class="dl">'</span><span class="s1">My test</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">await</span> <span class="nx">t</span>
        <span class="p">.</span><span class="nx">expect</span><span class="p">(</span><span class="nx">getSalesAmount</span><span class="p">()).</span><span class="nx">eql</span><span class="p">([</span>
            <span class="p">{</span> <span class="na">sales</span><span class="p">:</span> <span class="dl">'</span><span class="s1">$6,370</span><span class="dl">'</span><span class="p">,</span> <span class="na">customer</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Renewable Supplies</span><span class="dl">'</span> <span class="p">},</span>
            <span class="p">{</span> <span class="na">sales</span><span class="p">:</span> <span class="dl">'</span><span class="s1">$4,530</span><span class="dl">'</span><span class="p">,</span> <span class="na">customer</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Apollo Inc</span><span class="dl">'</span> <span class="p">},</span>
            <span class="p">{</span> <span class="na">sales</span><span class="p">:</span> <span class="dl">'</span><span class="s1">$1,110</span><span class="dl">'</span><span class="p">,</span> <span class="na">customer</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Johnson &amp; Assoc</span><span class="dl">'</span> <span class="p">},</span>
            <span class="p">{</span> <span class="na">sales</span><span class="p">:</span> <span class="dl">'</span><span class="s1">$6,600</span><span class="dl">'</span><span class="p">,</span> <span class="na">customer</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Global Services</span><span class="dl">'</span> <span class="p">},</span>
            <span class="p">{</span> <span class="na">sales</span><span class="p">:</span> <span class="dl">'</span><span class="s1">$2,830</span><span class="dl">'</span><span class="p">,</span> <span class="na">customer</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Health Plus Inc</span><span class="dl">'</span> <span class="p">},</span>
            <span class="p">{</span> <span class="na">sales</span><span class="p">:</span> <span class="dl">'</span><span class="s1">$6,770</span><span class="dl">'</span><span class="p">,</span> <span class="na">customer</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Gemini Stores</span><span class="dl">'</span> <span class="p">},</span>
            <span class="p">{</span> <span class="na">sales</span><span class="p">:</span> <span class="dl">'</span><span class="s1">$1,460</span><span class="dl">'</span><span class="p">,</span> <span class="na">customer</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Discovery Systems</span><span class="dl">'</span> <span class="p">}</span>
        <span class="p">]);</span>
<span class="p">});</span>
</code></pre></div>
<p>You can use <a href="select-page-elements.html">TestCafe selectors</a> instead of the native <code>querySelector</code> and <code>querySelectorAll</code> methods. Pass these selectors to the client function&#39;s <a href="../../reference/test-api/clientfunction/constructor.html#optionsdependencies">dependencies</a> option and call them as regular functions. You can use chains of <a href="select-page-elements.html#member-tables">selector methods</a> instead of complex CSS strings for more transparent syntax.</p>


		</div>
	</article>

</main>
</div>

    </div>

    <footer class="site-footer">
    <div class="site-footer-content">
        <div class="footer-links">
            <div class="footer-link-content">
                <div class="link"><a href="/testcafe/documentation/">Docs</a></div>
                <div class="link"><a href="/testcafe/media/team-blog/">Blog</a></div>
                <div class="link"><a href="/testcafe/faq/">FAQ</a></div>
                <div class="link"><a href="/testcafe/support/">Support</a></div>
                <div class="link"><a href="/testcafe/roadmap/">Roadmap</a></div>
                <div class="link"><a href="/testcafe/release-notes/">Release Notes</a></div>
                <div class="link"><a href="https://devexpress.com/products/testcafestudio">TestCafe Studio</a></div>
            </div>
        </div>
        <div class="footer-icons">
            <div class="icon"><a href="https://twitter.com/DXTestCafe"><img src="/testcafe/images/twitter-footer.svg"/></a></div>
            <div class="icon"><a href="https://github.com/DevExpress/testcafe"><img src="/testcafe/images/github-footer.svg"/></a></div>
        </div>
        <div class="footer-legal">
            Use of this site constitutes acceptance of our <a href="https://www.devexpress.com/aboutus/privacy-policy.xml"  target="_blank">Privacy Policy</a><br/>
            Copyright  20122020 Developer Express Inc.</p>
        </div>
    </div>
</footer>


    
<script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
<script type="text/javascript"> var search = docsearch({
     apiKey: '938fb7894c0af8c01af3e2b4c53d4bdd',
     indexName: 'testcafe',
     inputSelector: '#search',
     debug: false // Set debug to true if you want to inspect the dropdown
 });

 search.autocomplete.on('autocomplete:opened', function(e) {
     var searchInput = document.querySelector('#search');
     var dropdown    = document.querySelector('.ds-dropdown-menu');
     
     if(searchInput && dropdown) {
         dropdown.style.maxWidth = "none";
         dropdown.style.width = searchInput.offsetWidth + "px";
     }
 });
</script> 

  </body>

</html>
