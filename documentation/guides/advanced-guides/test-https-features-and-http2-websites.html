<!DOCTYPE html>
<html>

  <head>
  
  
  
  
  
  
  

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <title>Test HTTPS Features and HTTP/2 Websites | TestCafe</title>

  <meta name="description" content="">
  <meta name="viewport" content="width=device-width">

  <meta property="og:image" content="https://raw.githubusercontent.com/DevExpress/testcafe-gh-page-assets/master/src/images/testcafe-ogp-icon.png">
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://devexpress.github.io/testcafe/documentation/guides/advanced-guides/test-https-features-and-http2-websites.html" />
  <meta property="og:title" content="Test HTTPS Features and HTTP/2 Websites | TestCafe" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:image" content="https://raw.githubusercontent.com/DevExpress/testcafe-gh-page-assets/master/src/images/testcafe-twitter-card-icon.png" />
  <meta name="twitter:site" content="@DXTestCafe" />
  
  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.16.2/build/styles/docco.min.css">
  
  
  <link rel="shortcut icon" href="/testcafe/favicon.ico">
  <link rel="stylesheet" href="/testcafe/css/main.css">
  <link rel="stylesheet" href="/testcafe/css/banner.css">
  <link rel="canonical" href="https://devexpress.github.io/testcafe/documentation/guides/advanced-guides/test-https-features-and-http2-websites.html">
  <link rel="alternate" type="application/rss+xml" title="TestCafe" href="https://devexpress.github.io/testcafe/feed.xml">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans">
  <link rel="apple-touch-icon" sizes="180x180" href="/testcafe/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/testcafe/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/testcafe/favicon-16x16.png">
  <link rel="manifest" href="/testcafe/site.webmanifest">
  <meta name="msapplication-TileColor" content="#2d89ef">
  <meta name="msapplication-config" content="/testcafe/browserconfig.xml" />
  <meta name="theme-color" content="#ffffff">
  <script defer src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.16.2/build/highlight.min.js"></script>
  <script defer src="https://buttons.github.io/buttons.js"></script>
  <script defer type="text/javascript" src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-2.2.3.min.js"></script>
  <script src="/testcafe/scripts/mobile-detect.min.js" type="text/javascript"></script>
  <script>
     var md             = new MobileDetect(window.navigator.userAgent);
     var isMobileDevice = !!md.mobile();
  </script>
  <script>
      document.addEventListener('DOMContentLoaded', function (e) {
          hljs.initHighlightingOnLoad();
      });
  </script>

  
  <script>
    // Google Analytics
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-83678642-1', 'auto');
    ga('set', 'anonymizeIp', true);
    ga('send', 'pageview');
  </script>
  

  

  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery.perfect-scrollbar/0.6.12/css/perfect-scrollbar.min.css">
  <link rel="stylesheet" href="/testcafe/css/docs.css">
    
  <style>
      .ps-container > .ps-scrollbar-x-rail,
      .ps-container > .ps-scrollbar-y-rail {
          opacity: 0.6;
      }
  </style>
  

  

  

  

  <script>
    function linkCss (href) {
        var link  = document.createElement('link');
        var html  = document.querySelector('html');
        var head  = document.head;

        link.rel  = 'stylesheet';
        link.type = 'text/css';
        link.href = href;
        link.media = 'all';

        head.appendChild(link);

        window.addEventListener('load', function () {
            html.style.display = 'block';
        });

        html.style.display = 'none';
    }
  </script>
    
    

    <script>
        if (isMobileDevice) {
            linkCss('/testcafe/css/banner.mobile.css');

            document.addEventListener('DOMContentLoaded', function (e) {
                var siteNav         = document.querySelector('.site-nav');
                var hamburgerButton = document.querySelector('.hamburger-button');

                hamburgerButton.addEventListener('click', function (e) {
                    if (hamburgerButton.className.indexOf('active') !== -1) {
                        hamburgerButton.className = hamburgerButton.className.replace(' active', '');
                        siteNav.className = siteNav.className.replace(' active', '');
                        document.documentElement.style.overflowY = 'scroll';
                        document.body.style.overflowY = 'initial';
                    }
                    else {
                        hamburgerButton.className += ' active';
                        siteNav.className += ' active';
                        document.documentElement.style.overflowY = 'hidden';
                        document.body.style.overflowY = 'hidden';
                    }
                });

                var docTopNav          = document.querySelector('.doc-top-nav');
                var docMenuItem        = document.querySelector('.site-nav-tab');
                var mainMenuSecondItem = document.querySelector('.site-nav-tab:nth-child(2)');

                siteNav.insertBefore(docTopNav, mainMenuSecondItem);
                
                var searchPanel = document.getElementById('search-panel');
                
                siteNav.insertBefore(searchPanel, docMenuItem);

                var docMenuItemIcon = document.createElement('div');

                docMenuItemIcon.className = 'doc-menu-item-icon';
                docMenuItem.appendChild(docMenuItemIcon);

                
                    docMenuItem.className += ' expanded';
                    docTopNav.className += ' expanded';
                

                docMenuItem.addEventListener('click', function (e) {
                    if (docTopNav.className.indexOf('expanded') !== -1) {
                        docMenuItem.className = docMenuItem.className.replace(' expanded', '');
                        docTopNav.className = docTopNav.className.replace(' expanded', '');
                    }
                    else {
                        docMenuItem.className += ' expanded';
                        docTopNav.className += ' expanded';
                    }
                    e.preventDefault();
                });
            });

            linkCss('/testcafe/css/mobile.css');
        }
    </script>

  

  

    

  
    <script defer type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery.perfect-scrollbar/0.6.12/js/perfect-scrollbar.min.js"></script>
    <script defer type="text/javascript" src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-2.2.3.min.js"></script>

    <script>
        var MIN_BODY_WIDTH = 1230;
        var FOOTER_HEIGHT  = 225;

        var nav     = null;
        var article = null;

        function getHeaderHeight () {
            return 126;
        }

        function setNavTopPosition () {
            var headerHeight = getHeaderHeight();
            var top          = null;

            if (document.body.clientWidth > MIN_BODY_WIDTH) {
                if (nav.style.top !== headerHeight + 'px') {
                    nav.style.top = headerHeight + 'px';
                    Ps.update(nav);
                }
            }
            else {
                top = window.pageYOffset <= headerHeight ? headerHeight - window.pageYOffset + 'px' : '0';

                if (nav.style.top !== top) {
                    nav.style.top = top;
                    Ps.update(nav);
                }
            }
        }

        function setNavBottomPosition () {
            var footerVisibleHeight = FOOTER_HEIGHT - document.body.scrollHeight + window.pageYOffset +
                                      document.body.clientHeight;

            if (footerVisibleHeight > 0) {
                if (nav.style.bottom !== footerVisibleHeight + 'px') {
                    nav.style.bottom = footerVisibleHeight + 'px';
                    Ps.update(nav);
                }
            }
            else if (nav.style.bottom !== '0') {
                nav.style.bottom = '0';
                Ps.update(nav);
            }
        }

        function updateNavMenuPosition () {
            nav.style.marginLeft = '-' + window.pageXOffset + 'px';

            setNavBottomPosition();
            setNavTopPosition();
        }

        function changeBodyHeight () {
            if (document.body.style.height !== window.innerHeight + 'px')
                document.body.style.height = window.innerHeight + 'px';
        }

        function initScrollBar() {
            Ps.initialize(nav);

            window.addEventListener('resize', function () {
                Ps.update(nav);
            });
        }

        function initNav() {
            initScrollBar();
            updateNavMenuPosition();
            window.addEventListener('scroll', updateNavMenuPosition);
            window.addEventListener('resize', updateNavMenuPosition);
        }

        function scrollToActiveItem() {
            var activeItem = document.querySelector('.doc-nav .active');
            var scrollContainer = document.querySelector('.ps-container');

            if (scrollContainer && activeItem) {
                scrollContainer.scrollTop = activeItem.offsetTop;
            }
        }

        document.addEventListener('DOMContentLoaded', function (e) {
            if (isMobileDevice)
                return;

            nav     = document.querySelector('.doc-nav');
            article = document.querySelector('.doc');

            if (nav)
                initNav(nav);

            scrollToActiveItem();
        });
    </script>
    
    
    <script>
        if (isMobileDevice) {
            linkCss('/testcafe/css/banner.mobile.css');
            linkCss('/testcafe/css/docs.mobile.css');           
            
            if (false == false) {
                document.addEventListener('DOMContentLoaded', function (e) {
                    var docNavPanel = document.querySelector('.doc-nav-panel');
                    var docNav      = document.querySelector('.doc-nav');

                    docNavPanel.addEventListener('click', function (e) {
                        if (docNav.className.indexOf('active') !== -1) {
                            docNav.className = docNav.className.replace(' active', '');
                            document.documentElement.style.overflowY = 'scroll';
                            document.body.style.overflowY = 'initial';
                        }
                        else {
                            docNav.className += ' active';
                            document.documentElement.style.overflowY = 'hidden';
                            document.body.style.overflowY = 'hidden';
                        }
                    });
                });
            }
        }
    </script>
  
    <script>
        function initHeader(siteHeader, contentWrapper, docTopMenu, article, gs) {
            var MIN_BODY_WIDTH = 1230;

            function updateHeader() {
                var CONTENT_MARGIN_WITH_DOC_MENU     = '72px';
                var CONTENT_MARGIN_WITHOUT_DOC_MENU  = '21px';
                var CONTENT_MARGIN_COMMUNITY_DESKTOP = '27px';
                var CONTENT_MARGIN_COMMUNITY_MOBILE  = '48px';

                var bodyMinimized          = document.body.clientWidth === MIN_BODY_WIDTH;
                var docContentMargin       = bodyMinimized ? CONTENT_MARGIN_WITHOUT_DOC_MENU : CONTENT_MARGIN_WITH_DOC_MENU;
                var isCommunitySection     = false;
                var contentMarginCommunity = isMobileDevice ? CONTENT_MARGIN_COMMUNITY_MOBILE : CONTENT_MARGIN_COMMUNITY_DESKTOP;
                var contentMargin          = isCommunitySection ? contentMarginCommunity : docContentMargin;

                

                siteHeader.style.position = bodyMinimized ? 'static' : '';

                if(docTopMenu)
                    docTopMenu.style.position = bodyMinimized ? 'static' : '';

                if(contentWrapper)
                    contentWrapper.style.paddingTop = bodyMinimized ? '0' : '';

                if(article && !isMobileDevice)
                    article.style.marginTop = contentMargin;
                if(gs && !isMobileDevice)
                    gs.style.paddingTop = contentMargin;
            }

            updateHeader();
            window.addEventListener('scroll', updateHeader);
            window.addEventListener('resize', updateHeader);
        }
        document.addEventListener('DOMContentLoaded', function (e) {
            var contentWrapper = document.querySelector('.container');
            var siteHeader     = document.querySelector('.site-header');
            var docTopMenu     = document.querySelector('.doc-top-nav');
            var article        = document.querySelector('.doc');
            var gs             = document.querySelector('.gs');

            if(siteHeader)
                initHeader(siteHeader, contentWrapper, docTopMenu, article, gs);
        });
    </script>
</head>


  <body>

    <script defer src="/testcafe/scripts/cookie-notice.js" type="text/javascript"></script>
<div class="cookie-notice">
    <div class="close-icon"></div>
    <div class="cookie-notice-content">
        <div class="cookie-notice-message">
            <div class="cookie-notice-header">Why We Use Cookies</div>
            <div class="cookie-notice-text">This site uses cookies to make your browsing experience more convenient and personal. Cookies store useful information on your computer to help us improve the efficiency and relevance of our site for you. In some cases, they are essential to making the site work properly. By accessing this site, you consent to the use of cookies. For more information, refer to DevExpress' <a href="https://www.devexpress.com/AboutUs/privacy-policy.xml" target="_blank">privacy policy</a> and <a href="https://www.devexpress.com/AboutUs/cookie-policy.xml" target="_blank">cookie policy</a>.</div>
        </div>
        <div class="cookie-notice-button">I understand</div>
    </div>
</div>

    <div class="page-content-wrapper">

      

<script>
    var TEAM_BLOG_LAST_VISITED_FLAG = 'team-blog-last-visited';
    var TEAM_BLOG_LINK_ID           = 'blog-link';
    var TEAM_BLOG_LINK_NEW_CLASS    = 'new-post';
    var NOTIFICATIONS_ACTIVE_SINCE  = new Date(2020, 4, 21)

    var teamBlogLastVisited = window.localStorage.getItem(TEAM_BLOG_LAST_VISITED_FLAG) || NOTIFICATIONS_ACTIVE_SINCE;

    window.addEventListener('DOMContentLoaded', function (e) {
        var lastPostDate = new Date(1608670800 * 1000);
        
        if(lastPostDate > teamBlogLastVisited) {
            var blogLink = document.getElementById(TEAM_BLOG_LINK_ID).parentElement;
            
            if(blogLink)
                blogLink.className += ` ${TEAM_BLOG_LINK_NEW_CLASS}`;
        }
    });
</script>
<header class="site-header fixed">
  <div class="site-header-content">
    <a class="site-logo" href="/testcafe/"></a>
    <div class="hamburger-button">
        <div class="hamburger-icon"></div>
    </div>
    <nav class="site-nav">
      
        
        <div class="site-nav-tab active">
          <a class="page-link" href="/testcafe/documentation/getting-started/"><span>Docs</span></a>
        </div>
      
        
        <div class="site-nav-tab" id="blog-link-tab">
          <a class="page-link" id="blog-link" href="/testcafe/media/team-blog/"><span>Blog</span></a>
        </div>
      
        
        <div class="site-nav-tab">
          <a class="page-link" href="/testcafe/faq/"><span>FAQ</span></a>
        </div>
      
        
        <div class="site-nav-tab">
          <a class="page-link" href="/testcafe/support/"><span>Support</span></a>
        </div>
      
        
        <div class="site-nav-tab">
          <a class="page-link" href="/testcafe/release-notes/"><span>Release Notes</span></a>
        </div>
      
        
        <div class="site-nav-tab" id="studio-link-tab">
          <a class="page-link" id="studio-link" href="https://www.devexpress.com/products/testcafestudio/" target="_blank"><span>TestCafe Studio</span></a>
        </div>
      
    </nav>
    <div class="site-header-buttons">
      <a id="twitter-button" href="https://twitter.com/dxtestcafe" target="_blank"></a>
      <div id="search-icon"></div>
      <div class="star-button">
        <a class="github-button" href="https://github.com/DevExpress/testcafe" data-size="large" data-count-href="/DevExpress/testcafe/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star DevExpress/testcafe on GitHub"><span style="color:#ffffff">Star</span></a>
      </div>
      <div id="search-panel" class="hidden">
          <input type="text" placeholder="Search documentation" id="search"/>
          <div id="close-search"></div>
      </div>
    </div>
  </div>
</header>

<script>
  function has(parentEl, el)  {
    var descendants = parentEl.getElementsByTagName('*');
    
    for(i = 0; i < descendants.length; i++) 
        if(descendants[i] === el) return true;

    return false;
  }

  function clickOutsideBox(e, box) {
      return box !== e.target && !has(box, e.target);
  }  

  function closeSearchBox(e) {
      if(clickOutsideBox(e, searchPanel) && searchPanel.className.indexOf('hidden') === -1) 
          searchPanel.className += ' hidden';
  }

  var searchButton      = document.getElementById('search-icon');
  var searchPanel       = document.getElementById('search-panel');
  var searchInput       = document.getElementById('search');
  var closeSearchButton = document.getElementById('close-search');

  searchButton.addEventListener('click', function () {
      searchPanel.className = searchPanel.className.replace(/hidden/,'');
      searchInput.focus();      
  });
  
  closeSearchButton.addEventListener('click', function () {
      searchPanel.className += ' hidden';
  });

  window.addEventListener('mousedown', closeSearchBox);        
  window.addEventListener('touchstart', closeSearchBox);

  if (window.isMobileDevice) {
      function closeHamburgerMenuBox(e) {
          if(clickOutsideBox(e, hamburgerMenu) && clickOutsideBox(e, hamburgerButton) && hamburgerMenu.className.indexOf('active') !== -1) {
              hamburgerMenu.className = hamburgerMenu.className.replace(' active', '');
              hamburgerButton.className = hamburgerButton.className.replace(' active', '');
              document.documentElement.style.overflowY = 'scroll';
              document.body.style.overflowY = 'initial';
          }
      }

      var hamburgerMenu = document.querySelector('.site-nav');
      var hamburgerButton = document.querySelector('.hamburger-button');

      window.addEventListener('mousedown', closeHamburgerMenuBox);        
      window.addEventListener('touchstart', closeHamburgerMenuBox);

      window.addEventListener('DOMContentLoaded', function (e) {
          var docNav = document.querySelector('.doc-nav');

          if(docNav) {
              function closeDocNav() {
                  docNav.className = docNav.className.replace(' active', '');
                  document.documentElement.style.overflowY = 'scroll';
                  document.body.style.overflowY = 'initial';
              }

              function clickWithDocNavInvoked(e) {
                  if(clickOutsideBox(e, docNav) && clickOutsideBox(e, docNavPanel) && docNav.className.indexOf('active') !== -1) 
                      closeDocNav();
              }

              var docNavPanel = document.querySelector('.doc-nav-panel');

              window.addEventListener('mousedown', clickWithDocNavInvoked);        
              window.addEventListener('touchstart', clickWithDocNavInvoked);

              var docNavLinks = document.querySelectorAll('.doc-nav a');

              docNavLinks.forEach(function (link) {
                  link.addEventListener('click', closeDocNav);
              });
          }
      });
  }
</script>

<script>
  var studioLink = document.getElementById('studio-link');

  studioLink.addEventListener('click', function () {
      ga('send', 'event', 'topMenu', 'studioLinkClicked');
  });
</script>

<div class="doc-top-nav">
  <div class="doc-top-nav-content">
    <div class="doc-top-nav-wrapper">
      
        <div class="doc-top-nav-tab " >
          <a href="/testcafe/documentation/getting-started/">Getting Started</a>
        </div>
      
        <div class="doc-top-nav-tab active" >
          <a href="/testcafe/documentation/guides/">Guides</a>
        </div>
      
        <div class="doc-top-nav-tab " >
          <a href="/testcafe/documentation/reference/">Reference</a>
        </div>
      
        <div class="doc-top-nav-tab " >
          <a href="/testcafe/documentation/recipes/">Recipes</a>
        </div>
      
        <div class="doc-top-nav-tab " >
          <a href="/testcafe/documentation/how-it-works/">How It Works</a>
        </div>
      
        <div class="doc-top-nav-tab " >
          <a href="/testcafe/documentation/examples/">Examples</a>
        </div>
      
    </div>
  </div>
</div>


      <div class="container">
    

	
	

	
	
	<div class="doc-nav-panel">
		<div class="toggle-nav-button"></div>
		<div class="doc-nav-panel-header">
			<div class="doc-nav-panel-heading">Documentation</div>
			<div class="doc-nav-panel-title">Guides</div>
		</div>
	</div>
	<nav class="doc-nav">	
		<div class="doc-nav-content">
			<ul>
				<li>
				<ul>

    <li>
		    
		

<span>Basic Guides</span>

		
			<ul>

    <li>
		    
		

<a href="/testcafe/documentation/guides/basic-guides/install-testcafe.html"  >Install TestCafe</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/basic-guides/organize-tests.html"  >Organize Tests</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/basic-guides/select-page-elements.html"  >Select Page Elements</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/basic-guides/interact-with-the-page.html"  >Interact with the Page</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/basic-guides/assert.html"  >Assert</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/basic-guides/obtain-client-side-info.html"  >Obtain Client-Side Info</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/basic-guides/run-tests.html"  >Run Tests</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/basic-guides/debug.html"  >Debug</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/basic-guides/best-practices.html"  >Best Practices</a>

		
    </li>

</ul>
		
    </li>

    <li>
		    
		

<span>Advanced Guides</span>

		
			<ul>

    <li>
		    
		

<a href="/testcafe/documentation/guides/advanced-guides/authentication.html"  >Authentication</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/advanced-guides/screenshots-and-videos.html"  >Screenshots and Videos</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/advanced-guides/intercept-http-requests.html"  >Intercept HTTP Requests</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/advanced-guides/inject-client-scripts.html"  >Inject Client Scripts</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/advanced-guides/test-https-features-and-http2-websites.html" class="active" >Test HTTPS Features and HTTP/2 Websites</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/advanced-guides/detect-the-client-browser-and-platform.html"  >Detect the Client Browser and Platform</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/advanced-guides/use-testcafe-docker-image.html"  >Use TestCafe Docker Image</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/advanced-guides/multiple-browser-windows.html"  >Multiple Browser Windows</a>

		
    </li>

</ul>
		
    </li>

    <li>
		    
		

<span>Concepts</span>

		
			<ul>

    <li>
		    
		

<a href="/testcafe/documentation/guides/concepts/browsers.html"  >Browsers</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/concepts/reporters.html"  >Reporters</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/concepts/page-model.html"  >Page Model</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/concepts/typescript-and-coffeescript.html"  >TypeScript and CoffeeScript</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/concepts/built-in-wait-mechanisms.html"  >Built-in Wait Mechanisms</a>

		
    </li>

</ul>
		
    </li>

    <li>
		    
		

<span>Continuous Integration</span>

		
			<ul>

    <li>
		    
		

<a href="/testcafe/documentation/guides/continuous-integration/appveyor.html"  >AppVeyor</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/continuous-integration/azure-devops.html"  >Azure DevOps</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/continuous-integration/bitbucket-pipelines.html"  >Bitbucket Pipelines</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/continuous-integration/circleci.html"  >CircleCI</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/continuous-integration/circleci-and-lambdatest.html"  >CircleCI + LambdaTest</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/continuous-integration/github-actions.html"  >GitHub Actions</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/continuous-integration/github-actions-and-browserstack.html"  >GitHub Actions + BrowserStack</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/continuous-integration/gitlab.html"  >GitLab</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/continuous-integration/jenkins.html"  >Jenkins</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/continuous-integration/teamcity.html"  >TeamCity</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/continuous-integration/travis.html"  >Travis</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/continuous-integration/travis-and-sauce-labs.html"  >Travis + Sauce Labs</a>

		
    </li>

</ul>
		
    </li>

    <li>
		    
		

<span>Extend TestCafe</span>

		
			<ul>

    <li>
		    
		

<a href="/testcafe/documentation/guides/extend-testcafe/install-plugins.html"  >Install Plugins</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/extend-testcafe/reporter-plugin.html"  >Reporter Plugin</a>

		
    </li>

    <li>
		    
		

<a href="/testcafe/documentation/guides/extend-testcafe/browser-provider-plugin.html"  >Browser Provider Plugin</a>

		
    </li>

</ul>
		
    </li>

</ul>
				</li>
			</ul>
		</div>
	</nav>
	

	
	

	
	
	


<main>
	<article class="doc">
		<div class="post-content">

			<h1>Test HTTPS Features and HTTP/2 Websites</h1>
<p>This topic describes how TestCafe executes tests on HTTPS and HTTP/2 websites.</p>

<ul>
<li><a href="#test-https-websites">Test HTTPS Websites</a>

<ul>
<li><a href="#use-a-trusted-certificate">Use a Trusted Certificate</a></li>
<li><a href="#use-a-self-signed-certificate">Use a Self-Signed Certificate</a></li>
</ul></li>
<li><a href="#test-http2-websites">Test HTTP/2 Websites</a></li>
</ul>
<h2><a class="anchor" id="test-https-websites"></a>Test HTTPS Websites <a class="permalink" href="#test-https-websites">#</a></h2>
<p>TestCafe is a proxy-based testing tool. The TestCafe <a href="https://en.wikipedia.org/wiki/Reverse_proxy">reverse proxy</a> serves the tested webpage over HTTP and communicates with the original web server over HTTP or HTTPS (depending on the <a href="../../reference/test-api/fixture/page.html">specified page URL</a>).</p>

<p><img src="../../../images/proxy-connection-protocols.svg" alt="Connection Protocols" title=""></p>

<p>If the tested page does not use HTTPS-specific features (like
<a href="https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API">Service Workers</a>,
<a href="https://developer.mozilla.org/en-US/docs/Web/API/Geolocation_API">Geolocation API</a>,
<a href="https://developer.apple.com/documentation/apple_pay_on_the_web/applepaysession">ApplePaySession</a>, or
<a href="https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto">SubtleCrypto</a>), TestCafe can proxy it over HTTP. Otherwise, the tests fail because the page throws JavaScript errors, does not load or loads partially.</p>

<p>To establish a secure HTTPS-connection, Node.js requires a valid <a href="https://en.wikipedia.org/wiki/PKCS_12">PKCS12</a> certificate (<code>.pfx</code>). We recommend that you <a href="#use-a-trusted-certificate">use a certificate signed by a trusted authority</a>. This allows a browser to open the tested page without workarounds. You can also <a href="#use-a-self-signed-certificate">generate and use a self-signed certificate</a>.</p>
<blockquote><div class="blockquote-content"><p>Before you use HTTPS, launch testcafe with <a href="../../reference/command-line-interface.html#--hostname-name"><code>--hostname localhost</code> CLI parameter</a> or <a href="../../reference/configuration-file.html#hostname"><code>hostname: localhost</code> configuration option</a>. Most modern browsers treat localhost as a secure origin, and some built-in browser features that require a secure origin (Service workers, GeoAPI) should work. Third-party JS features like ApplePaySession may not work depending on implementation.</p>
</div></blockquote><h3><a class="anchor" id="use-a-trusted-certificate"></a>Use a Trusted Certificate <a class="permalink" href="#use-a-trusted-certificate">#</a></h3>
<p>To provide a certificate when you launch TestCafe with <a href="../../reference/command-line-interface.html">CLI</a>, use <a href="../../reference/command-line-interface.html#--ssl-options"><code>-ssl</code></a> option:</p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh">testcafe chrome  test.js <span class="nt">--ssl</span> <span class="nv">pfx</span><span class="o">=</span>path/to/trusted/certificate.pfx<span class="p">;</span><span class="nv">rejectUnauthorized</span><span class="o">=</span><span class="nb">true</span><span class="p">;</span>
</code></pre></div><h3><a class="anchor" id="use-a-self-signed-certificate"></a>Use a Self-Signed Certificate <a class="permalink" href="#use-a-self-signed-certificate">#</a></h3>
<p><a href="#generate-a-certificate-from-the-command-line">Generate a self-signed certificate with <code>openssl</code></a> if you launch tests from the command line. To <a href="#generate-a-certificate-in-your-code">generate a certificate in code</a>, use the <code>openssl-self-signed-certificate</code> module.</p>
<h4><a class="anchor" id="generate-a-certificate-from-the-command-line"></a>Generate a Certificate From the Command Line <a class="permalink" href="#generate-a-certificate-from-the-command-line">#</a></h4>
<p>In <strong>bash</strong>, you can use <a href="https://www.openssl.org/docs/man1.1.1/man1/openssl-req.html">OpenSSL</a> to generate a certificate chain.</p>

<ol>
<li><p>Issue your own CA certificate and a CA-signed certificate for the web server:</p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh">openssl genrsa <span class="nt">-des3</span> <span class="nt">-out</span> myCA.key 2048
</code></pre></div>
<p>You will be prompted for a non-empty passphrase. Take note of it.  </p></li>
<li><p>Generate a root certificate:</p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh">openssl req <span class="nt">-x509</span> <span class="nt">-new</span> <span class="nt">-nodes</span> <span class="nt">-key</span> myCA.key <span class="nt">-sha256</span> <span class="nt">-days</span> 1825 <span class="nt">-out</span> myCA.pem
</code></pre></div>
<p>You will be prompted for additional information, press Enter to skip the questions.</p></li>
<li><p>Create a CA-signed domain certificate and a <code>.csr</code> sign request:</p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh">openssl genrsa <span class="nt">-out</span> testingdomain.key 2048
openssl req <span class="nt">-new</span> <span class="nt">-key</span> testingdomain.key <span class="nt">-out</span> testingdomain.csr
</code></pre></div>
<p>You can press Enter to skip the questions, but set a recognizable CN (Common Name) so that you can easily find this certificate in a list of others later.  </p></li>
<li><p>Create a config file <code>testdomain.ext</code> with the following content:</p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="nv">authorityKeyIdentifier</span><span class="o">=</span>keyid,issuer
<span class="nv">basicConstraints</span><span class="o">=</span>CA:FALSE
keyUsage <span class="o">=</span> digitalSignature, nonRepudiation, keyEncipherment, dataEncipherment
subjectAltName <span class="o">=</span> @alt_names

<span class="o">[</span>alt_names]
DNS.1 <span class="o">=</span> localhost
</code></pre></div></li>
<li><p>Now create the certificate from the <code>.csr</code> request, the CA private key (<code>myCA.key</code>), the CA certificate (<code>myCA.pem</code>), and a config file(<code>testdomain.ext</code>):</p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh">openssl x509 <span class="nt">-req</span> <span class="nt">-in</span> testingdomain.csr <span class="nt">-CA</span> myCA.pem <span class="nt">-CAkey</span> myCA.key <span class="nt">-CAcreateserial</span> <span class="nt">-out</span> testingdomain.crt <span class="nt">-days</span> 825 <span class="nt">-sha256</span> <span class="nt">-extfile</span> testdomain.ext
</code></pre></div></li>
<li><p>Finally, export the certificate to PKCS#12 <code>.pfx</code> format:</p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh">openssl pkcs12 <span class="nt">-export</span> <span class="nt">-out</span> testingdomain.pfx <span class="nt">-inkey</span> testingdomain.key <span class="nt">-in</span> testingdomain.crt <span class="nt">-certfile</span> myCA.pem
</code></pre></div></li>
</ol>

<p>In <strong>PowerShell</strong>, <a href="https://adamtheautomator.com/install-openssl-powershell/#Installing_OpenSSL_with_PowerShell_and_Chocolatey">install OpenSSL</a> and <a href="https://adamtheautomator.com/install-openssl-powershell/#Update_PowerShell_Profile_Environment_Variables">update environment variables</a>. Afterwards, proceed with the instructions <a href="#generate-a-certificate-from-the-command-line">above</a>.</p>
<h5><a class="anchor" id="run-tests"></a>Run Tests <a class="permalink" href="#run-tests">#</a></h5>
<p>When you run tests from the command line, use <a href="../../reference/command-line-interface.html#--ssl-options">--ssl</a> flag to enable HTTPS on a proxy server. Specify options required to initialize <a href="https://nodejs.org/api/https.html#https_https_createserver_options_requestlistener">a Node.js HTTPS server</a> after this flag in a semicolon-separated string. The most commonly used SSL options are described in the <a href="https://nodejs.org/api/tls.html#tls_tls_createsecurecontext_options">TLS topic</a> in the Node.js documentation.</p>

<p>The examples below use a previously generated <code>.pfx</code> file to establish an HTTPS server.</p>

<p>In <strong><em>Chrome</em></strong> and <strong><em>Chromium-Based</em></strong> Browsers, use the <code>--allow-insecure-localhost</code> flag and <a href="../../reference/command-line-interface.html#--hostname-name"><code>--hostname</code></a> CLI parameter to make Chrome trust the certificate when tests are run on localhost. If you use a different URL, use the <code>--ignore-certificate-errors</code> flag.</p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh">testcafe chrome <span class="nt">--allow-insecure-localhost</span> <span class="nt">--hostname</span> localhost test.js <span class="nt">--ssl</span> <span class="nv">pfx</span><span class="o">=</span>path/to/certificate.pfx<span class="p">;</span><span class="nv">rejectUnauthorized</span><span class="o">=</span><span class="nb">true</span><span class="p">;</span>
</code></pre></div>
<p>In <strong><em>Firefox</em></strong>, add your self-signed root authority to the trusted list. Follow the steps:</p>

<ol>
<li><a href="https://support.mozilla.org/en-US/kb/profile-manager-create-remove-switch-firefox-profiles#w_creating-a-profile">Create a new profile</a> in Firefox settings;</li>
<li><a href="https://support.mozilla.org/en-US/kb/profile-manager-create-remove-switch-firefox-profiles#w_manage-profiles-when-firefox-is-open">Run Firefox with this profile</a> and <a href="https://support.mozilla.org/en-US/questions/1059377">import the CA certificate</a> (<code>myCA.pem</code>) you generated previously. Ensure the <strong>This certificate can identify websites</strong> checkbox is checked;</li>
<li>Load this new profile when TestCafe launches Firefox. To do this, add <code>-P &lt;profile_name&gt;</code> to the browser&#39;s command line arguments.</li>
</ol>
<div class="highlight"><pre><code class="language-sh" data-lang="sh">testcafe <span class="s1">'firefox -P testing-profile'</span> <span class="nt">--hostname</span> localhost assertTest.js <span class="nt">--ssl</span> <span class="nv">pfx</span><span class="o">=</span>certificate.pfx<span class="p">;</span><span class="nv">rejectUnauthorized</span><span class="o">=</span><span class="nb">true</span><span class="p">;</span>
</code></pre></div><blockquote><div class="blockquote-content"><p>The certificate created in the example is valid only for localhost domain. This is why the <code>--hostname</code> option is used. If you want to use another domain for testing, enter it in the <code>[alt_names]</code> section of <code>testdomain.ext</code> configuration file before creating the certificate.  </p>
</div></blockquote>
<!---->
<blockquote class="important"><div class="blockquote-content"><p>For security reasons, only use this profile for testing purposes.</p>
</div></blockquote><h4><a class="anchor" id="generate-a-certificate-in-your-code"></a>Generate a Certificate in Your Code <a class="permalink" href="#generate-a-certificate-in-your-code">#</a></h4>
<p>When you use the programming interface, generate a certificate with the <a href="https://www.npmjs.com/package/openssl-self-signed-certificate">openssl-self-signed-certificate</a> module and pass the HTTPS server options to the <a href="../../reference/testcafe-api/global/createtestcafe.html">createTestCafe</a> function.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">const</span> <span class="nx">createTestCafe</span>        <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">testcafe</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">selfSignedSertificate</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">openssl-self-signed-certificate</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">sslOptions</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">key</span><span class="p">:</span>  <span class="nx">selfSignedSertificate</span><span class="p">.</span><span class="nx">key</span><span class="p">,</span>
    <span class="na">cert</span><span class="p">:</span> <span class="nx">selfSignedSertificate</span><span class="p">.</span><span class="nx">cert</span>
<span class="p">};</span>

<span class="kd">const</span> <span class="nx">testcafe</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">createTestCafe</span><span class="p">(</span><span class="dl">'</span><span class="s1">localhost</span><span class="dl">'</span><span class="p">,</span> <span class="mi">1337</span><span class="p">,</span> <span class="mi">1338</span><span class="p">,</span> <span class="nx">sslOptions</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">runner</span>   <span class="o">=</span> <span class="nx">testcafe</span><span class="p">.</span><span class="nx">createRunner</span><span class="p">();</span>

<span class="k">await</span> <span class="nx">runner</span>
    <span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="dl">'</span><span class="s1">test.js</span><span class="dl">'</span><span class="p">)</span>

    <span class="c1">// Browsers restrict self-signed certificate usage unless you</span>
    <span class="c1">// explicitly set a flag specific to each browser.</span>
    <span class="c1">// For Chrome, this is '--allow-insecure-localhost'.</span>
    <span class="p">.</span><span class="nx">browsers</span><span class="p">(</span><span class="dl">'</span><span class="s1">chrome --allow-insecure-localhost</span><span class="dl">'</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">run</span><span class="p">();</span>

<span class="k">await</span> <span class="nx">testcafe</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
</code></pre></div><h2><a class="anchor" id="test-http2-websites"></a>Test HTTP/2 Websites <a class="permalink" href="#test-http2-websites">#</a></h2>
<p>TestCafe can test an HTTP/2 website only if the server can downgrade the connection to HTTPS or HTTP/1. See <a href="https://nodejs.org/api/http2.html#http2_alpn_negotiation">ALPN negotiation</a> for details.</p>


		</div>
	</article>

</main>
</div>

    </div>

    <footer class="site-footer">
    <div class="site-footer-content">
        <div class="footer-links">
            <div class="footer-link-content">
                <div class="link"><a href="/testcafe/documentation/">Docs</a></div>
                <div class="link"><a href="/testcafe/media/team-blog/">Blog</a></div>
                <div class="link"><a href="/testcafe/faq/">FAQ</a></div>
                <div class="link"><a href="/testcafe/support/">Support</a></div>
                <div class="link"><a href="/testcafe/roadmap/">Roadmap</a></div>
                <div class="link"><a href="/testcafe/release-notes/">Release Notes</a></div>
                <div class="link"><a href="https://devexpress.com/products/testcafestudio">TestCafe Studio</a></div>
            </div>
        </div>
        <div class="footer-icons">
            <div class="icon"><a href="https://twitter.com/DXTestCafe"><img src="/testcafe/images/twitter-footer.svg"/></a></div>
            <div class="icon"><a href="https://github.com/DevExpress/testcafe"><img src="/testcafe/images/github-footer.svg"/></a></div>
        </div>
        <div class="footer-legal">
            Use of this site constitutes acceptance of our <a href="https://www.devexpress.com/aboutus/privacy-policy.xml"  target="_blank">Privacy Policy</a><br/>
            Copyright © 2012–2020 Developer Express Inc.</p>
        </div>
    </div>
</footer>


    
<script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
<script type="text/javascript"> var search = docsearch({
     apiKey: '938fb7894c0af8c01af3e2b4c53d4bdd',
     indexName: 'testcafe',
     inputSelector: '#search',
     debug: false // Set debug to true if you want to inspect the dropdown
 });

 search.autocomplete.on('autocomplete:opened', function(e) {
     var searchInput = document.querySelector('#search');
     var dropdown    = document.querySelector('.ds-dropdown-menu');
     
     if(searchInput && dropdown) {
         dropdown.style.maxWidth = "none";
         dropdown.style.width = searchInput.offsetWidth + "px";
     }
 });
</script> 

  </body>

</html>
