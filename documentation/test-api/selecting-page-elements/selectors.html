<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <title>Selectors | TestCafe</title>

  <meta name="description" content="">
  <meta name="viewport" content="width=device-width">
  
  <meta property="og:image" content="https://raw.githubusercontent.com/DevExpress/testcafe-gh-page-assets/master/src/images/testcafe-ogp-icon.png">
  <meta property="og:type" content="website" />
  <meta property="og:url" content="http://devexpress.github.io/testcafe/documentation/test-api/selecting-page-elements/selectors.html" />
  <meta property="og:title" content="Selectors | TestCafe" />

  <link rel="shortcut icon" href="/testcafe/favicon.ico">
  <link rel="stylesheet" href="/testcafe/css/main.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.0.0/styles/docco.min.css">
  <link rel="canonical" href="http://devexpress.github.io/testcafe/documentation/test-api/selecting-page-elements/selectors.html">
  <link rel="alternate" type="application/rss+xml" title="TestCafe" href="http://devexpress.github.io/testcafe/feed.xml">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.0.0/highlight.min.js"></script>
  <script defer src="https://buttons.github.io/buttons.js"></script>
  <script>
      document.addEventListener('DOMContentLoaded', function (e) {
          hljs.initHighlightingOnLoad();
      });
  </script>

  
  <script>
    // Google Analytics
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-83678642-1', 'auto');
    ga('send', 'pageview');
  </script>
  

  
  
  

  <script>
    (function () {
        var VISIT_DAY = {
            first: 1,
            second: 2,
            more: 3
        };

        var isLandingPage = false;
        var isGettingStarted = false;
        var isDocumentation = true;

        function updateVisitDay () {
            var FIRST_VISIT_DAY_ITEM_NAME = 'first-visit-day';
            var SECOND_VISIT_DAY_ITEM_NAME = 'second-visit-day';
            var DIFFERENT_VISITS_DELAY = 12 * 60 * 60 * 1000; 
            
            // TODO: ignore old visits
            var now = Date.now();
            var firstVisit = window.localStorage.getItem(FIRST_VISIT_DAY_ITEM_NAME);
            var secondVisit = window.localStorage.getItem(SECOND_VISIT_DAY_ITEM_NAME);

            if(!firstVisit) {
                window.localStorage.setItem(FIRST_VISIT_DAY_ITEM_NAME, now);
                return VISIT_DAY.first;
            }

            firstVisit = parseInt(firstVisit);

            if(!secondVisit) {
                if(!isLandingPage && now - firstVisit >=DIFFERENT_VISITS_DELAY) {
                    window.localStorage.setItem(SECOND_VISIT_DAY_ITEM_NAME, now);
                    return VISIT_DAY.second;
                }

                return VISIT_DAY.first;
            }
            
            secondVisit = parseInt(secondVisit);

            return now - secondVisit >= DIFFERENT_VISITS_DELAY ? VISIT_DAY.more : VISIT_DAY.second;
        }

        window.needShowShareWidget = function () {
            if(!isDocumentation || isGettingStarted)
                return false;

            var visitDay = updateVisitDay();

            return visitDay === VISIT_DAY.more;
        };
    })();
  </script>

  

  
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery.perfect-scrollbar/0.6.12/css/perfect-scrollbar.min.css">
    <style>
        .ps-container > .ps-scrollbar-x-rail,
        .ps-container > .ps-scrollbar-y-rail {
            opacity: 0.6;
        }
    </style>
    <script defer type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery.perfect-scrollbar/0.6.12/js/perfect-scrollbar.min.js"></script>
    <script defer type="text/javascript" src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-2.2.3.min.js"></script>
    <script defer src="/testcafe/scripts/widget.js" type="text/javascript"></script>
    <script src="/testcafe/scripts/mobile-detect.min.js" type="text/javascript"></script>

    <script>
        var MIN_BODY_WIDTH = 1230;
        var FOOTER_HEIGHT  = 113;
        var HEADER_HEIGHT  = 126;

        var nav            = null;
        var article        = null;
        var md             = new MobileDetect(window.navigator.userAgent);
        var isMobileDevice = !!md.mobile();

        function setNavTopPosition () {
            var isMobileZoomed = isMobileDevice && window.innerWidth !== document.body.scrollWidth;
            var top            = null;

            if(isMobileDevice) {
                top = window.pageYOffset >= HEADER_HEIGHT ? window.pageYOffset - HEADER_HEIGHT + 'px' : '0';

                if (nav.style.paddingTop !== top) {
                    nav.style.paddingTop = top;
                    Ps.update(nav);
                }

                return;
            }

            if (document.body.clientWidth > MIN_BODY_WIDTH) {
                if (nav.style.top !== HEADER_HEIGHT + 'px') {
                    nav.style.top = HEADER_HEIGHT + 'px';
                    Ps.update(nav);
                }
            }
            else if(!isMobileZoomed) {
                top = window.pageYOffset <= HEADER_HEIGHT ? HEADER_HEIGHT - window.pageYOffset + 'px' : '0';

                if (nav.style.top !== top) {
                    nav.style.top = top;
                    Ps.update(nav);
                }
            }
        }

        function setNavBottomPosition () {
            var footerVisibleHeight = FOOTER_HEIGHT - document.body.scrollHeight + window.pageYOffset +
                                      document.body.clientHeight;

            if (footerVisibleHeight > 0) {
                if (nav.style.bottom !== footerVisibleHeight + 'px') {
                    nav.style.bottom = footerVisibleHeight + 'px';
                    Ps.update(nav);
                }
            }
            else if (nav.style.bottom !== '0') {
                nav.style.bottom = '0';
                Ps.update(nav);
            }
        }

        function updatePosition () {
            if (isMobileDevice)
                changeBodyHeight();
            else
                nav.style.marginLeft = '-' + window.pageXOffset + 'px';

            setNavBottomPosition();
            setNavTopPosition();
        }

        function changeBodyHeight () {
            if (document.body.style.height !== window.innerHeight + 'px')
                document.body.style.height = window.innerHeight + 'px';
        }

        function initScrollBar() {
            Ps.initialize(nav);

            window.addEventListener('resize', function () {
                Ps.update(nav);
            });
        }

        function initNav() {
            if(isMobileDevice) {
                nav.style.position = 'relative';
                nav.style.float = 'left';
                nav.style.top = '0px';

                article.style.marginTop = '0px';
                article.style.paddingTop = '22px';
            }

            initScrollBar();
            updatePosition();
            window.addEventListener('scroll', updatePosition);
            window.addEventListener('resize', updatePosition);

            if(isMobileDevice) {
                nav.style.height = window.innerHeight + 'px';
            }
        }

        document.addEventListener('DOMContentLoaded', function (e) {
            nav     = document.querySelector('.doc-nav');
            article = document.querySelector('.doc');

            if(nav)
                initNav(nav);
        });
    </script>
  
    <script>
        function initHeader(siteHeader, contentWrapper, docTopMenu, article, gs) {
            var MIN_BODY_WIDTH = 1230;

            function updateHeader() {
                var bodyMinimized = document.body.clientWidth === MIN_BODY_WIDTH;

                

                siteHeader.style.position = bodyMinimized ? 'static' : '';

                if(docTopMenu)
                    docTopMenu.style.position = bodyMinimized ? 'static' : '';

                if(contentWrapper)
                    contentWrapper.style.paddingTop = bodyMinimized ? '0' : '';

                if(article)
                    article.style.marginTop = bodyMinimized ? '21px' : '72px';
 
                if(gs)
                    gs.style.paddingTop = bodyMinimized ? '21px' : '72px';
            }

            updateHeader();
            window.addEventListener('scroll', updateHeader);
            window.addEventListener('resize', updateHeader);
        }
        document.addEventListener('DOMContentLoaded', function (e) {
            var contentWrapper = document.querySelector('.container');
            var siteHeader     = document.querySelector('.site-header');
            var docTopMenu     = document.querySelector('.doc-top-nav');
            var article        = document.querySelector('.doc');
            var gs             = document.querySelector('.gs');

            if(siteHeader) 
                initHeader(siteHeader, contentWrapper, docTopMenu, article, gs);
        });
    </script>
</head>


  <body>
    <div class="page-content-wrapper">

      <header class="site-header fixed">
  <div class="site-header-content">
    <a class="site-logo" href="/testcafe/"></a>
    <nav class="site-nav">
        
          
          <div class="site-nav-tab active">
            <a class="page-link" href="/testcafe/documentation/getting-started/">Documentation</a>
          </div>
        
          
          <div class="site-nav-tab ">
            <a class="page-link" href="https://github.com/DevExpress/testcafe" target="_blank">GitHub</a>
          </div>
        
          
          <div class="site-nav-tab ">
            <a class="page-link" href="/testcafe/faq/">FAQ</a>
          </div>
        
          
          <div class="site-nav-tab ">
            <a class="page-link" href="/testcafe/publications/">Publications</a>
          </div>
        
          
          <div class="site-nav-tab ">
            <a class="page-link" href="/testcafe/blog/">Release Notes</a>
          </div>
        
          
          <div class="site-nav-tab ">
            <a class="page-link" href="https://github.com/DevExpress/testcafe/issues" target="_blank">Issues</a>
          </div>
        
          
          <div class="site-nav-tab ">
            <a class="page-link" href="https://testcafe-discuss.devexpress.com/" target="_blank">Forum</a>
          </div>
        
      <a id="twitter-button" href="https://twitter.com/dxtestcafe" target="_blank"></a>
      <div id="search-icon"></div>
      <div class="star-button">
        <a class="github-button" href="https://github.com/DevExpress/testcafe" data-size="large" data-count-href="/DevExpress/testcafe/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star DevExpress/testcafe on GitHub"><span style="color:#ffffff">Star</span></a>
      </div>
      <div id="search-panel" class="hidden">
          <input type="text" placeholder="Search query" id="search"/>
          <div id="close-search"></div>
      </div>
      </nav>
  </div>
</header>

<script>
  function has(parentEl, el)  {
    var descendants = parentEl.getElementsByTagName('*');
    
    for(i = 0; i < descendants.length; i++) 
        if(descendants[i] === el) return true;

    return false;
  }

  function closeSearchBox(e) {
      var clickOutsideSearchBox = searchPanel !== e.target && !has(searchPanel, e.target);

      if(clickOutsideSearchBox && !searchPanel.className.includes('hidden')) 
          searchPanel.className += ' hidden';
  }

  var searchButton      = document.querySelector('#search-icon');
  var searchPanel       = document.querySelector('#search-panel');
  var searchInput       = document.querySelector('#search');
  var closeSearchButton = document.querySelector('#close-search');

  searchButton.addEventListener('click', function () {
      searchPanel.className = searchPanel.className.replace(/hidden/,'');
      searchInput.focus();      
  });
  
  closeSearchButton.addEventListener('click', function () {
      searchPanel.className += ' hidden';
  });

  window.addEventListener('mousedown', closeSearchBox);        
  window.addEventListener('touchstart', closeSearchBox);
</script>


  <div class="doc-top-nav">
    <div class="doc-top-nav-content">
      <div class="doc-top-nav-wrapper">
        
          <div class="doc-top-nav-tab " >
            <a href="/testcafe/documentation/getting-started/">Getting Started</a>      
          </div>
        
          <div class="doc-top-nav-tab " >
            <a href="/testcafe/documentation/using-testcafe/">Using TestCafe</a>      
          </div>
        
          <div class="doc-top-nav-tab active" >
            <a href="/testcafe/documentation/test-api/">Test API</a>      
          </div>
        
          <div class="doc-top-nav-tab " >
            <a href="/testcafe/documentation/extending-testcafe/">Extending TestCafe</a>      
          </div>
        
          <div class="doc-top-nav-tab " >
            <a href="/testcafe/documentation/recipes/">Recipes</a>      
          </div>
        
      </div>
    </div>
  </div>



      <div class="container">
    
	
	

	
	

	
	
	<nav class="doc-nav">	
		<div class="doc-nav-content">
			<ul>
				<li>
				<ul>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/typescript-support.html"  >TypeScript Support</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/test-code-structure.html"  >Test Code Structure</a>
		
			<ul>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/test-code-structure.html#fixtures"  >Fixtures</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/test-code-structure.html#tests"  >Tests</a>
		
			<ul>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/test-code-structure.html#test-controller"  >Test Controller</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/test-code-structure.html#setting-test-speed"  >Setting Test Speed</a>
		
    </li>

</ul>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/test-code-structure.html#specifying-the-start-webpage"  >Specifying the Start Webpage</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/test-code-structure.html#initialization-and-clean-up"  >Initialization and Clean-Up</a>
		
			<ul>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/test-code-structure.html#test-hooks"  >Test Hooks</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/test-code-structure.html#fixture-hooks"  >Fixture Hooks</a>
		
    </li>

</ul>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/test-code-structure.html#skipping-tests"  >Skipping Tests</a>
		
    </li>

</ul>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/selecting-page-elements/"  >Selecting Page Elements</a>
		
			<ul>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/selecting-page-elements/selectors.html" class="active" >Selectors</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/selecting-page-elements/selector-options.html"  >Selector Options</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/selecting-page-elements/dom-node-state.html"  >DOM Node State</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/selecting-page-elements/framework-specific-selectors.html"  >Framework-Specific Selectors</a>
		
    </li>

</ul>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/actions/"  >Actions</a>
		
			<ul>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/actions/click.html"  >Click</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/actions/double-click.html"  >Double Click</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/actions/right-click.html"  >Right Click</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/actions/drag-element.html"  >Drag Element</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/actions/hover.html"  >Hover</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/actions/select-text.html"  >Select Text</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/actions/type-text.html"  >Type Text</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/actions/press-key.html"  >Press Key</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/actions/navigate.html"  >Navigate</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/actions/take-screenshot.html"  >Take Screenshot</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/actions/upload.html"  >Upload</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/actions/resize-window.html"  >Resize Window</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/actions/action-options.html"  >Action Options</a>
		
    </li>

</ul>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/assertions/"  >Assertions</a>
		
			<ul>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/assertions/assertion-api.html"  >Assertion API</a>
		
    </li>

</ul>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/obtaining-data-from-the-client.html"  >Obtaining Data from the Client</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/waiting-for-page-elements-to-appear.html"  >Waiting for Page Elements to Appear</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/authentication/"  >Authentication</a>
		
			<ul>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/authentication/user-roles.html"  >User Roles</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/authentication/http-authentication.html"  >HTTP Authentication</a>
		
    </li>

</ul>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/pausing-the-test.html"  >Pausing the Test</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/handling-native-dialogs.html"  >Handling Native Dialogs</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/working-with-iframes.html"  >Working with &lt;iframes&gt;</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/debugging.html"  >Debugging</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/accessing-console-messages.html"  >Accessing Console Messages</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/a-z.html"  >A-Z Index</a>
		
    </li>

</ul>
				</li>
			</ul>
		</div>
	</nav>
	

	
	

	
	
	


<main>
	<article class="doc">
		<div class="post-content">

			<h1>Selectors</h1>
<p>A selector is a function that identifies a webpage element in the test.
The selector API provides methods and properties to select elements on the page and get their state.
You can use selectors to <a href="#obtain-element-state">inspect elements state on the page</a>, define <a href="#define-action-targets">action targets</a> and
<a href="#define-assertion-actual-value">assertion actual values</a>.</p>
<blockquote class="important"><div class="blockquote-content"><p>Do not modify the tested webpage within selectors.
To interact with the page, use <a href="../actions/">test actions</a>.</p>
</div></blockquote>
<p>This topic contains the following sections.</p>

<ul>
<li><a href="#creating-selectors">Creating Selectors</a></li>
<li><a href="#selector-initializers">Selector Initializers</a></li>
<li><a href="#functional-style-selectors">Functional-Style Selectors</a>

<ul>
<li><a href="#filter-dom-nodes">Filter DOM Nodes</a>

<ul>
<li><a href="#nth">nth</a></li>
<li><a href="#withtext">withText</a></li>
<li><a href="#withattribute">withAttribute</a></li>
<li><a href="#filter">filter</a></li>
</ul></li>
<li><a href="#search-for-elements-in-the-dom-hierarchy">Search for Elements in the DOM Hierarchy</a>

<ul>
<li><a href="#find">find</a></li>
<li><a href="#parent">parent</a></li>
<li><a href="#child">child</a></li>
<li><a href="#sibling">sibling</a></li>
<li><a href="#nextsibling">nextSibling</a></li>
<li><a href="#prevsibling">prevSibling</a></li>
</ul></li>
<li><a href="#examples">Examples</a></li>
</ul></li>
<li><a href="#using-selectors">Using Selectors</a>

<ul>
<li><a href="#check-if-an-element-exists">Check if an Element Exists</a></li>
<li><a href="#obtain-element-state">Obtain Element State</a></li>
<li><a href="#dom-node-snapshot">DOM Node Snapshot</a></li>
<li><a href="#define-action-targets">Define Action Targets</a></li>
<li><a href="#define-assertion-actual-value">Define Assertion Actual Value</a></li>
<li><a href="#selector-timeout">Selector Timeout</a></li>
</ul></li>
<li><a href="#extending-selectors">Extending Selectors</a>

<ul>
<li><a href="#custom-properties">Custom Properties</a></li>
<li><a href="#custom-methods">Custom Methods</a></li>
</ul></li>
<li><a href="#calling-selectors-from-nodejs-callbacks">Calling Selectors from Node.js Callbacks</a></li>
<li><a href="#limitations">Limitations</a></li>
</ul>
<h2><a class="anchor" name="creating-selectors"></a>Creating Selectors <a class="permalink" href="#creating-selectors">#</a></h2>
<p>To create a selector, use the <code>Selector</code> constructor.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">Selector( init [, options] )
</code></pre></div>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>init</code></td>
<td>Function &#124; String &#124; Selector &#124; Snapshot &#124; Promise</td>
<td>Identifies a DOM node to be selected. See <a href="#selector-initializers">Selector Initializers</a>.</td>
</tr>
<tr>
<td><code>options</code>&#160;<em>(optional)</em></td>
<td>Object</td>
<td>See <a href="selector-options.html">Options</a>.</td>
</tr>
</tbody></table>

<p>The following example creates a selector from a css string for an element with &#39;username&#39; id.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">import</span> <span class="p">{</span> <span class="nx">Selector</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'testcafe'</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">usernameInput</span> <span class="o">=</span> <span class="nx">Selector</span><span class="p">(</span><span class="s1">'#username'</span><span class="p">);</span>
</code></pre></div><h2><a class="anchor" name="selector-initializers"></a>Selector Initializers <a class="permalink" href="#selector-initializers">#</a></h2>
<p>You can initialize a selector with any of these objects.</p>

<ul>
<li><p>A CSS selector string that matches one or several nodes.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">import</span> <span class="p">{</span> <span class="nx">Selector</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'testcafe'</span><span class="p">;</span>

<span class="c1">// A selector is created from a CSS selector string.</span>
<span class="kr">const</span> <span class="nx">submitButton</span> <span class="o">=</span> <span class="nx">Selector</span><span class="p">(</span><span class="s1">'#submit-button'</span><span class="p">);</span>
</code></pre></div></li>
<li><p>A regular function. Executed on the client side. Must return a DOM node, array of DOM nodes,
NodeList, HTMLCollection, <code>null</code> or <code>undefined</code>. Cannot use outer-scope variables from test code.
This is convenient when you need to use some client-side logic to get an element.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">import</span> <span class="p">{</span> <span class="nx">Selector</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'testcafe'</span><span class="p">;</span>

<span class="c1">// A selector is created from a regular function.</span>
<span class="c1">// This selector will take an element by id that is saved in the localStorage</span>
<span class="c1">// a DOM element that has this ID.</span>
<span class="kr">const</span> <span class="nx">element</span> <span class="o">=</span> <span class="nx">Selector</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">storedElementId</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">localStorage</span><span class="p">.</span><span class="nx">storedElementId</span><span class="p">;</span>

    <span class="k">return</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="nx">storedElementId</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div></li>
<li><p>A selector.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">import</span> <span class="p">{</span> <span class="nx">Selector</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'testcafe'</span><span class="p">;</span>

<span class="c1">// This selector is created from a function that returns all elements of a specified class.</span>
<span class="kr">const</span> <span class="nx">submitButton</span> <span class="o">=</span> <span class="nx">Selector</span><span class="p">(</span><span class="s1">'#submit-button'</span><span class="p">);</span>

<span class="c1">// This selector is created based on the previous selector and inherits</span>
<span class="c1">// its initializer, but overwrites the `visibilityCheck` parameter.</span>
<span class="nx">Selector</span><span class="p">(</span><span class="nx">submitButton</span><span class="p">,</span> <span class="p">{</span> <span class="na">visibilityCheck</span><span class="p">:</span> <span class="kc">false</span> <span class="p">});</span>
</code></pre></div></li>
<li><p>A <a href="#dom-node-snapshot">DOM Node Snapshot</a> returned by selector execution.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">import</span> <span class="p">{</span> <span class="nx">Selector</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'testcafe'</span><span class="p">;</span>

<span class="nx">fixture</span> <span class="err">`</span><span class="nx">My</span> <span class="nx">fixture</span><span class="err">`</span>
    <span class="p">.</span><span class="nx">page</span> <span class="err">`</span><span class="nx">http</span><span class="err">:</span><span class="c1">//www.example.com/`;</span>

<span class="nx">test</span><span class="p">(</span><span class="s1">'My Test'</span><span class="p">,</span> <span class="nx">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">topMenuSnapshot</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">Selector</span><span class="p">(</span><span class="s1">'#top-menu'</span><span class="p">)();</span>

    <span class="c1">// This selector is created from a DOM Node state object returned</span>
    <span class="c1">// by a different selector. The new selector will use the same initializer</span>
    <span class="c1">// as 'elementWithId' and will always be executed with the same parameter</span>
    <span class="c1">// values that were used to obtain 'topMenuSnapshot'. You can still</span>
    <span class="c1">// overwrite the selector options.</span>
    <span class="kr">const</span> <span class="nx">visibleTopMenu</span> <span class="o">=</span> <span class="nx">Selector</span><span class="p">(</span><span class="nx">topMenuSnapshot</span><span class="p">,</span> <span class="p">{</span>
        <span class="na">visibilityCheck</span><span class="p">:</span> <span class="kc">true</span>
    <span class="p">});</span>
<span class="p">});</span>
</code></pre></div></li>
<li><p>A promise returned by a selector.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">import</span> <span class="p">{</span> <span class="nx">Selector</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'testcafe'</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">elementWithIdOrClassName</span> <span class="o">=</span> <span class="nx">Selector</span><span class="p">(</span><span class="nx">value</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="o">||</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByClassName</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>
<span class="p">});</span>

<span class="nx">fixture</span> <span class="err">`</span><span class="nx">My</span> <span class="nx">fixture</span><span class="err">`</span>
    <span class="p">.</span><span class="nx">page</span> <span class="err">`</span><span class="na">http</span><span class="p">:</span><span class="c1">//www.example.com/`;</span>

<span class="nx">test</span><span class="p">(</span><span class="s1">'My Test'</span><span class="p">,</span> <span class="nx">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">// This selector is created from a promise returned by a call to a</span>
    <span class="c1">// different selector. The new selector will be initialized with the</span>
    <span class="c1">// same function as the old one and with hard-coded parameter values</span>
    <span class="c1">// as in the previous example.</span>
    <span class="kr">const</span> <span class="nx">submitButton</span> <span class="o">=</span> <span class="nx">Selector</span><span class="p">(</span><span class="nx">elementWithIdOrClassName</span><span class="p">(</span><span class="s1">'main-element'</span><span class="p">));</span>
<span class="p">});</span>
</code></pre></div></li>
</ul>
<h2><a class="anchor" name="functional-style-selectors"></a>Functional-Style Selectors <a class="permalink" href="#functional-style-selectors">#</a></h2>
<p>The selector API provides methods that can be combined together, thus
providing you with a flexible functional-style selector mechanism.</p>
<h3><a class="anchor" name="filter-dom-nodes"></a>Filter DOM Nodes <a class="permalink" href="#filter-dom-nodes">#</a></h3>
<p>If selector returns multiple DOM nodes, you must filter them to select
a single node that will eventually be returned by the selector.
The selector provides methods to filter DOM nodes by their index, text, attributes, etc.</p>
<h4><a class="anchor" name="nth"></a>nth <a class="permalink" href="#nth">#</a></h4>
<table><thead>
<tr>
<th>Method</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>nth(index)</code></td>
<td>Selector</td>
<td>Creates a selector that returns an element by its index in the matching set. The <code>index</code> parameter is zero-based. If <code>index</code> is negative, the index is counted from the end of the matching set.</td>
</tr>
</tbody></table>
<h4><a class="anchor" name="withtext"></a>withText <a class="permalink" href="#withtext">#</a></h4>
<table><thead>
<tr>
<th>Method</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>withText(text)</code></td>
<td>Selector</td>
<td>Creates a selector that filters a matching set by the specified text.</td>
</tr>
<tr>
<td><code>withText(re)</code></td>
<td>Selector</td>
<td>Creates a selector that filters a matching set using the specified regular expression.</td>
</tr>
</tbody></table>

<p>The <code>withText(text)</code> method selects elements that <em>contain</em> the specified String (instead of strict match). The <code>text</code> argument is case-sensitive.</p>
<h4><a class="anchor" name="withattribute"></a>withAttribute <a class="permalink" href="#withattribute">#</a></h4>
<table><thead>
<tr>
<th>Method</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>withAttribute(attrName [, attrValue])</code></td>
<td>Selector</td>
<td>Creates a selector that filters a matching set by the specified attribute and, optionally, attribute value.</td>
</tr>
</tbody></table>

<p>This method takes the following parameters.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>attrName</code></td>
<td>String &#124; RegExp</td>
<td>The attribute name.</td>
</tr>
<tr>
<td><code>attrValue</code>&#160;<em>(optional)</em></td>
<td>String &#124; RegExp</td>
<td>The attribute value. You can omit this parameter to select elements that have the <code>attrName</code> attribute regardless of the value.</td>
</tr>
</tbody></table>

<p>If <code>attrName</code> or <code>attrValue</code> is a String, <code>withAttribute</code> selects an element by strict match.</p>
<h4><a class="anchor" name="filter"></a>filter <a class="permalink" href="#filter">#</a></h4>
<table><thead>
<tr>
<th>Method</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>filter(cssSelector)</code></td>
<td>Selector</td>
<td>Creates a selector that filters a matching set by <code>cssSelector</code>.</td>
</tr>
<tr>
<td><code>filter(filterFn, dependencies)</code></td>
<td>Selector</td>
<td>Creates a selector that filters a matching set by the <code>filterFn</code> predicate. Use an optional <code>dependencies</code> parameter to pass functions, variables or objects used in the <code>filterFn</code> function internally.</td>
</tr>
</tbody></table>

<p>The <code>filterFn</code> predicate is executed on the client. It takes the following parameters.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>node</code></td>
<td>The current DOM node.</td>
</tr>
<tr>
<td><code>idx</code></td>
<td>Index of the current node among other nodes in the matching set.</td>
</tr>
</tbody></table>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">Selector</span><span class="p">(</span><span class="s1">'ul'</span><span class="p">).</span><span class="nx">filter</span><span class="p">((</span><span class="nx">node</span><span class="p">,</span> <span class="nx">idx</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">// node === a &lt;ul&gt; node</span>
    <span class="c1">// idx === index of the current &lt;ul&gt; node</span>
<span class="p">});</span>
</code></pre></div>
<p>The <a href="../obtaining-data-from-the-client.html#optionsdependencies">dependencies parameter</a> allows
you to pass objects to the <code>filterFn</code> client-side scope where they appear as variables.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">isNodeOk</span> <span class="o">=</span> <span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">idx</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="cm">/*...*/</span> <span class="p">};</span>

<span class="nx">Selector</span><span class="p">(</span><span class="s1">'ul'</span><span class="p">).</span><span class="nx">filter</span><span class="p">((</span><span class="nx">node</span><span class="p">,</span> <span class="nx">idx</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">isNodeOk</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">idx</span><span class="p">);</span>
<span class="p">},</span> <span class="p">{</span> <span class="nx">isNodeOk</span> <span class="p">});</span>
</code></pre></div>
<p><strong>Example</strong></p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">import</span> <span class="p">{</span> <span class="nx">Selector</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'testcafe'</span><span class="p">;</span>

<span class="nx">fixture</span> <span class="err">`</span><span class="nx">Example</span> <span class="nx">page</span><span class="err">`</span>
    <span class="p">.</span><span class="nx">page</span> <span class="err">`</span><span class="nx">http</span><span class="err">:</span><span class="c1">//devexpress.github.io/testcafe/example/`;</span>

<span class="nx">test</span><span class="p">(</span><span class="s1">'My test'</span><span class="p">,</span> <span class="nx">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">secondCheckBox</span> <span class="o">=</span> <span class="nx">Selector</span><span class="p">(</span><span class="s1">'input[type=checkbox]'</span><span class="p">).</span><span class="nx">nth</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
    <span class="kr">const</span> <span class="nx">checkedInputs</span>  <span class="o">=</span> <span class="nx">Selector</span><span class="p">(</span><span class="s1">'input[type=checkbox]'</span><span class="p">).</span><span class="nx">filter</span><span class="p">(</span><span class="nx">node</span> <span class="o">=&gt;</span> <span class="nx">node</span><span class="p">.</span><span class="nx">checked</span><span class="p">);</span>
    <span class="kr">const</span> <span class="nx">windowsLabel</span>   <span class="o">=</span> <span class="nx">Selector</span><span class="p">(</span><span class="s1">'label'</span><span class="p">).</span><span class="nx">withText</span><span class="p">(</span><span class="s1">'Windows'</span><span class="p">);</span>

    <span class="nx">await</span> <span class="nx">t</span>
        <span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="nx">secondCheckBox</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">expect</span><span class="p">(</span><span class="nx">checkedInputs</span><span class="p">.</span><span class="nx">count</span><span class="p">).</span><span class="nx">eql</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="nx">windowsLabel</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p>If all nodes are filtered out, the selector returns <code>null</code>.</p>
<h3><a class="anchor" name="search-for-elements-in-the-dom-hierarchy"></a>Search for Elements in the DOM Hierarchy <a class="permalink" href="#search-for-elements-in-the-dom-hierarchy">#</a></h3>
<p>The selector API provides methods to find elements within a DOM hierarchy in jQuery style.</p>
<h4><a class="anchor" name="find"></a>find <a class="permalink" href="#find">#</a></h4>
<table><thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>find(cssSelector)</code></td>
<td>Finds all descendants of all nodes in the matching set and filters them by <code>cssSelector</code>.</td>
</tr>
<tr>
<td><code>find(filterFn, dependencies)</code></td>
<td>Finds all descendants of all nodes in the matching set and filters them using <code>filterFn</code> predicate. Use an optional <code>dependencies</code> parameter to pass functions, variables or objects used in the <code>filterFn</code> function internally.</td>
</tr>
</tbody></table>

<p>The <code>filterFn</code> predicate is executed on the client. It takes the following parameters.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>node</code></td>
<td>The current descendant node.</td>
</tr>
<tr>
<td><code>idx</code></td>
<td>A zero-based index of <code>node</code> among other descendant nodes.</td>
</tr>
<tr>
<td><code>originNode</code></td>
<td>A node from the left-hand selector&#39;s matching set whose descendants are being iterated.</td>
</tr>
</tbody></table>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">Selector</span><span class="p">(</span><span class="s1">'ul'</span><span class="p">).</span><span class="nx">find</span><span class="p">((</span><span class="nx">node</span><span class="p">,</span> <span class="nx">idx</span><span class="p">,</span> <span class="nx">originNode</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">// node === the &lt;ul&gt;'s descendant node</span>
    <span class="c1">// idx === index of the current &lt;ul&gt;'s descendant node</span>
    <span class="c1">// originNode === the &lt;ul&gt; element</span>
<span class="p">});</span>
</code></pre></div>
<p>The <a href="../obtaining-data-from-the-client.html#optionsdependencies">dependencies parameter</a> allows
you to pass objects to the <code>filterFn</code> client-side scope where they appear as variables.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">isNodeOk</span> <span class="o">=</span> <span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">idx</span><span class="p">,</span> <span class="nx">originNode</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="cm">/*...*/</span> <span class="p">};</span>

<span class="nx">Selector</span><span class="p">(</span><span class="s1">'ul'</span><span class="p">).</span><span class="nx">find</span><span class="p">((</span><span class="nx">node</span><span class="p">,</span> <span class="nx">idx</span><span class="p">,</span> <span class="nx">originNode</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">isNodeOk</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">idx</span><span class="p">,</span> <span class="nx">originNode</span><span class="p">);</span>
<span class="p">},</span> <span class="p">{</span> <span class="nx">isNodeOk</span> <span class="p">});</span>
</code></pre></div><h4><a class="anchor" name="parent"></a>parent <a class="permalink" href="#parent">#</a></h4>
<table><thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>parent()</code></td>
<td>Finds all parents of all nodes in the matching set (first element in the set will be the closest parent).</td>
</tr>
<tr>
<td><code>parent(index)</code></td>
<td>Finds all parents of all nodes in the matching set and filters them by <code>index</code> (0 is the closest). If <code>index</code> is negative, the index is counted from the end of the matching set.</td>
</tr>
<tr>
<td><code>parent(cssSelector)</code></td>
<td>Finds all parents of all nodes in the matching set and filters them by <code>cssSelector</code>.</td>
</tr>
<tr>
<td><code>parent(filterFn, dependencies)</code></td>
<td>Finds all parents of all nodes in the matching set and filters them by the <code>filterFn</code> predicate. Use an optional <code>dependencies</code> parameter to pass functions, variables or objects used in the <code>filterFn</code> function internally.</td>
</tr>
</tbody></table>

<p>The <code>filterFn</code> predicate is executed on the client. It takes the following parameters.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>node</code></td>
<td>The current parent node.</td>
</tr>
<tr>
<td><code>idx</code></td>
<td>A zero-based index of <code>node</code> among other parent nodes.</td>
</tr>
<tr>
<td><code>originNode</code></td>
<td>A node from the left-hand selector&#39;s matching set whose parents are being iterated.</td>
</tr>
</tbody></table>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">Selector</span><span class="p">(</span><span class="s1">'label'</span><span class="p">).</span><span class="nx">parent</span><span class="p">((</span><span class="nx">node</span><span class="p">,</span> <span class="nx">idx</span><span class="p">,</span> <span class="nx">originNode</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">// node === the &lt;label&gt;'s parent element</span>
    <span class="c1">// idx === index of the current &lt;label&gt;'s parent element</span>
    <span class="c1">// originNode === the &lt;label&gt; element</span>
<span class="p">});</span>
</code></pre></div>
<p>The <a href="../obtaining-data-from-the-client.html#optionsdependencies">dependencies parameter</a> allows
you to pass objects to the <code>filterFn</code> client-side scope where they appear as variables.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">isNodeOk</span> <span class="o">=</span> <span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">idx</span><span class="p">,</span> <span class="nx">originNode</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="cm">/*...*/</span> <span class="p">};</span>

<span class="nx">Selector</span><span class="p">(</span><span class="s1">'ul'</span><span class="p">).</span><span class="nx">parent</span><span class="p">((</span><span class="nx">node</span><span class="p">,</span> <span class="nx">idx</span><span class="p">,</span> <span class="nx">originNode</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">isNodeOk</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">idx</span><span class="p">,</span> <span class="nx">originNode</span><span class="p">);</span>
<span class="p">},</span> <span class="p">{</span> <span class="nx">isNodeOk</span> <span class="p">});</span>
</code></pre></div><h4><a class="anchor" name="child"></a>child <a class="permalink" href="#child">#</a></h4>
<table><thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>child()</code></td>
<td>Finds all child elements (not nodes) of all nodes in the matching set.</td>
</tr>
<tr>
<td><code>child(index)</code></td>
<td>Finds all child elements (not nodes) of all nodes in the matching set and filters them by <code>index</code>. The <code>index</code> parameter is zero-based. If <code>index</code> is negative, the index is counted from the end of the matching set.</td>
</tr>
<tr>
<td><code>child(cssSelector)</code></td>
<td>Finds all child elements (not nodes) of all nodes in the matching set and filters them by <code>cssSelector</code>.</td>
</tr>
<tr>
<td><code>child(filterFn, dependencies)</code></td>
<td>Finds all child elements (not nodes) of all nodes in the matching set and filters them by the <code>filterFn</code> predicate. Use an optional <code>dependencies</code> parameter to pass functions, variables or objects used in the <code>filterFn</code> function internally.</td>
</tr>
</tbody></table>

<p>The <code>filterFn</code> predicate is executed on the client. It takes the following parameters.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>node</code></td>
<td>The current child node.</td>
</tr>
<tr>
<td><code>idx</code></td>
<td>A zero-based index of <code>node</code> among other child nodes.</td>
</tr>
<tr>
<td><code>originNode</code></td>
<td>A node from the left-hand selector&#39;s matching set whose children are being iterated.</td>
</tr>
</tbody></table>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">Selector</span><span class="p">(</span><span class="s1">'form'</span><span class="p">).</span><span class="nx">child</span><span class="p">((</span><span class="nx">node</span><span class="p">,</span> <span class="nx">idx</span><span class="p">,</span> <span class="nx">originNode</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">// node === the &lt;form&gt;'s child node</span>
    <span class="c1">// idx === index of the current &lt;form&gt;'s child node</span>
    <span class="c1">// originNode === the &lt;form&gt; element</span>
<span class="p">});</span>
</code></pre></div>
<p>The <a href="../obtaining-data-from-the-client.html#optionsdependencies">dependencies parameter</a> allows
you to pass objects to the <code>filterFn</code> client-side scope where they appear as variables.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">isNodeOk</span> <span class="o">=</span> <span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">idx</span><span class="p">,</span> <span class="nx">originNode</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="cm">/*...*/</span> <span class="p">};</span>

<span class="nx">Selector</span><span class="p">(</span><span class="s1">'ul'</span><span class="p">).</span><span class="nx">child</span><span class="p">((</span><span class="nx">node</span><span class="p">,</span> <span class="nx">idx</span><span class="p">,</span> <span class="nx">originNode</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">isNodeOk</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">idx</span><span class="p">,</span> <span class="nx">originNode</span><span class="p">);</span>
<span class="p">},</span> <span class="p">{</span> <span class="nx">isNodeOk</span> <span class="p">});</span>
</code></pre></div><h4><a class="anchor" name="sibling"></a>sibling <a class="permalink" href="#sibling">#</a></h4>
<table><thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>sibling()</code></td>
<td>Finds all sibling  elements (not nodes) of all nodes in the matching set.</td>
</tr>
<tr>
<td><code>sibling(index)</code></td>
<td>Finds all sibling  elements (not nodes) of all nodes in the matching set and filters them by <code>index</code>. The <code>index</code> parameter is zero-based. If <code>index</code> is negative, the index is counted from the end of the matching set.</td>
</tr>
<tr>
<td><code>sibling(cssSelector)</code></td>
<td>Finds all sibling elements (not nodes) of all nodes in the matching set and filters them by <code>cssSelector</code>.</td>
</tr>
<tr>
<td><code>sibling(filterFn, dependencies)</code></td>
<td>Finds all sibling elements (not nodes) of all nodes in the matching set and filters them by the <code>filterFn</code> predicate. Use an optional <code>dependencies</code> parameter to pass functions, variables or objects used in the <code>filterFn</code> function internally.</td>
</tr>
</tbody></table>

<p>The <code>filterFn</code> predicate is executed on the client. It takes the following parameters.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>node</code></td>
<td>The current sibling node.</td>
</tr>
<tr>
<td><code>idx</code></td>
<td>A zero-based index of <code>node</code> among other sibling nodes.</td>
</tr>
<tr>
<td><code>originNode</code></td>
<td>A node from the left-hand selector&#39;s matching set whose siblings are being iterated.</td>
</tr>
</tbody></table>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">Selector</span><span class="p">(</span><span class="s1">'section'</span><span class="p">).</span><span class="nx">sibling</span><span class="p">((</span><span class="nx">node</span><span class="p">,</span> <span class="nx">idx</span><span class="p">,</span> <span class="nx">originNode</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">// node === the &lt;section&gt;'s sibling node</span>
    <span class="c1">// idx === index of the current &lt;section&gt;'s sibling node</span>
    <span class="c1">// originNode === the &lt;section&gt; element</span>
<span class="p">});</span>
</code></pre></div>
<p>The <a href="../obtaining-data-from-the-client.html#optionsdependencies">dependencies parameter</a> allows
you to pass objects to the <code>filterFn</code> client-side scope where they appear as variables.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">isNodeOk</span> <span class="o">=</span> <span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">idx</span><span class="p">,</span> <span class="nx">originNode</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="cm">/*...*/</span> <span class="p">};</span>

<span class="nx">Selector</span><span class="p">(</span><span class="s1">'ul'</span><span class="p">).</span><span class="nx">sibling</span><span class="p">((</span><span class="nx">node</span><span class="p">,</span> <span class="nx">idx</span><span class="p">,</span> <span class="nx">originNode</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">isNodeOk</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">idx</span><span class="p">,</span> <span class="nx">originNode</span><span class="p">);</span>
<span class="p">},</span> <span class="p">{</span> <span class="nx">isNodeOk</span> <span class="p">});</span>
</code></pre></div><h4><a class="anchor" name="nextsibling"></a>nextSibling <a class="permalink" href="#nextsibling">#</a></h4>
<table><thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>nextSibling()</code></td>
<td>Finds all succeeding sibling elements (not nodes) of all nodes in the matching set.</td>
</tr>
<tr>
<td><code>nextSibling(index)</code></td>
<td>Finds all succeeding sibling elements (not nodes) of all nodes in the matching set and filters them by <code>index</code>. The <code>index</code> parameter is zero-based. If <code>index</code> is negative, the index is counted from the end of the matching set.</td>
</tr>
<tr>
<td><code>nextSibling(cssSelector)</code></td>
<td>Finds all succeeding sibling elements (not nodes) of all nodes in the matching set and filters them by <code>cssSelector</code>.</td>
</tr>
<tr>
<td><code>nextSibling(filterFn, dependencies)</code></td>
<td>Finds all succeeding sibling elements (not nodes) of all nodes in the matching set and filters them by the <code>filterFn</code> predicate. Use an optional <code>dependencies</code> parameter to pass functions, variables or objects used in the <code>filterFn</code> function internally.</td>
</tr>
</tbody></table>

<p>The <code>filterFn</code> predicate is executed on the client. It takes the following parameters.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>node</code></td>
<td>The current succeeding sibling node.</td>
</tr>
<tr>
<td><code>idx</code></td>
<td>A zero-based index of <code>node</code> among other succeeding sibling nodes.</td>
</tr>
<tr>
<td><code>originNode</code></td>
<td>A node from the left-hand selector&#39;s matching set whose siblings are being iterated.</td>
</tr>
</tbody></table>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">Selector</span><span class="p">(</span><span class="s1">'section'</span><span class="p">).</span><span class="nx">nextSibling</span><span class="p">((</span><span class="nx">node</span><span class="p">,</span> <span class="nx">idx</span><span class="p">,</span> <span class="nx">originNode</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">// node === the &lt;section&gt;'s succeeding sibling node</span>
    <span class="c1">// idx === index of the current &lt;section&gt;'s succeeding sibling node</span>
    <span class="c1">// originNode === the &lt;section&gt; element</span>
<span class="p">});</span>
</code></pre></div>
<p>The <a href="../obtaining-data-from-the-client.html#optionsdependencies">dependencies parameter</a> allows
you to pass objects to the <code>filterFn</code> client-side scope where they appear as variables.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">isNodeOk</span> <span class="o">=</span> <span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">idx</span><span class="p">,</span> <span class="nx">originNode</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="cm">/*...*/</span> <span class="p">};</span>

<span class="nx">Selector</span><span class="p">(</span><span class="s1">'ul'</span><span class="p">).</span><span class="nx">nextSibling</span><span class="p">((</span><span class="nx">node</span><span class="p">,</span> <span class="nx">idx</span><span class="p">,</span> <span class="nx">originNode</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">isNodeOk</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">idx</span><span class="p">,</span> <span class="nx">originNode</span><span class="p">);</span>
<span class="p">},</span> <span class="p">{</span> <span class="nx">isNodeOk</span> <span class="p">});</span>
</code></pre></div><h4><a class="anchor" name="prevsibling"></a>prevSibling <a class="permalink" href="#prevsibling">#</a></h4>
<table><thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>prevSibling()</code></td>
<td>Finds all preceding sibling elements (not nodes) of all nodes in the matching set.</td>
</tr>
<tr>
<td><code>prevSibling(index)</code></td>
<td>Finds all preceding sibling elements (not nodes) of all nodes in the matching set and filters them by <code>index</code>. The <code>index</code> parameter is zero-based. If <code>index</code> is negative, the index is counted from the end of the matching set.</td>
</tr>
<tr>
<td><code>prevSibling(cssSelector)</code></td>
<td>Finds all preceding sibling elements (not nodes) of all nodes in the matching set and filters them by <code>cssSelector</code>.</td>
</tr>
<tr>
<td><code>prevSibling(filterFn, dependencies)</code></td>
<td>Finds all preceding sibling elements (not nodes) of all nodes in the matching set and filters them by the <code>filterFn</code> predicate. Use an optional <code>dependencies</code> parameter to pass functions, variables or objects used in the <code>filterFn</code> function internally.</td>
</tr>
</tbody></table>

<p>The <code>filterFn</code> predicate is executed on the client. It takes the following parameters.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>node</code></td>
<td>The current preceding sibling node.</td>
</tr>
<tr>
<td><code>idx</code></td>
<td>A zero-based index of <code>node</code> among other preceding sibling nodes.</td>
</tr>
<tr>
<td><code>originNode</code></td>
<td>A node from the left-hand selector&#39;s matching set whose siblings are being iterated.</td>
</tr>
</tbody></table>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">Selector</span><span class="p">(</span><span class="s1">'section'</span><span class="p">).</span><span class="nx">prevSibling</span><span class="p">((</span><span class="nx">node</span><span class="p">,</span> <span class="nx">idx</span><span class="p">,</span> <span class="nx">originNode</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">// node === the &lt;section&gt;'s preceding sibling node</span>
    <span class="c1">// idx === index of the current &lt;section&gt;'s preceding sibling node</span>
    <span class="c1">// originNode === the &lt;section&gt; element</span>
<span class="p">});</span>
</code></pre></div>
<p>The <a href="../obtaining-data-from-the-client.html#optionsdependencies">dependencies parameter</a> allows
you to pass objects to the <code>filterFn</code> client-side scope where they appear as variables.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">isNodeOk</span> <span class="o">=</span> <span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">idx</span><span class="p">,</span> <span class="nx">originNode</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="cm">/*...*/</span> <span class="p">};</span>

<span class="nx">Selector</span><span class="p">(</span><span class="s1">'ul'</span><span class="p">).</span><span class="nx">prevSibling</span><span class="p">((</span><span class="nx">node</span><span class="p">,</span> <span class="nx">idx</span><span class="p">,</span> <span class="nx">originNode</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">isNodeOk</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">idx</span><span class="p">,</span> <span class="nx">originNode</span><span class="p">);</span>
<span class="p">},</span> <span class="p">{</span> <span class="nx">isNodeOk</span> <span class="p">});</span>
</code></pre></div>
<p><strong>Example</strong></p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">import</span> <span class="p">{</span> <span class="nx">Selector</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'testcafe'</span><span class="p">;</span>

<span class="nx">fixture</span> <span class="err">`</span><span class="nx">Example</span> <span class="nx">page</span><span class="err">`</span>
    <span class="p">.</span><span class="nx">page</span> <span class="err">`</span><span class="nx">http</span><span class="err">:</span><span class="c1">//devexpress.github.io/testcafe/example/`;</span>

<span class="nx">test</span><span class="p">(</span><span class="s1">'My test'</span><span class="p">,</span> <span class="nx">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">macOSRadioButton</span> <span class="o">=</span> <span class="nx">Selector</span><span class="p">(</span><span class="s1">'.column.col-2'</span><span class="p">).</span><span class="nx">find</span><span class="p">(</span><span class="s1">'label'</span><span class="p">).</span><span class="nx">child</span><span class="p">(</span><span class="nx">el</span> <span class="o">=&gt;</span> <span class="nx">el</span><span class="p">.</span><span class="nx">value</span> <span class="o">===</span> <span class="s1">'MacOS'</span><span class="p">);</span>

    <span class="nx">await</span> <span class="nx">t</span>
        <span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="nx">macOSRadioButton</span><span class="p">.</span><span class="nx">parent</span><span class="p">())</span>
        <span class="p">.</span><span class="nx">expect</span><span class="p">(</span><span class="nx">macOSRadioButton</span><span class="p">.</span><span class="nx">checked</span><span class="p">).</span><span class="nx">ok</span><span class="p">();</span>
<span class="p">});</span>
</code></pre></div><h3><a class="anchor" name="examples"></a>Examples <a class="permalink" href="#examples">#</a></h3><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">Selector</span><span class="p">(</span><span class="s1">'ul'</span><span class="p">).</span><span class="nx">find</span><span class="p">(</span><span class="s1">'label'</span><span class="p">).</span><span class="nx">parent</span><span class="p">(</span><span class="s1">'div.someClass'</span><span class="p">)</span>
</code></pre></div>
<p>Finds all <code>ul</code> elements on page. Then, in each found <code>ul</code> element finds <code>label</code> elements.
Then, for each <code>label</code> element finds a parent that matches the <code>div.someClass</code> selector.</p>

<hr>

<p>Like in jQuery, if you request a <a href="./dom-node-state.html#members-common-across-all-nodes">property</a> of the matching set or try evaluate
a <a href="#dom-node-snapshot">snapshot</a>, the selector returns values for the first element in the set.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="c1">// Returns id of the first element in the set</span>
<span class="kr">const</span> <span class="nx">id</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">Selector</span><span class="p">(</span><span class="s1">'ul'</span><span class="p">).</span><span class="nx">find</span><span class="p">(</span><span class="s1">'label'</span><span class="p">).</span><span class="nx">parent</span><span class="p">(</span><span class="s1">'div.someClass'</span><span class="p">).</span><span class="nx">id</span><span class="p">;</span>

<span class="c1">// Returns snapshot for the first element in the set</span>
<span class="kr">const</span> <span class="nx">snapshot</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">Selector</span><span class="p">(</span><span class="s1">'ul'</span><span class="p">).</span><span class="nx">find</span><span class="p">(</span><span class="s1">'label'</span><span class="p">).</span><span class="nx">parent</span><span class="p">(</span><span class="s1">'div.someClass'</span><span class="p">)();</span>
</code></pre></div>
<hr>

<p>However, you can obtain data for any element in the set by using <code>nth</code> filter.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="c1">// Returns id of the third element in the set</span>
<span class="kr">const</span> <span class="nx">id</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">Selector</span><span class="p">(</span><span class="s1">'ul'</span><span class="p">).</span><span class="nx">find</span><span class="p">(</span><span class="s1">'label'</span><span class="p">).</span><span class="nx">parent</span><span class="p">(</span><span class="s1">'div.someClass'</span><span class="p">).</span><span class="nx">nth</span><span class="p">(</span><span class="mi">2</span><span class="p">).</span><span class="nx">id</span><span class="p">;</span>

<span class="c1">// Returns snapshot for the fourth element in the set</span>
<span class="kr">const</span> <span class="nx">snapshot</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">Selector</span><span class="p">(</span><span class="s1">'ul'</span><span class="p">).</span><span class="nx">find</span><span class="p">(</span><span class="s1">'label'</span><span class="p">).</span><span class="nx">parent</span><span class="p">(</span><span class="s1">'div.someClass'</span><span class="p">).</span><span class="nx">nth</span><span class="p">(</span><span class="mi">4</span><span class="p">)();</span>
</code></pre></div>
<hr>

<p>Note that you can add text and index filters in the selector chain.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">Selector</span><span class="p">(</span><span class="s1">'.container'</span><span class="p">).</span><span class="nx">parent</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="nx">nth</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">find</span><span class="p">(</span><span class="s1">'.content'</span><span class="p">).</span><span class="nx">withText</span><span class="p">(</span><span class="s1">'yo!'</span><span class="p">).</span><span class="nx">child</span><span class="p">(</span><span class="s1">'span'</span><span class="p">);</span>
</code></pre></div>
<p>In this example the selector:</p>

<ol>
<li>finds the second parent (parent of parent) of <code>.container</code> elements;</li>
<li>picks the first element in the matching set;</li>
<li>in that element, finds elements that match the <code>.content</code> selector;</li>
<li>filters them by text <code>yo!</code>;</li>
<li>in each filtered element, searches for a child with tag name <code>span</code>.</li>
</ol>

<hr>
<h2><a class="anchor" name="using-selectors"></a>Using Selectors <a class="permalink" href="#using-selectors">#</a></h2><h3><a class="anchor" name="check-if-an-element-exists"></a>Check if an Element Exists <a class="permalink" href="#check-if-an-element-exists">#</a></h3>
<p>Functions and CSS selector strings that initialize a selector may return
a single matching DOM element on the page, multiple elements or nothing.
You can use the following Selector properties to check whether matching
elements exist and determine the number of matching elements.</p>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>exists</code></td>
<td>Boolean</td>
<td><code>true</code> if at least one matching element exists.</td>
</tr>
<tr>
<td><code>count</code></td>
<td>Number</td>
<td>The number of matching elements.</td>
</tr>
</tbody></table>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">import</span> <span class="p">{</span> <span class="nx">Selector</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'testcafe'</span><span class="p">;</span>

<span class="nx">fixture</span> <span class="err">`</span><span class="nx">Example</span> <span class="nx">page</span><span class="err">`</span>
    <span class="p">.</span><span class="nx">page</span> <span class="err">`</span><span class="nx">http</span><span class="err">:</span><span class="c1">//devexpress.github.io/testcafe/example/`;</span>

<span class="nx">test</span><span class="p">(</span><span class="s1">'My test'</span><span class="p">,</span> <span class="nx">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">osCount</span>            <span class="o">=</span> <span class="nx">Selector</span><span class="p">(</span><span class="s1">'.column.col-2 label'</span><span class="p">).</span><span class="nx">count</span><span class="p">;</span>
    <span class="kr">const</span> <span class="nx">submitButtonExists</span> <span class="o">=</span> <span class="nx">Selector</span><span class="p">(</span><span class="s1">'#submit-button'</span><span class="p">).</span><span class="nx">exists</span><span class="p">;</span>

    <span class="nx">await</span> <span class="nx">t</span>
        <span class="p">.</span><span class="nx">expect</span><span class="p">(</span><span class="nx">osCount</span><span class="p">).</span><span class="nx">eql</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">expect</span><span class="p">(</span><span class="nx">submitButtonExists</span><span class="p">).</span><span class="nx">ok</span><span class="p">();</span>
<span class="p">});</span>
</code></pre></div>
<p>Note that selector property getters are asynchronous.</p>
<h3><a class="anchor" name="obtain-element-state"></a>Obtain Element State <a class="permalink" href="#obtain-element-state">#</a></h3>
<p>Selectors and promises returned by selectors expose API to get the state (size, position, classes, etc.) of the matching element.
See <a href="./dom-node-state.html">DOM Node State</a>. Note that these methods and property getters
are asynchronous, so use <code>await</code> to obtain an element&#39;s property.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">headerText</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">Selector</span><span class="p">(</span><span class="s1">'#header'</span><span class="p">).</span><span class="nx">textContent</span><span class="p">;</span>
</code></pre></div>
<p><strong>Example</strong></p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">import</span> <span class="p">{</span> <span class="nx">Selector</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'testcafe'</span><span class="p">;</span>

<span class="nx">fixture</span> <span class="err">`</span><span class="nx">My</span> <span class="nx">fixture</span><span class="err">`</span>
    <span class="p">.</span><span class="nx">page</span><span class="p">(</span><span class="s1">'http://devexpress.github.io/testcafe/example/'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">windowsInput</span> <span class="o">=</span> <span class="nx">Selector</span><span class="p">(</span><span class="s1">'#windows'</span><span class="p">);</span>

<span class="nx">test</span><span class="p">(</span><span class="s1">'Obtain Element State'</span><span class="p">,</span> <span class="nx">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">await</span> <span class="nx">t</span><span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="nx">windowsInput</span><span class="p">);</span>

    <span class="kr">const</span> <span class="nx">windowsInputChecked</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">windowsInput</span><span class="p">.</span><span class="nx">checked</span><span class="p">;</span> <span class="c1">// returns true</span>
<span class="p">});</span>
</code></pre></div><h4><a class="anchor" name="dom-node-snapshot"></a>DOM Node Snapshot <a class="permalink" href="#dom-node-snapshot">#</a></h4>
<p>If you need to get the entire DOM element state, call the selector
with the <code>await</code> keyword like you would do with regular async functions.
It returns a <em>DOM Node Snapshot</em> that contains <a href="dom-node-state.html">all property values</a>
exposed by the selector in a single object.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">import</span> <span class="p">{</span> <span class="nx">Selector</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'testcafe'</span><span class="p">;</span>

<span class="nx">fixture</span> <span class="err">`</span><span class="nx">My</span> <span class="nx">fixture</span><span class="err">`</span>
    <span class="p">.</span><span class="nx">page</span> <span class="err">`</span><span class="nx">http</span><span class="err">:</span><span class="c1">//devexpress.github.io/testcafe/example/`;</span>

<span class="nx">test</span><span class="p">(</span><span class="s1">'DOM Node Snapshot'</span><span class="p">,</span> <span class="nx">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">sliderHandle</span>        <span class="o">=</span> <span class="nx">Selector</span><span class="p">(</span><span class="s1">'#slider'</span><span class="p">).</span><span class="nx">child</span><span class="p">(</span><span class="s1">'span'</span><span class="p">);</span>
    <span class="kr">const</span> <span class="nx">sliderHandleSnaphot</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">sliderHandle</span><span class="p">();</span>

    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">sliderHandleSnaphot</span><span class="p">.</span><span class="nx">hasClass</span><span class="p">(</span><span class="s1">'ui-slider-handle'</span><span class="p">));</span>    <span class="c1">// =&gt; true</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">sliderHandleSnaphot</span><span class="p">.</span><span class="nx">childElementCount</span><span class="p">);</span>               <span class="c1">// =&gt; 0</span>
<span class="p">});</span>
</code></pre></div>
<p>Note that if a selector initializer has several matching DOM nodes on the page,
the selector returns the first node from the matching set.</p>
<blockquote><div class="blockquote-content"><p>It&#39;s not recommended to pass DOM Node Snapshot&#39;s properties
to <a href="../assertions/">built-in assertions</a> to check the state of the element.
To enable <a href="../assertions/#smart-assertion-query-mechanism">Smart Assertion Query Mechanism</a>
pass <a href="./dom-node-state.html#members-common-across-all-nodes">selector&#39;s properties</a> to assertions instead.</p>
</div></blockquote><h3><a class="anchor" name="define-action-targets"></a>Define Action Targets <a class="permalink" href="#define-action-targets">#</a></h3>
<p>You can pass selectors to <a href="../actions/">test actions</a> to use the returned element as the action target.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">import</span> <span class="p">{</span> <span class="nx">Selector</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'testcafe'</span><span class="p">;</span>

<span class="nx">fixture</span> <span class="err">`</span><span class="nx">My</span> <span class="nx">fixture</span><span class="err">`</span>
    <span class="p">.</span><span class="nx">page</span> <span class="err">`</span><span class="nx">http</span><span class="err">:</span><span class="c1">//devexpress.github.io/testcafe/example/`;</span>

<span class="kr">const</span> <span class="nx">label</span> <span class="o">=</span> <span class="nx">Selector</span><span class="p">(</span><span class="s1">'#tried-section'</span><span class="p">).</span><span class="nx">child</span><span class="p">(</span><span class="s1">'label'</span><span class="p">);</span>

<span class="nx">test</span><span class="p">(</span><span class="s1">'My Test'</span><span class="p">,</span> <span class="nx">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">await</span> <span class="nx">t</span><span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="nx">label</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p>DOM element snapshots can also be passed to test actions.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">import</span> <span class="p">{</span> <span class="nx">Selector</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'testcafe'</span><span class="p">;</span>

<span class="nx">fixture</span> <span class="err">`</span><span class="nx">My</span> <span class="nx">fixture</span><span class="err">`</span>
    <span class="p">.</span><span class="nx">page</span> <span class="err">`</span><span class="nx">http</span><span class="err">:</span><span class="c1">//devexpress.github.io/testcafe/example/`;</span>

<span class="kr">const</span> <span class="nx">label</span> <span class="o">=</span> <span class="nx">Selector</span><span class="p">(</span><span class="s1">'#tried-section'</span><span class="p">).</span><span class="nx">child</span><span class="p">(</span><span class="s1">'label'</span><span class="p">);</span>

<span class="nx">test</span><span class="p">(</span><span class="s1">'My Test'</span><span class="p">,</span> <span class="nx">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">labelSnapshot</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">label</span><span class="p">();</span>

    <span class="nx">await</span> <span class="nx">t</span><span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="nx">labelSnapshot</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p>In this instance, the selector that was used to fetch this snapshot will be called once again.</p>

<p>Before executing an action, TestCafe waits for the target element to appear
in the DOM and become visible. If this does not happen
within the <a href="#selector-timeout">selector timeout</a>, the test fails.</p>

<p>Note that if a selector initializer has multiple matching DOM nodes on the page, the action will be executed only for the first node from the matching set.</p>
<h3><a class="anchor" name="define-assertion-actual-value"></a>Define Assertion Actual Value <a class="permalink" href="#define-assertion-actual-value">#</a></h3>
<p>You can check whether a particular DOM node has an expected state by passing a selector property directly to <a href="../assertions/">assertions</a>.
In this case TestCafe enables <a href="../assertions/#smart-assertion-query-mechanism">Smart Assertion Query Mechanism</a> to avoid accidental errors and unstable tests.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">import</span> <span class="p">{</span> <span class="nx">Selector</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'testcafe'</span><span class="p">;</span>

<span class="nx">fixture</span> <span class="err">`</span><span class="nx">My</span> <span class="nx">fixture</span><span class="err">`</span>
    <span class="p">.</span><span class="nx">page</span> <span class="err">`</span><span class="nx">http</span><span class="err">:</span><span class="c1">//devexpress.github.io/testcafe/example/`;</span>

<span class="nx">test</span><span class="p">(</span><span class="s1">'Assertion with Selector'</span><span class="p">,</span> <span class="nx">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">developerNameInput</span> <span class="o">=</span> <span class="nx">Selector</span><span class="p">(</span><span class="s1">'#developer-name'</span><span class="p">);</span>

    <span class="nx">await</span> <span class="nx">t</span>
        <span class="p">.</span><span class="nx">expect</span><span class="p">(</span><span class="nx">developerNameInput</span><span class="p">.</span><span class="nx">innerText</span><span class="p">).</span><span class="nx">eql</span><span class="p">(</span><span class="s1">''</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">typeText</span><span class="p">(</span><span class="nx">developerNameInput</span><span class="p">,</span> <span class="s1">'Peter'</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">expect</span><span class="p">(</span><span class="nx">developerNameInput</span><span class="p">.</span><span class="nx">innerText</span><span class="p">).</span><span class="nx">eql</span><span class="p">(</span><span class="s1">'Peter'</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p>In this example the <code>developerNameInput.innerText</code> property will not be
calculated immediately, but it will wait until the assertion is executed.</p>
<h3><a class="anchor" name="selector-timeout"></a>Selector Timeout <a class="permalink" href="#selector-timeout">#</a></h3>
<p>When a selector is called in test code, TestCafe waits for the target node to appear
in the DOM within the <em>selector timeout</em>.</p>

<p>You can specify the selector timeout in test code by using the <a href="selector-options.html#optionstimeout">timeout</a> option.
To set this timeout when launching tests, pass it to the <a href="../../using-testcafe/programming-interface/runner.html#run">runner.run</a>
method if you use API or specify the <a href="../../using-testcafe/command-line-interface.html#--selector-timeout-ms">selector-timeout</a> option
if you run TestCafe from the command line.</p>

<p>Within the selector timeout, the selector is executed over and over again, until it returns a
DOM node or the timeout exceeds.</p>

<p>Note that you can additionally require that the node returned by the selector is visible.
To do this, use the <a href="selector-options.html#optionsvisibilitycheck">visibilityCheck</a> option.</p>
<h2><a class="anchor" name="extending-selectors"></a>Extending Selectors <a class="permalink" href="#extending-selectors">#</a></h2>
<p>TestCafe allows you to extend <a href="#obtain-element-state">element state</a> with custom properties and methods executed on the client side.</p>
<h3><a class="anchor" name="custom-properties"></a>Custom Properties <a class="permalink" href="#custom-properties">#</a></h3>
<p>To add custom properties, use the selector&#39;s <code>addCustomDOMProperties</code> method.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">Selector().addCustomDOMProperties({
    property1: fn1,
    property2: fn2,
    /* ... */
});
</code></pre></div>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>property1</code>, <code>property2</code>, ...</td>
<td>String</td>
<td>Property names.</td>
</tr>
<tr>
<td><code>fn1</code>, <code>fn2</code>, ...</td>
<td>Function</td>
<td>Functions that calculate property values. Executed on the client side in the browser.</td>
</tr>
</tbody></table>

<p>Functions that calculate property values (<code>fn1</code>, <code>fn2</code>, ...) take the following parameters.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>node</code></td>
<td>Object</td>
<td>The DOM node.</td>
</tr>
</tbody></table>

<p><strong>Example</strong></p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">import</span> <span class="p">{</span> <span class="nx">Selector</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'testcafe'</span><span class="p">;</span>

<span class="nx">fixture</span> <span class="err">`</span><span class="nx">My</span> <span class="nx">fixture</span><span class="err">`</span>
    <span class="p">.</span><span class="nx">page</span> <span class="err">`</span><span class="nx">https</span><span class="err">:</span><span class="c1">//devexpress.github.io/testcafe/example/`;</span>

<span class="nx">test</span><span class="p">(</span><span class="s1">'Check Label HTML'</span><span class="p">,</span> <span class="nx">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">label</span> <span class="o">=</span> <span class="nx">Selector</span><span class="p">(</span><span class="s1">'label'</span><span class="p">).</span><span class="nx">addCustomDOMProperties</span><span class="p">({</span>
        <span class="na">innerHTML</span><span class="p">:</span> <span class="nx">el</span> <span class="o">=&gt;</span> <span class="nx">el</span><span class="p">.</span><span class="nx">innerHTML</span>
    <span class="p">});</span>

    <span class="nx">await</span> <span class="nx">t</span><span class="p">.</span><span class="nx">expect</span><span class="p">(</span><span class="nx">label</span><span class="p">.</span><span class="nx">innerHTML</span><span class="p">).</span><span class="nx">contains</span><span class="p">(</span><span class="s1">'input type="checkbox" name="remote"'</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p>If you use TypeScript, declare a Selector interface extension with your custom properties:</p>

<!--
The `redcarpet` library ignores `ts` code and renders it as a plain text without code highligting.
We can't use `js` here too. It's rendered wrong because of the type casting syntax. `csharp` looks
ok for TypeScript code highlighting so we'll use it until we are not fixed the problem with `redcarpet`.
-->
<div class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">interface</span> <span class="n">CustomSelector</span> <span class="n">extends</span> <span class="n">Selector</span> <span class="p">{</span>
    <span class="n">innerHTML</span><span class="p">:</span> <span class="n">Promise</span><span class="p">&lt;</span><span class="n">any</span><span class="p">&gt;;</span>
<span class="p">}</span>

<span class="k">interface</span> <span class="n">CustomSnapshot</span> <span class="n">extends</span> <span class="n">NodeSnapshot</span> <span class="p">{</span>
    <span class="n">innerHTML</span><span class="p">:</span> <span class="kt">string</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// via selector property
</span><span class="k">const</span> <span class="n">label</span> <span class="p">=</span> <span class="p">&lt;</span><span class="n">CustomSelector</span><span class="p">&gt;</span><span class="nf">Selector</span><span class="p">(</span><span class="err">'</span><span class="n">label</span><span class="err">'</span><span class="p">).</span><span class="nf">addCustomDOMProperties</span><span class="p">({</span>
    <span class="n">innerHTML</span><span class="p">:</span> <span class="n">el</span> <span class="p">=&gt;</span> <span class="n">el</span><span class="p">.</span><span class="n">innerHTML</span>
<span class="p">});</span>

<span class="k">await</span> <span class="n">t</span><span class="p">.</span><span class="nf">expect</span><span class="p">(</span><span class="n">label</span><span class="p">.</span><span class="n">innerHTML</span><span class="p">).</span><span class="nf">contains</span><span class="p">(</span><span class="err">'</span><span class="n">input</span> <span class="n">type</span><span class="p">=</span><span class="s">"checkbox"</span> <span class="n">name</span><span class="p">=</span><span class="s">"remote"</span><span class="err">'</span><span class="p">);</span>

<span class="c1">// via element snapshot
</span><span class="k">const</span> <span class="n">labelSnapshot</span> <span class="p">=</span> <span class="p">&lt;</span><span class="n">CustomSnapshot</span><span class="p">&gt;</span><span class="k">await</span> <span class="nf">label</span><span class="p">();</span>

<span class="k">await</span> <span class="n">t</span><span class="p">.</span><span class="nf">expect</span><span class="p">(</span><span class="n">labelSnapshot</span><span class="p">.</span><span class="n">innerHTML</span><span class="p">).</span><span class="nf">contains</span><span class="p">(</span><span class="err">'</span><span class="n">input</span> <span class="n">type</span><span class="p">=</span><span class="s">"checkbox"</span> <span class="n">name</span><span class="p">=</span><span class="s">"remote"</span><span class="err">'</span><span class="p">);</span>
</code></pre></div><h3><a class="anchor" name="custom-methods"></a>Custom Methods <a class="permalink" href="#custom-methods">#</a></h3>
<p>To add custom methods, use the <code>addCustomMethods</code> method.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">Selector().addCustomMethods({
    method1: fn1,
    method2: fn2,
    /* ... */
});
</code></pre></div>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>method1</code>, <code>method2</code>, ...</td>
<td>String</td>
<td>Method names.</td>
</tr>
<tr>
<td><code>fn1</code>, <code>fn2</code>, ...</td>
<td>Function</td>
<td>Functions that contain method code. Executed on the client side in the browser.</td>
</tr>
</tbody></table>

<p>Functions that contain method code (<code>fn1</code>, <code>fn2</code>, ...) take the following parameters.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>node</code></td>
<td>Object</td>
<td>The DOM node.</td>
</tr>
<tr>
<td><code>param1</code>, <code>param2</code>, ...</td>
<td>Any</td>
<td>Method parameters.</td>
</tr>
</tbody></table>

<p>The <code>addCustomMethods</code> function also adds the specified methods to the <a href="#obtain-element-state">element state</a> returned by the selector.</p>

<p><strong>Example</strong></p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">myTable</span> <span class="o">=</span> <span class="nx">Selector</span><span class="p">(</span><span class="s1">'.my-table'</span><span class="p">).</span><span class="nx">addCustomMethods</span><span class="p">({</span>
    <span class="na">getCellText</span><span class="p">:</span> <span class="p">(</span><span class="nx">table</span><span class="p">,</span> <span class="nx">rowIndex</span><span class="p">,</span> <span class="nx">columnIndex</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">table</span><span class="p">.</span><span class="nx">rows</span><span class="p">[</span><span class="nx">rowIndex</span><span class="p">].</span><span class="nx">cells</span><span class="p">[</span><span class="nx">columnIndex</span><span class="p">].</span><span class="nx">innerText</span><span class="p">;</span>
    <span class="p">};</span>
<span class="p">});</span>

<span class="nx">await</span> <span class="nx">t</span><span class="p">.</span><span class="nx">expect</span><span class="p">(</span><span class="nx">myTable</span><span class="p">.</span><span class="nx">getCellText</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)).</span><span class="nx">contains</span><span class="p">(</span><span class="s1">'hey!'</span><span class="p">);</span>
</code></pre></div>
<p>If you use TypeScript, declare a Selector interface extension with your custom methods:</p>

<!--
The `redcarpet` library ignores `ts` code and renders it as a plain text without code highligting.
We can't use `js` here too. It's rendered wrong because of the type casting syntax. `csharp` looks
ok for TypeScript code highlighting so we'll use it until we are not fixed the problem with `redcarpet`.
-->
<div class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">interface</span> <span class="n">CustomSelector</span> <span class="n">extends</span> <span class="n">Selector</span> <span class="p">{</span>
    <span class="nf">getCellText</span><span class="p">(</span><span class="n">rowIndex</span><span class="p">:</span> <span class="n">number</span><span class="p">,</span> <span class="n">columnIndex</span><span class="p">:</span> <span class="n">number</span><span class="p">):</span> <span class="n">Promise</span><span class="p">&lt;</span><span class="n">any</span><span class="p">&gt;;</span>
<span class="p">}</span>

<span class="k">const</span> <span class="n">myTable</span> <span class="p">=</span> <span class="p">&lt;</span><span class="n">CustomSelector</span><span class="p">&gt;</span><span class="nf">Selector</span><span class="p">(</span><span class="err">'#</span><span class="n">customers</span><span class="err">'</span><span class="p">).</span><span class="nf">addCustomMethods</span><span class="p">({</span>
    <span class="n">getCellText</span><span class="p">:</span> <span class="p">(</span><span class="n">table</span><span class="p">:</span> <span class="n">HTMLTableElement</span><span class="p">,</span> <span class="n">rowIndex</span><span class="p">:</span> <span class="n">number</span><span class="p">,</span> <span class="n">columnIndex</span><span class="p">:</span> <span class="n">number</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">table</span><span class="p">.</span><span class="n">rows</span><span class="p">[</span><span class="n">rowIndex</span><span class="p">].</span><span class="n">cells</span><span class="p">[</span><span class="n">columnIndex</span><span class="p">].</span><span class="n">innerText</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">});</span>

<span class="k">await</span> <span class="n">t</span><span class="p">.</span><span class="nf">expect</span><span class="p">(</span><span class="n">myTable</span><span class="p">.</span><span class="nf">getCellText</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">1</span><span class="p">)).</span><span class="nf">contains</span><span class="p">(</span><span class="err">'</span><span class="n">hey</span><span class="p">!</span><span class="err">'</span><span class="p">);</span>
</code></pre></div><h2><a class="anchor" name="calling-selectors-from-nodejs-callbacks"></a>Calling Selectors from Node.js Callbacks <a class="permalink" href="#calling-selectors-from-nodejs-callbacks">#</a></h2>
<p>Selectors need access to the <a href="../test-code-structure.html#test-controller">test controller</a> to be executed.
When called right from the test function, they implicitly obtain the test controller.</p>

<p>However, if you need to call a selector from a Node.js callback that fires during the test run,
you have to manually bind it to the test controller.</p>

<p>Use the <a href="selector-options.html#optionsboundtestrun">boundTestRun</a> option for this.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">import</span> <span class="p">{</span> <span class="nx">http</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'http'</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">Selector</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'testcafe'</span><span class="p">;</span>

<span class="nx">fixture</span> <span class="err">`</span><span class="nx">My</span> <span class="nx">fixture</span><span class="err">`</span>
    <span class="p">.</span><span class="nx">page</span> <span class="err">`</span><span class="nx">http</span><span class="err">:</span><span class="c1">//www.example.com/`;</span>

<span class="kr">const</span> <span class="nx">elementWithId</span> <span class="o">=</span> <span class="nx">Selector</span><span class="p">(</span><span class="nx">id</span> <span class="o">=&gt;</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="nx">id</span><span class="p">));</span>

<span class="nx">test</span><span class="p">(</span><span class="s1">'Title changed'</span><span class="p">,</span> <span class="nx">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">boundSelector</span> <span class="o">=</span> <span class="nx">elementWithId</span><span class="p">.</span><span class="kd">with</span><span class="p">({</span> <span class="na">boundTestRun</span><span class="p">:</span> <span class="nx">t</span> <span class="p">});</span>

    <span class="c1">// Performs an HTTP request that changes the article title on the page.</span>
    <span class="c1">// Resolves to a value indicating whether the title has been changed.</span>
    <span class="kr">const</span> <span class="nx">match</span> <span class="o">=</span> <span class="nx">await</span> <span class="k">new</span> <span class="nx">Promise</span><span class="p">(</span><span class="nx">resolve</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="kr">const</span> <span class="nx">req</span> <span class="o">=</span> <span class="nx">http</span><span class="p">.</span><span class="nx">request</span><span class="p">(</span><span class="cm">/* request options */</span><span class="p">,</span> <span class="nx">res</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="k">if</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">statusCode</span> <span class="o">===</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">boundSelector</span><span class="p">(</span><span class="s1">'article-title'</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">titleEl</span> <span class="o">=&gt;</span> <span class="p">{</span>
                    <span class="nx">resolve</span><span class="p">(</span><span class="nx">titleEl</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">===</span> <span class="s1">'New title'</span><span class="p">);</span>
                <span class="p">});</span>
            <span class="p">}</span>
        <span class="p">});</span>

        <span class="nx">req</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="nx">title</span><span class="p">)</span>
        <span class="nx">req</span><span class="p">.</span><span class="nx">end</span><span class="p">();</span>
    <span class="p">});</span>

    <span class="nx">await</span> <span class="nx">t</span><span class="p">.</span><span class="nx">expect</span><span class="p">(</span><span class="nx">match</span><span class="p">).</span><span class="nx">ok</span><span class="p">();</span>
<span class="p">});</span>
</code></pre></div>
<p>This approach only works for Node.js callbacks that fire during the test run. To ensure that the test function
does not finish before the callback is executed, suspend the test until the callback fires. You can do this
by introducing a promise and synchronously waiting for it to complete as shown in the example above.</p>
<h2><a class="anchor" name="limitations"></a>Limitations <a class="permalink" href="#limitations">#</a></h2>
<ul>
<li><p>You cannot use generators or <code>async/await</code> syntax within selectors.</p></li>
<li><p>Selectors cannot access variables defined in the outer scope in test code.
However, you can use arguments to pass data inside the selectors, except for those that are self-invoked.
They cannot take any parameters from the outside.</p>

<p>Likewise, the return value is the only way to obtain data from selectors.</p></li>
</ul>


		</div>
		<div class="widget-container hidden">
			<div id="share-button">
				<div id="graph-icon">
					<img src="/testcafe/images/icon-share.svg"/>
				</div>
				<p>TELL<br/>YOUR<br/>FRIENDS</p>
			</div>
			<div class="widget-panel">
				<div id="tweet">
					<a href="https://twitter.com/intent/tweet?text=Check%20out%20%23TestCafe%20-%20a%20free%20node.js%20tool%20for%20e2e%20testing%20https%3A%2F%2Fdevexpress.github.io%2Ftestcafe%2F"
					onclick="return !window.open(this.href, 'Twitter', 'width=690,height=450')"
					target="_blank">
						<img src="/testcafe/images/icon-tweet.svg"/>
					</a>
				</div>
				<div id="facebook">
					<a href="https://www.facebook.com/sharer/sharer.php?u=https://devexpress.github.io/testcafe/"
					onclick="return !window.open(this.href, 'Facebook', 'width=500,height=500')"
					target="_blank">
						<image src="/testcafe/images/icon-facebook.svg"/>
					</a>
				</div>
				<div id="collapse">
					<img src="/testcafe/images/icon-close.svg"/>
				</div>
			</div>
		</div>
	</article>
</main>
</div>

      <div class="push"></div>
    </div>

    <footer class="site-footer">
    <div class="site-footer-content">
        <div class="footer-col-1">
            <p><strong>TestCafe</strong>: Automated browser testing for the modern web development stack<br/>
            Copyright © 2012-2017 Developer Express Inc.</p>
        </div>
    </div>
</footer>


    <script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
     <script type="text/javascript"> var search = docsearch({
          apiKey: '938fb7894c0af8c01af3e2b4c53d4bdd',
          indexName: 'testcafe',
          inputSelector: '#search',
          debug: false // Set debug to true if you want to inspect the dropdown
      });

      search.autocomplete.on('autocomplete:opened', function(e) {
          var searchInput = document.querySelector('#search');
          var dropdown    = document.querySelector('.ds-dropdown-menu');
          
          if(searchInput && dropdown) {
              dropdown.style.maxWidth = "none";
              dropdown.style.width = searchInput.offsetWidth + "px";
          }
      });
    </script> 

  </body>

</html>
