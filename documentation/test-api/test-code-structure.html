<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <title>Test Code Structure | TestCafe</title>

  <meta name="description" content="">
  <meta name="viewport" content="width=device-width">
  
  <meta property="og:image" content="https://raw.githubusercontent.com/DevExpress/testcafe-gh-page-assets/master/src/images/testcafe-ogp-icon.png">
  <meta property="og:type" content="website" />
  <meta property="og:url" content="http://devexpress.github.io/testcafe/documentation/test-api/test-code-structure.html" />
  <meta property="og:title" content="Test Code Structure | TestCafe" />

  <link rel="shortcut icon" href="/testcafe/favicon.ico">
  <link rel="stylesheet" href="/testcafe/css/main.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.0.0/styles/docco.min.css">
  <link rel="canonical" href="http://devexpress.github.io/testcafe/documentation/test-api/test-code-structure.html">
  <link rel="alternate" type="application/rss+xml" title="TestCafe" href="http://devexpress.github.io/testcafe/feed.xml">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.0.0/highlight.min.js"></script>
  <script defer src="https://buttons.github.io/buttons.js"></script>
  <script defer type="text/javascript" src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-2.2.3.min.js"></script>
  <script src="/testcafe/scripts/mobile-detect.min.js" type="text/javascript"></script>
  <script>
      document.addEventListener('DOMContentLoaded', function (e) {
          hljs.initHighlightingOnLoad();
      });
  </script>

  
  <script>
    // Google Analytics
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-83678642-1', 'auto');
    ga('send', 'pageview');
  </script>
  

  
  
  

  <script>
    (function () {
        var VISIT_DAY = {
            first: 1,
            second: 2,
            more: 3
        };

        var isLandingPage = false;
        var isGettingStarted = false;
        var isDocumentation = true;

        function updateVisitDay () {
            var FIRST_VISIT_DAY_ITEM_NAME = 'first-visit-day';
            var SECOND_VISIT_DAY_ITEM_NAME = 'second-visit-day';
            var DIFFERENT_VISITS_DELAY = 12 * 60 * 60 * 1000; 
            
            // TODO: ignore old visits
            var now = Date.now();
            var firstVisit = window.localStorage.getItem(FIRST_VISIT_DAY_ITEM_NAME);
            var secondVisit = window.localStorage.getItem(SECOND_VISIT_DAY_ITEM_NAME);

            if(!firstVisit) {
                window.localStorage.setItem(FIRST_VISIT_DAY_ITEM_NAME, now);
                return VISIT_DAY.first;
            }

            firstVisit = parseInt(firstVisit);

            if(!secondVisit) {
                if(!isLandingPage && now - firstVisit >=DIFFERENT_VISITS_DELAY) {
                    window.localStorage.setItem(SECOND_VISIT_DAY_ITEM_NAME, now);
                    return VISIT_DAY.second;
                }

                return VISIT_DAY.first;
            }
            
            secondVisit = parseInt(secondVisit);

            return now - secondVisit >= DIFFERENT_VISITS_DELAY ? VISIT_DAY.more : VISIT_DAY.second;
        }

        window.needShowShareWidget = function () {
            if(!isDocumentation || isGettingStarted)
                return false;

            var visitDay = updateVisitDay();

            return visitDay === VISIT_DAY.more;
        };
    })();
  </script>

  

  
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery.perfect-scrollbar/0.6.12/css/perfect-scrollbar.min.css">
    <style>
        .ps-container > .ps-scrollbar-x-rail,
        .ps-container > .ps-scrollbar-y-rail {
            opacity: 0.6;
        }
    </style>
    <script defer type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery.perfect-scrollbar/0.6.12/js/perfect-scrollbar.min.js"></script>
    <script defer type="text/javascript" src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-2.2.3.min.js"></script>
    <script defer src="/testcafe/scripts/widget.js" type="text/javascript"></script>

    <script>
        var MIN_BODY_WIDTH = 1230;
        var FOOTER_HEIGHT  = 113;
        var HEADER_HEIGHT  = 126;

        var nav            = null;
        var article        = null;
        var md             = new MobileDetect(window.navigator.userAgent);
        var isMobileDevice = !!md.mobile();

        function setNavTopPosition () {
            var isMobileZoomed = isMobileDevice && window.innerWidth !== document.body.scrollWidth;
            var top            = null;

            if(isMobileDevice) {
                top = window.pageYOffset >= HEADER_HEIGHT ? window.pageYOffset - HEADER_HEIGHT + 'px' : '0';

                if (nav.style.paddingTop !== top) {
                    nav.style.paddingTop = top;
                    Ps.update(nav);
                }

                return;
            }

            if (document.body.clientWidth > MIN_BODY_WIDTH) {
                if (nav.style.top !== HEADER_HEIGHT + 'px') {
                    nav.style.top = HEADER_HEIGHT + 'px';
                    Ps.update(nav);
                }
            }
            else if(!isMobileZoomed) {
                top = window.pageYOffset <= HEADER_HEIGHT ? HEADER_HEIGHT - window.pageYOffset + 'px' : '0';

                if (nav.style.top !== top) {
                    nav.style.top = top;
                    Ps.update(nav);
                }
            }
        }

        function setNavBottomPosition () {
            var footerVisibleHeight = FOOTER_HEIGHT - document.body.scrollHeight + window.pageYOffset +
                                      document.body.clientHeight;

            if (footerVisibleHeight > 0) {
                if (nav.style.bottom !== footerVisibleHeight + 'px') {
                    nav.style.bottom = footerVisibleHeight + 'px';
                    Ps.update(nav);
                }
            }
            else if (nav.style.bottom !== '0') {
                nav.style.bottom = '0';
                Ps.update(nav);
            }
        }

        function updatePosition () {
            if (isMobileDevice)
                changeBodyHeight();
            else
                nav.style.marginLeft = '-' + window.pageXOffset + 'px';

            setNavBottomPosition();
            setNavTopPosition();
        }

        function changeBodyHeight () {
            if (document.body.style.height !== window.innerHeight + 'px')
                document.body.style.height = window.innerHeight + 'px';
        }

        function initScrollBar() {
            Ps.initialize(nav);

            window.addEventListener('resize', function () {
                Ps.update(nav);
            });
        }

        function initNav() {
            if(isMobileDevice) {
                nav.style.position = 'relative';
                nav.style.float = 'left';
                nav.style.top = '0px';

                article.style.marginTop = '0px';
                article.style.paddingTop = '22px';
            }

            initScrollBar();
            updatePosition();
            window.addEventListener('scroll', updatePosition);
            window.addEventListener('resize', updatePosition);

            if(isMobileDevice) {
                nav.style.height = window.innerHeight + 'px';
            }
        }

        document.addEventListener('DOMContentLoaded', function (e) {
            nav     = document.querySelector('.doc-nav');
            article = document.querySelector('.doc');

            if(nav)
                initNav(nav);
        });
    </script>
  
    <script>
        function initHeader(siteHeader, contentWrapper, docTopMenu, article, gs) {
            var MIN_BODY_WIDTH = 1230;

            function updateHeader() {
                var bodyMinimized = document.body.clientWidth === MIN_BODY_WIDTH;

                

                siteHeader.style.position = bodyMinimized ? 'static' : '';

                if(docTopMenu)
                    docTopMenu.style.position = bodyMinimized ? 'static' : '';

                if(contentWrapper)
                    contentWrapper.style.paddingTop = bodyMinimized ? '0' : '';

                if(article)
                    article.style.marginTop = bodyMinimized ? '21px' : '72px';
 
                if(gs)
                    gs.style.paddingTop = bodyMinimized ? '21px' : '72px';
            }

            updateHeader();
            window.addEventListener('scroll', updateHeader);
            window.addEventListener('resize', updateHeader);
        }
        document.addEventListener('DOMContentLoaded', function (e) {
            var contentWrapper = document.querySelector('.container');
            var siteHeader     = document.querySelector('.site-header');
            var docTopMenu     = document.querySelector('.doc-top-nav');
            var article        = document.querySelector('.doc');
            var gs             = document.querySelector('.gs');

            if(siteHeader) 
                initHeader(siteHeader, contentWrapper, docTopMenu, article, gs);
        });
    </script>
</head>


  <body>
    <div class="page-content-wrapper">

      <header class="site-header fixed">
  <div class="site-header-content">
    <a class="site-logo" href="/testcafe/"></a>
    <nav class="site-nav">
        
          
          <div class="site-nav-tab active">
            <a class="page-link" href="/testcafe/documentation/getting-started/">Documentation</a>
          </div>
        
          
          <div class="site-nav-tab ">
            <a class="page-link" href="https://github.com/DevExpress/testcafe" target="_blank">GitHub</a>
          </div>
        
          
          <div class="site-nav-tab ">
            <a class="page-link" href="/testcafe/faq/">FAQ</a>
          </div>
        
          
          <div class="site-nav-tab ">
            <a class="page-link" href="/testcafe/publications/">Publications</a>
          </div>
        
          
          <div class="site-nav-tab ">
            <a class="page-link" href="/testcafe/blog/">Release Notes</a>
          </div>
        
          
          <div class="site-nav-tab ">
            <a class="page-link" href="https://github.com/DevExpress/testcafe/issues" target="_blank">Issues</a>
          </div>
        
          
          <div class="site-nav-tab ">
            <a class="page-link" href="https://stackoverflow.com/questions/tagged/testcafe" target="_blank">Q&amp;A</a>
          </div>
        
      <a id="twitter-button" href="https://twitter.com/dxtestcafe" target="_blank"></a>
      <div id="search-icon"></div>
      <div class="star-button">
        <a class="github-button" href="https://github.com/DevExpress/testcafe" data-size="large" data-count-href="/DevExpress/testcafe/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star DevExpress/testcafe on GitHub"><span style="color:#ffffff">Star</span></a>
      </div>
      <div id="search-panel" class="hidden">
          <input type="text" placeholder="Search query" id="search"/>
          <div id="close-search"></div>
      </div>
      </nav>
  </div>
</header>

<script>
  function has(parentEl, el)  {
    var descendants = parentEl.getElementsByTagName('*');
    
    for(i = 0; i < descendants.length; i++) 
        if(descendants[i] === el) return true;

    return false;
  }

  function closeSearchBox(e) {
      var clickOutsideSearchBox = searchPanel !== e.target && !has(searchPanel, e.target);

      if(clickOutsideSearchBox && searchPanel.className.indexOf('hidden') === -1) 
          searchPanel.className += ' hidden';
  }

  var searchButton      = document.querySelector('#search-icon');
  var searchPanel       = document.querySelector('#search-panel');
  var searchInput       = document.querySelector('#search');
  var closeSearchButton = document.querySelector('#close-search');

  searchButton.addEventListener('click', function () {
      searchPanel.className = searchPanel.className.replace(/hidden/,'');
      searchInput.focus();      
  });
  
  closeSearchButton.addEventListener('click', function () {
      searchPanel.className += ' hidden';
  });

  window.addEventListener('mousedown', closeSearchBox);        
  window.addEventListener('touchstart', closeSearchBox);
</script>


  <div class="doc-top-nav">
    <div class="doc-top-nav-content">
      <div class="doc-top-nav-wrapper">
        
          <div class="doc-top-nav-tab " >
            <a href="/testcafe/documentation/getting-started/">Getting Started</a>      
          </div>
        
          <div class="doc-top-nav-tab " >
            <a href="/testcafe/documentation/using-testcafe/">Using TestCafe</a>      
          </div>
        
          <div class="doc-top-nav-tab active" >
            <a href="/testcafe/documentation/test-api/">Test API</a>      
          </div>
        
          <div class="doc-top-nav-tab " >
            <a href="/testcafe/documentation/extending-testcafe/">Extending TestCafe</a>      
          </div>
        
          <div class="doc-top-nav-tab " >
            <a href="/testcafe/documentation/recipes/">Recipes</a>      
          </div>
        
      </div>
    </div>
  </div>



      <div class="container">
    
	
	

	
	

	
	
	<nav class="doc-nav">	
		<div class="doc-nav-content">
			<ul>
				<li>
				<ul>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/typescript-support.html"  >TypeScript Support</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/test-code-structure.html" class="active" >Test Code Structure</a>
		
			<ul>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/test-code-structure.html#fixtures"  >Fixtures</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/test-code-structure.html#tests"  >Tests</a>
		
			<ul>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/test-code-structure.html#test-controller"  >Test Controller</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/test-code-structure.html#setting-test-speed"  >Setting Test Speed</a>
		
    </li>

</ul>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/test-code-structure.html#specifying-the-start-webpage"  >Specifying the Start Webpage</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/test-code-structure.html#specifying-testing-metadata"  >Specifying Testing Metadata</a>
		
			<ul>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/test-code-structure.html#using-metadata-in-reports"  >Using Metadata in Reports</a>
		
    </li>

</ul>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/test-code-structure.html#initialization-and-clean-up"  >Initialization and Clean-Up</a>
		
			<ul>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/test-code-structure.html#test-hooks"  >Test Hooks</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/test-code-structure.html#fixture-hooks"  >Fixture Hooks</a>
		
    </li>

</ul>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/test-code-structure.html#skipping-tests"  >Skipping Tests</a>
		
    </li>

</ul>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/selecting-page-elements/"  >Selecting Page Elements</a>
		
			<ul>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/selecting-page-elements/selectors/"  >Selectors</a>
		
			<ul>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/selecting-page-elements/selectors/creating-selectors.html"  >Creating Selectors</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/selecting-page-elements/selectors/using-selectors.html"  >Using Selectors</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/selecting-page-elements/selectors/functional-style-selectors.html"  >Functional-Style Selectors</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/selecting-page-elements/selectors/selector-options.html"  >Selector Options</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/selecting-page-elements/selectors/extending-selectors.html"  >Extending Selectors</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/selecting-page-elements/selectors/edge-cases-and-limitations.html"  >Edge Cases and Limitations</a>
		
    </li>

</ul>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/selecting-page-elements/dom-node-state.html"  >DOM Node State</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/selecting-page-elements/framework-specific-selectors.html"  >Framework-Specific Selectors</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/selecting-page-elements/examples-of-working-with-dom-elements.html"  >Examples of Working with DOM Elements</a>
		
    </li>

</ul>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/actions/"  >Actions</a>
		
			<ul>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/actions/click.html"  >Click</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/actions/double-click.html"  >Double Click</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/actions/right-click.html"  >Right Click</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/actions/drag-element.html"  >Drag Element</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/actions/hover.html"  >Hover</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/actions/select-text.html"  >Select Text</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/actions/type-text.html"  >Type Text</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/actions/press-key.html"  >Press Key</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/actions/navigate.html"  >Navigate</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/actions/take-screenshot.html"  >Take Screenshot</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/actions/upload.html"  >Upload</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/actions/resize-window.html"  >Resize Window</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/actions/action-options.html"  >Action Options</a>
		
    </li>

</ul>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/assertions/"  >Assertions</a>
		
			<ul>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/assertions/assertion-api.html"  >Assertion API</a>
		
    </li>

</ul>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/obtaining-data-from-the-client/"  >Obtaining Data from the Client</a>
		
			<ul>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/obtaining-data-from-the-client/examples-of-using-client-functions.html"  >Examples of Using Client Functions</a>
		
    </li>

</ul>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/intercepting-http-requests/"  >Intercepting HTTP Requests</a>
		
			<ul>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/intercepting-http-requests/logging-http-requests.html"  >Logging HTTP Requests</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/intercepting-http-requests/mocking-http-responses.html"  >Mocking HTTP Responses</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/intercepting-http-requests/creating-a-custom-http-request-hook.html"  >Creating a Custom HTTP Request Hook</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/intercepting-http-requests/specifying-which-requests-are-handled-by-the-hook.html"  >Specifying Which Requests are Handled by the Hook</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/intercepting-http-requests/attaching-hooks-to-tests-and-fixtures.html"  >Attaching Hooks to Tests and Fixtures</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/intercepting-http-requests/requestoptions-object.html"  >requestOptions Object</a>
		
    </li>

</ul>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/built-in-waiting-mechanisms.html"  >Built-In Waiting Mechanisms</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/authentication/"  >Authentication</a>
		
			<ul>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/authentication/user-roles.html"  >User Roles</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/authentication/http-authentication.html"  >HTTP Authentication</a>
		
    </li>

</ul>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/pausing-the-test.html"  >Pausing the Test</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/handling-native-dialogs.html"  >Handling Native Dialogs</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/working-with-iframes.html"  >Working with &lt;iframes&gt;</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/debugging.html"  >Debugging</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/accessing-console-messages.html"  >Accessing Console Messages</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/a-z.html"  >A-Z Index</a>
		
    </li>

</ul>
				</li>
			</ul>
		</div>
	</nav>
	

	
	

	
	
	


<main>
	<article class="doc">
		<div class="post-content">

			<h1>Test Code Structure</h1>
<p>This topic contains the following sections:</p>

<ul>
<li><a href="#fixtures">Fixtures</a></li>
<li><a href="#tests">Tests</a>

<ul>
<li><a href="#test-controller">Test Controller</a></li>
<li><a href="#setting-test-speed">Setting Test Speed</a></li>
<li><a href="#setting-page-load-timeout">Setting Page Load Timeout</a></li>
</ul></li>
<li><a href="#specifying-the-start-webpage">Specifying the Start Webpage</a></li>
<li><a href="#specifying-testing-metadata">Specifying Testing Metadata</a>

<ul>
<li><a href="#using-metadata-in-reports">Using Metadata in Reports</a></li>
</ul></li>
<li><a href="#initialization-and-clean-up">Initialization and Clean-Up</a>

<ul>
<li><a href="#test-hooks">Test Hooks</a></li>
<li><a href="#sharing-variables-between-test-hooks-and-test-code">Sharing Variables Between Test Hooks and Test Code</a></li>
<li><a href="#fixture-hooks">Fixture Hooks</a></li>
<li><a href="#sharing-variables-between-fixture-hooks-and-test-code">Sharing Variables Between Fixture Hooks and Test Code</a></li>
</ul></li>
<li><a href="#skipping-tests">Skipping Tests</a></li>
</ul>
<blockquote><div class="blockquote-content"><p>If you use <a href="http://eslint.org/">eslint</a> in your project, use  the <a href="https://www.npmjs.com/package/eslint-plugin-testcafe">TestCafe plugin</a>
to avoid the <code>&#39;fixture&#39; is not defined</code> and <code>&#39;test&#39; is not defined</code> errors.</p>
</div></blockquote><h2><a class="anchor" name="fixtures"></a>Fixtures <a class="permalink" href="#fixtures">#</a></h2>
<p>TestCafe tests must be organized into categories called <em>fixtures</em>.
A JavaScript or TypeScript file with TestCafe tests can contain one or more fixtures.</p>

<p>To declare a test fixture, use the <code>fixture</code> function.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">fixture( fixtureName )
fixture `fixtureName`
</code></pre></div>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>fixtureName</code></td>
<td>String</td>
<td>The name of the fixture.</td>
</tr>
</tbody></table>

<p>This function returns the <code>fixture</code> object that allows you to configure the fixture - specify the <a href="#specifying-the-start-webpage">start webpage</a>, <a href="#specifying-testing-metadata">metadata</a> and <a href="#initialization-and-clean-up">initialization and clean-up code</a> for tests included in the fixture.</p>
<blockquote><div class="blockquote-content"><p><a href="#tests">Tests</a> that constitute a fixture go after this declaration.</p>
</div></blockquote><h2><a class="anchor" name="tests"></a>Tests <a class="permalink" href="#tests">#</a></h2>
<p>To introduce a test, call the <code>test</code> function and pass the test code inside it.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">test( testName, fn(t) )
</code></pre></div>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>testName</code></td>
<td>String</td>
<td>The test name.</td>
</tr>
<tr>
<td><code>fn</code></td>
<td>Function</td>
<td>An asynchronous function that contains the test code.</td>
</tr>
<tr>
<td><code>t</code></td>
<td>Object</td>
<td>The <a href="#test-controller">test controller</a> used to access the test run API.</td>
</tr>
</tbody></table>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">fixture</span> <span class="s2">`MyFixture`</span><span class="p">;</span>

<span class="nx">test</span><span class="p">(</span><span class="s1">'Test1'</span><span class="p">,</span> <span class="k">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="cm">/* Test 1 Code */</span>
<span class="p">});</span>

<span class="nx">test</span><span class="p">(</span><span class="s1">'Test2'</span><span class="p">,</span> <span class="k">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="cm">/* Test 2 Code */</span>
<span class="p">});</span>
</code></pre></div>
<p>You can arrange test code in any manner and reference any modules or libraries.</p>

<p>TestCafe tests are executed on the server side. You can use <a href="actions/">test actions</a> to manipulate the tested webpage.
To determine page elements&#39; state or obtain any other data from the client side, use the <a href="selecting-page-elements/selectors/">selectors</a> and
<a href="obtaining-data-from-the-client/">client functions</a>.</p>

<p>To check if the page state matches the expected one, use <a href="assertions/">assertions</a>.</p>
<h3><a class="anchor" name="test-controller"></a>Test Controller <a class="permalink" href="#test-controller">#</a></h3>
<p>A <em>test controller</em> object <code>t</code> exposes the test API&#39;s methods. That is why it is
passed to each function that is expected to contain server-side test code (like <a href="#tests">test</a>,
<a href="#initialization-and-clean-up">beforeEach</a> or <a href="#initialization-and-clean-up">afterEach</a>).</p>

<p>Use the test controller to call <a href="actions/">test actions</a>, handle <a href="handling-native-dialogs.html">browser dialogs</a>,
use the <a href="pausing-the-test.html">wait function</a> or <a href="assertions/">execute assertions</a>.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">fixture</span> <span class="s2">`My fixture`</span>
    <span class="p">.</span><span class="nx">page</span> <span class="s2">`http://www.example.com/`</span><span class="p">;</span>

<span class="nx">test</span><span class="p">(</span><span class="s1">'My Test'</span><span class="p">,</span> <span class="k">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kr">await</span> <span class="nx">t</span>
        <span class="p">.</span><span class="nx">setNativeDialogHandler</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="s1">'#populate'</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="s1">'#submit-button'</span><span class="p">);</span>

    <span class="kd">const</span> <span class="nx">location</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">t</span><span class="p">.</span><span class="kr">eval</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">);</span>

    <span class="kr">await</span> <span class="nx">t</span><span class="p">.</span><span class="nx">expect</span><span class="p">(</span><span class="nx">location</span><span class="p">.</span><span class="nx">pathname</span><span class="p">).</span><span class="nx">eql</span><span class="p">(</span><span class="s1">'/testcafe/example/thank-you.html'</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p>The test controller also provides access to the internal context the test API requires to operate.
This is why <a href="selecting-page-elements/selectors/">selectors</a> and
<a href="obtaining-data-from-the-client/">client functions</a> need the test controller object when they are
called from Node.js callbacks.</p>
<h4><a class="anchor" name="using-test-controller-outside-of-test-code"></a>Using Test Controller Outside of Test Code <a class="permalink" href="#using-test-controller-outside-of-test-code">#</a></h4>
<p>You may sometimes need to call the test API from outside the test code. For instance, your <a href="../recipes/using-page-model.html">page model</a>
can contain methods that perform common operations used in different tests (like authentication).</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="k">import</span> <span class="p">{</span> <span class="nx">Selector</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'testcafe'</span><span class="p">;</span>

<span class="k">export</span> <span class="k">default</span> <span class="kd">class</span> <span class="nx">Page</span> <span class="p">{</span>
    <span class="kd">constructor</span> <span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">loginInput</span>    <span class="o">=</span> <span class="nx">Selector</span><span class="p">(</span><span class="s1">'#login'</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">passwordInput</span> <span class="o">=</span> <span class="nx">Selector</span><span class="p">(</span><span class="s1">'#password'</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">signInButton</span>  <span class="o">=</span> <span class="nx">Selector</span><span class="p">(</span><span class="s1">'#sign-in-button'</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">async</span> <span class="nx">login</span> <span class="p">(</span><span class="nx">t</span><span class="p">)</span> <span class="p">{</span>
        <span class="kr">await</span> <span class="nx">t</span>
            <span class="p">.</span><span class="nx">typeText</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">loginInput</span><span class="p">,</span> <span class="s1">'MyLogin'</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">typeText</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">passwordInput</span><span class="p">,</span> <span class="s1">'Pa$$word'</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">signInButton</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>In this instance, you need to access the test controller from the page model&#39;s <code>login</code> method.</p>

<p>TestCafe allows you to avoid passing the test controller to the method explicitly.
Instead, you can import <code>t</code> to the page model file.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="k">import</span> <span class="p">{</span> <span class="nx">Selector</span><span class="p">,</span> <span class="nx">t</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'testcafe'</span><span class="p">;</span>

<span class="k">export</span> <span class="k">default</span> <span class="kd">class</span> <span class="nx">Page</span> <span class="p">{</span>
    <span class="kd">constructor</span> <span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">loginInput</span>    <span class="o">=</span> <span class="nx">Selector</span><span class="p">(</span><span class="s1">'#login'</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">passwordInput</span> <span class="o">=</span> <span class="nx">Selector</span><span class="p">(</span><span class="s1">'#password'</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">signInButton</span>  <span class="o">=</span> <span class="nx">Selector</span><span class="p">(</span><span class="s1">'#sign-in-button'</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">async</span> <span class="nx">login</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kr">await</span> <span class="nx">t</span>
            <span class="p">.</span><span class="nx">typeText</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">loginInput</span><span class="p">,</span> <span class="s1">'MyLogin'</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">typeText</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">passwordInput</span><span class="p">,</span> <span class="s1">'Pa$$word'</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">signInButton</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>TestCafe implicitly resolves test context and provides the right test controller.</p>
<h3><a class="anchor" name="setting-test-speed"></a>Setting Test Speed <a class="permalink" href="#setting-test-speed">#</a></h3>
<p>TestCafe allows you to specify the test execution speed.</p>

<p>Tests are run at the maximum speed by default. You can use the <code>t.setTestSpeed</code> method
to specify the speed.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">t.setTestSpeed( factor )
</code></pre></div>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>factor</code></td>
<td>Number</td>
<td>Specifies the test speed. Must be a number between <code>1</code> (the fastest) and <code>0.01</code> (the slowest).</td>
</tr>
</tbody></table>

<p>If the speed is also specified for an <a href="actions/action-options.html#basic-action-options">individual action</a>, the action&#39;s speed setting overrides the test speed.</p>

<p><strong>Example</strong></p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="k">import</span> <span class="p">{</span> <span class="nx">Selector</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'testcafe'</span><span class="p">;</span>

<span class="nx">fixture</span> <span class="s2">`Test Speed`</span>
    <span class="p">.</span><span class="nx">page</span> <span class="s2">`http://devexpress.github.io/testcafe/example/`</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">nameInput</span> <span class="o">=</span> <span class="nx">Selector</span><span class="p">(</span><span class="s1">'#developer-name'</span><span class="p">);</span>

<span class="nx">test</span><span class="p">(</span><span class="s2">`Test Speed`</span><span class="p">,</span> <span class="k">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kr">await</span> <span class="nx">t</span>
        <span class="p">.</span><span class="nx">typeText</span><span class="p">(</span><span class="nx">nameInput</span><span class="p">,</span> <span class="s1">'Peter'</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">setTestSpeed</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">typeText</span><span class="p">(</span><span class="nx">nameInput</span><span class="p">,</span> <span class="s1">' Parker'</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><h3><a class="anchor" name="setting-page-load-timeout"></a>Setting Page Load Timeout <a class="permalink" href="#setting-page-load-timeout">#</a></h3>
<p>The page load timeout defines the time passed after the <code>DOMContentLoaded</code> event within which the <code>window.load</code> event should be raised.</p>

<p>After the timeout passes or the <code>window.load</code> event is raised (whichever happens first), TestCafe starts the test.</p>

<p>To specify the page load timeout in test code, use the <code>t.setPageLoadTimeout</code> method.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">t.setPageLoadTimeout( duration )
</code></pre></div>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>duration</code></td>
<td>Number</td>
<td>Page load timeout (in milliseconds). <code>0</code> to skip waiting for the <code>window.load</code> event.</td>
</tr>
</tbody></table>

<p>You can also set the page load timeout when launching tests via the <a href="../using-testcafe/command-line-interface.html#--page-load-timeout-ms">command line</a> or <a href="../using-testcafe/programming-interface/runner.html#run">API</a>.</p>

<p><strong>Example</strong></p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">fixture</span> <span class="s2">`Page load timeout`</span>
    <span class="p">.</span><span class="nx">page</span> <span class="s2">`http://devexpress.github.io/testcafe/example/`</span><span class="p">;</span>

<span class="nx">test</span><span class="p">(</span><span class="s2">`Page load timeout`</span><span class="p">,</span> <span class="k">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kr">await</span> <span class="nx">t</span>
        <span class="p">.</span><span class="nx">setPageLoadTimeout</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">navigateTo</span><span class="p">(</span><span class="s1">'http://devexpress.github.io/testcafe/'</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><blockquote><div class="blockquote-content"><p>Note that the <code>DOMContentLoaded</code> event is raised after the HTML document is loaded and parsed, while <code>window.load</code> is raised after all stylesheets, images and subframes are loaded. That is why <code>window.load</code> is fired after the <code>DOMContentLoaded</code> event with a certain delay.</p>
</div></blockquote><h2><a class="anchor" name="specifying-the-start-webpage"></a>Specifying the Start Webpage <a class="permalink" href="#specifying-the-start-webpage">#</a></h2>
<p>You can specify the web page where all tests in a fixture start using the <code>fixture.page</code> function.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">fixture.page( url )
fixture.page `url`
</code></pre></div>
<p>Similarly, you can specify a start page for individual tests
using the <code>test.page</code> function that overrides the <code>fixture.page</code>.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">test.page( url )
test.page `url`
</code></pre></div>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>url</code></td>
<td>String</td>
<td>The URL of the webpage at which this test starts.</td>
</tr>
</tbody></table>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">fixture</span> <span class="s2">`MyFixture`</span>
    <span class="p">.</span><span class="nx">page</span> <span class="s2">`http://devexpress.github.io/testcafe/example`</span><span class="p">;</span>

<span class="nx">test</span><span class="p">(</span><span class="s1">'Test1'</span><span class="p">,</span> <span class="k">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">// Starts at http://devexpress.github.io/testcafe/example</span>
<span class="p">});</span>

<span class="nx">test</span>
    <span class="p">.</span><span class="nx">page</span> <span class="s2">`http://devexpress.github.io/testcafe/blog/`</span>
    <span class="p">(</span><span class="s1">'Test2'</span><span class="p">,</span> <span class="k">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="c1">// Starts at http://devexpress.github.io/testcafe/blog/</span>
    <span class="p">});</span>
</code></pre></div>
<p>If the start page is not specified, it defaults to <code>about:blank</code>.</p>

<p>You can use the <code>file://</code> scheme or relative paths to test web pages in local directories.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">fixture</span> <span class="s2">`MyFixture`</span>
    <span class="p">.</span><span class="nx">page</span> <span class="s2">`file:///user/my-website/index.html`</span><span class="p">;</span>
</code></pre></div><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">fixture</span> <span class="s2">`MyFixture`</span>
    <span class="p">.</span><span class="nx">page</span> <span class="s2">`../my-project/index.html`</span><span class="p">;</span>
</code></pre></div><h2><a class="anchor" name="specifying-testing-metadata"></a>Specifying Testing Metadata <a class="permalink" href="#specifying-testing-metadata">#</a></h2>
<p>TestCafe allows you to specify additional information for tests in the form of <em>key-value metadata</em> and use it in reports.</p>

<p>To define metadata, use the <code>meta</code> method. You can call this method for a fixture and a test.</p>

<p>The <code>meta</code> method allows you to specify one or several metadata entries:</p>

<ul>
<li><p>Specifying one metadata entry.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">fixture</span><span class="p">.</span><span class="nx">meta</span><span class="p">(</span><span class="s1">'key1'</span><span class="p">,</span> <span class="s1">'value1'</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">test</span><span class="p">.</span><span class="nx">meta</span><span class="p">(</span><span class="s1">'key2'</span><span class="p">,</span> <span class="s1">'value2'</span><span class="p">)</span>
</code></pre></div>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>name</code></td>
<td>String</td>
<td>The name of the metadata entry</td>
</tr>
<tr>
<td><code>value</code></td>
<td>String</td>
<td>The value of the metadata entry</td>
</tr>
</tbody></table></li>
<li><p>Specifying a set of metadata entries.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">fixture</span><span class="p">.</span><span class="nx">meta</span><span class="p">({</span> <span class="na">key1</span><span class="p">:</span> <span class="s1">'value1'</span><span class="p">,</span> <span class="na">key2</span><span class="p">:</span> <span class="s1">'value2'</span><span class="p">,</span> <span class="na">key3</span><span class="p">:</span> <span class="s1">'value3'</span> <span class="p">})</span>
</code></pre></div><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">test</span><span class="p">.</span><span class="nx">meta</span><span class="p">({</span> <span class="na">key4</span><span class="p">:</span> <span class="s1">'value1'</span><span class="p">,</span> <span class="na">key5</span><span class="p">:</span> <span class="s1">'value2'</span><span class="p">,</span> <span class="na">key6</span><span class="p">:</span> <span class="s1">'value3'</span> <span class="p">})</span>
</code></pre></div>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>metadata</code></td>
<td>Object</td>
<td>Key-value pairs</td>
</tr>
</tbody></table></li>
</ul>

<p><strong>Examples</strong></p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">fixture</span> <span class="s2">`My fixture`</span>
    <span class="p">.</span><span class="nx">meta</span><span class="p">(</span><span class="s1">'fixtureID'</span><span class="p">,</span> <span class="s1">'f-0001'</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">meta</span><span class="p">({</span> <span class="na">author</span><span class="p">:</span> <span class="s1">'John'</span><span class="p">,</span> <span class="na">creationDate</span><span class="p">:</span> <span class="s1">'05/03/2018'</span> <span class="p">});</span>
</code></pre></div><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">test</span>
    <span class="p">.</span><span class="nx">meta</span><span class="p">(</span><span class="s1">'testID'</span><span class="p">,</span> <span class="s1">'t-0005'</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">meta</span><span class="p">({</span> <span class="na">severity</span><span class="p">:</span> <span class="s1">'critical'</span><span class="p">,</span> <span class="na">testedAPIVersion</span><span class="p">:</span> <span class="s1">'1.0'</span> <span class="p">})</span>
    <span class="p">(</span><span class="s1">'MyTest'</span><span class="p">,</span> <span class="k">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="cm">/* ... */</span><span class="p">});</span>
</code></pre></div>
<p>All metadata entries specified for a fixture are applied to tests included in this fixture.</p>

<p>If you specified the same entries in the <code>test.meta</code> and <code>fixture.meta</code> methods, the <code>test.meta</code> method call overrides values of these entries. The following example demonstrates a <code>test.meta</code> method call that overrides the <strong>creationDate</strong> entry:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">fixture</span> <span class="s2">`My fixture`</span>
    <span class="p">.</span><span class="nx">meta</span><span class="p">(</span><span class="s1">'creationDate'</span><span class="p">,</span> <span class="s1">'05/03/2018'</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">page</span> <span class="s2">`http://www.example.com/`</span><span class="p">;</span>

<span class="nx">test</span>
    <span class="p">.</span><span class="nx">meta</span><span class="p">(</span><span class="s1">'creationDate'</span><span class="p">,</span> <span class="s1">'05/04/2018'</span><span class="p">);</span> <span class="c1">// The value of the creationDate entry is '05/04/2018'</span>
    <span class="p">(</span><span class="s1">'MyTest'</span><span class="p">,</span> <span class="k">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="cm">/* ... */</span><span class="p">});</span>
</code></pre></div><h3><a class="anchor" name="using-metadata-in-reports"></a>Using Metadata in Reports <a class="permalink" href="#using-metadata-in-reports">#</a></h3>
<p>You can include testing metadata to reports using a <a href="../extending-testcafe/reporter-plugin/">custom reporter</a>. The reporter&#39;s <a href="../extending-testcafe/reporter-plugin/reporter-methods.html#reportfixturestart">reportFixtureStart</a> and <a href="../extending-testcafe/reporter-plugin/reporter-methods.html#reporttestdone">reportTestDone</a> methods can access the fixture and test metadata.</p>
<h2><a class="anchor" name="initialization-and-clean-up"></a>Initialization and Clean-Up <a class="permalink" href="#initialization-and-clean-up">#</a></h2>
<p>TestCafe allows you to specify functions that are executed before a fixture or test is started and after it is finished.
These functions are called <em>hook functions</em> or <em>hooks</em>.</p>
<h3><a class="anchor" name="test-hooks"></a>Test Hooks <a class="permalink" href="#test-hooks">#</a></h3>
<p>Test hooks are executed in each test run before a test is started and after it is finished. If a test runs in several browsers, test hooks are executed in each browser.</p>

<p>At the moment test hooks run, the tested webpage is already loaded, so that you can use <a href="actions/">test actions</a> and other test run API inside test hooks.</p>

<p>You can specify a hook for each test in a fixture using the <code>beforeEach</code> and <code>afterEach</code> methods in the <a href="#fixtures">fixture declaration</a>.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">fixture.beforeEach( fn(t) )
</code></pre></div><div class="highlight"><pre><code class="language-text" data-lang="text">fixture.afterEach( fn(t) )
</code></pre></div>
<p>You can also specify hooks for an individual test using the <code>test.before</code> and <code>test.after</code> methods.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">test.before( fn(t) )
</code></pre></div><div class="highlight"><pre><code class="language-text" data-lang="text">test.after( fn(t) )
</code></pre></div><blockquote><div class="blockquote-content"><p>If <code>test.before</code> or <code>test.after</code> is specified, it overrides the corresponding
<code>fixture.beforeEach</code> and <code>fixture.afterEach</code> hook, so that the latter are not executed.</p>
</div></blockquote>
<p>The <code>test.before</code>, <code>test.after</code>,  <code>fixture.beforeEach</code> and <code>fixture.afterEach</code> methods accept the following parameters:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>fn</code></td>
<td>Function</td>
<td>An asynchronous hook function that contains initialization or clean-up code.</td>
</tr>
<tr>
<td><code>t</code></td>
<td>Object</td>
<td>The <a href="#test-controller">test controller</a> used to access test run API.</td>
</tr>
</tbody></table>

<p><strong>Example</strong></p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">fixture</span> <span class="s2">`My fixture`</span>
    <span class="p">.</span><span class="nx">page</span> <span class="s2">`http://example.com`</span>
    <span class="p">.</span><span class="nx">beforeEach</span><span class="p">(</span> <span class="k">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="cm">/* test initialization code */</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="nx">afterEach</span><span class="p">(</span> <span class="k">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="cm">/* test finalization code */</span>
    <span class="p">});</span>

<span class="nx">test</span>
    <span class="p">.</span><span class="nx">before</span><span class="p">(</span> <span class="k">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="cm">/* test initialization code */</span>
    <span class="p">})</span>
    <span class="p">(</span><span class="s1">'MyTest'</span><span class="p">,</span> <span class="k">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="cm">/* ... */</span> <span class="p">})</span>
    <span class="p">.</span><span class="nx">after</span><span class="p">(</span> <span class="k">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="cm">/* test finalization code */</span>
    <span class="p">});</span>
</code></pre></div><h4><a class="anchor" name="sharing-variables-between-test-hooks-and-test-code"></a>Sharing Variables Between Test Hooks and Test Code <a class="permalink" href="#sharing-variables-between-test-hooks-and-test-code">#</a></h4>
<p>You can share variables between test hook functions and test code
by using the <em>test context</em> object.</p>

<p>Test context is available through the <code>t.ctx</code> property.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">t.ctx
</code></pre></div>
<p>Instead of using a global variable, assign the object you want to share directly to <code>t.ctx</code> or create a property as in the following example:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">fixture</span> <span class="s2">`Fixture1`</span>
    <span class="p">.</span><span class="nx">beforeEach</span><span class="p">(</span><span class="k">async</span> <span class="nx">t</span>  <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">t</span><span class="p">.</span><span class="nx">ctx</span><span class="p">.</span><span class="nx">someProp</span> <span class="o">=</span> <span class="mi">123</span><span class="p">;</span>
    <span class="p">});</span>

<span class="nx">test</span>
    <span class="p">(</span><span class="s1">'Test1'</span><span class="p">,</span> <span class="k">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">ctx</span><span class="p">.</span><span class="nx">someProp</span><span class="p">);</span> <span class="c1">// &gt; 123</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="nx">after</span><span class="p">(</span><span class="k">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
         <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">ctx</span><span class="p">.</span><span class="nx">someProp</span><span class="p">);</span> <span class="c1">// &gt; 123</span>
    <span class="p">});</span>
</code></pre></div>
<p>Each test run has its own test context.</p>
<blockquote><div class="blockquote-content"><p><code>t.ctx</code> is initialized with an empty object without a prototype. You can iterate its keys without the <code>hasOwnProperty</code> check.</p>
</div></blockquote><h3><a class="anchor" name="fixture-hooks"></a>Fixture Hooks <a class="permalink" href="#fixture-hooks">#</a></h3>
<p>Fixture hooks are executed before the first test in a fixture is started and after the last test is finished.</p>

<p>Unlike <a href="#test-hooks">test hooks</a>, fixture hooks are executed between test runs and do not have access to the tested page.
Use them to perform server-side operations like preparing the server that hosts the tested app.</p>

<p>To specify fixture hooks, use the <code>fixture.before</code> and <code>fixture.after</code> methods.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">fixture.before( fn(ctx) )
</code></pre></div><div class="highlight"><pre><code class="language-text" data-lang="text">fixture.after( fn(ctx) )
</code></pre></div>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>fn</code></td>
<td>Function</td>
<td>An asynchronous hook function that contains initialization or clean-up code.</td>
</tr>
<tr>
<td><code>ctx</code></td>
<td>Object</td>
<td>A <em>fixture context</em> object used to <a href="#sharing-variables-between-fixture-hooks-and-test-code">share variables</a> between fixture hooks and test code.</td>
</tr>
</tbody></table>

<p><strong>Example</strong></p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">fixture</span> <span class="s2">`My fixture`</span>
    <span class="p">.</span><span class="nx">page</span> <span class="s2">`http://example.com`</span>
    <span class="p">.</span><span class="nx">before</span><span class="p">(</span> <span class="k">async</span> <span class="nx">ctx</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="cm">/* fixture initialization code */</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="nx">after</span><span class="p">(</span> <span class="k">async</span> <span class="nx">ctx</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="cm">/* fixture finalization code */</span>
    <span class="p">});</span>
</code></pre></div><h4><a class="anchor" name="sharing-variables-between-fixture-hooks-and-test-code"></a>Sharing Variables Between Fixture Hooks and Test Code <a class="permalink" href="#sharing-variables-between-fixture-hooks-and-test-code">#</a></h4>
<p>Hook functions passed to <code>fixture.before</code> and <code>fixture.after</code> methods take a <code>ctx</code> parameter that contains <em>fixture context</em>.
You can add properties to this parameter to share the value or object with test code.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">fixture</span> <span class="s2">`Fixture1`</span>
    <span class="p">.</span><span class="nx">before</span><span class="p">(</span><span class="k">async</span> <span class="nx">ctx</span>  <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">ctx</span><span class="p">.</span><span class="nx">someProp</span> <span class="o">=</span> <span class="mi">123</span><span class="p">;</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="nx">after</span><span class="p">(</span><span class="k">async</span> <span class="nx">ctx</span>  <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">ctx</span><span class="p">.</span><span class="nx">someProp</span><span class="p">);</span> <span class="c1">// &gt; 123</span>
    <span class="p">});</span>
</code></pre></div>
<p>To access fixture context from tests, use the <code>t.fixtureCtx</code> property.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">t.fixtureCtx
</code></pre></div>
<p>Test code can read from <code>t.fixtureCtx</code>, assign to its properties or add new ones, but it cannot overwrite the entire <code>t.fixtureCtx</code> object.</p>

<p><strong>Example</strong></p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">fixture</span> <span class="s2">`Fixture1`</span>
    <span class="p">.</span><span class="nx">before</span><span class="p">(</span><span class="k">async</span> <span class="nx">ctx</span>  <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">ctx</span><span class="p">.</span><span class="nx">someProp</span> <span class="o">=</span> <span class="mi">123</span><span class="p">;</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="nx">after</span><span class="p">(</span><span class="k">async</span> <span class="nx">ctx</span>  <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">ctx</span><span class="p">.</span><span class="nx">newProp</span><span class="p">);</span> <span class="c1">// &gt; abc</span>
    <span class="p">});</span>

<span class="nx">test</span><span class="p">(</span><span class="s1">'Test1'</span><span class="p">,</span> <span class="k">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">fixtureCtx</span><span class="p">.</span><span class="nx">someProp</span><span class="p">);</span> <span class="c1">// &gt; 123</span>
<span class="p">});</span>

<span class="nx">test</span><span class="p">(</span><span class="s1">'Test2'</span><span class="p">,</span> <span class="k">async</span> <span class="nx">t</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">t</span><span class="p">.</span><span class="nx">fixtureCtx</span><span class="p">.</span><span class="nx">newProp</span> <span class="o">=</span> <span class="s1">'abc'</span><span class="p">;</span>
<span class="p">});</span>
</code></pre></div><h2><a class="anchor" name="skipping-tests"></a>Skipping Tests <a class="permalink" href="#skipping-tests">#</a></h2>
<p>TestCafe allows you to specify that a particular test or fixture should be skipped when running tests.
Use the <code>fixture.skip</code> and <code>test.skip</code> methods for this.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">fixture.skip
</code></pre></div><div class="highlight"><pre><code class="language-text" data-lang="text">test.skip
</code></pre></div>
<p>You can also use the <code>only</code> method to specify that only a particular test or fixture should run while all others should be skipped.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">fixture.only
</code></pre></div><div class="highlight"><pre><code class="language-text" data-lang="text">test.only
</code></pre></div>
<p>If several tests or fixtures are marked with <code>only</code>, all the marked tests and fixtures are run.</p>

<p><strong>Examples</strong></p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">fixture</span><span class="p">.</span><span class="nx">skip</span> <span class="s2">`Fixture1`</span><span class="p">;</span> <span class="c1">// All tests in this fixture are skipped</span>

<span class="nx">test</span><span class="p">(</span><span class="s1">'Fixture1Test1'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{});</span>
<span class="nx">test</span><span class="p">(</span><span class="s1">'Fixture1Test2'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{});</span>

<span class="nx">fixture</span> <span class="s2">`Fixture2`</span><span class="p">;</span>

<span class="nx">test</span><span class="p">(</span><span class="s1">'Fixture2Test1'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{});</span>
<span class="nx">test</span><span class="p">.</span><span class="nx">skip</span><span class="p">(</span><span class="s1">'Fixture2Test2'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{});</span> <span class="c1">// This test is skipped</span>
<span class="nx">test</span><span class="p">(</span><span class="s1">'Fixture2Test3'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{});</span>
</code></pre></div><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">fixture</span><span class="p">.</span><span class="nx">only</span> <span class="s2">`Fixture1`</span><span class="p">;</span>
<span class="nx">test</span><span class="p">(</span><span class="s1">'Fixture1Test1'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{});</span>
<span class="nx">test</span><span class="p">(</span><span class="s1">'Fixture1Test2'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{});</span>

<span class="nx">fixture</span> <span class="s2">`Fixture2`</span><span class="p">;</span>

<span class="nx">test</span><span class="p">(</span><span class="s1">'Fixture2Test1'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{});</span>
<span class="nx">test</span><span class="p">.</span><span class="nx">only</span><span class="p">(</span><span class="s1">'Fixture2Test2'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{});</span>
<span class="nx">test</span><span class="p">(</span><span class="s1">'Fixture2Test3'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{});</span>

<span class="c1">// Only tests in Fixture1 and the Fixture2Test2 test are run</span>
</code></pre></div>

		</div>
		<div class="widget-container hidden">
			<div id="share-button">
				<div id="graph-icon">
					<img src="/testcafe/images/icon-share.svg"/>
				</div>
				<p>TELL<br/>YOUR<br/>FRIENDS</p>
			</div>
			<div class="widget-panel">
				<div id="tweet">
					<a href="https://twitter.com/intent/tweet?text=Check%20out%20%23TestCafe%20-%20a%20free%20node.js%20tool%20for%20e2e%20testing%20https%3A%2F%2Fdevexpress.github.io%2Ftestcafe%2F"
					onclick="return !window.open(this.href, 'Twitter', 'width=690,height=450')"
					target="_blank">
						<img src="/testcafe/images/icon-tweet.svg"/>
					</a>
				</div>
				<div id="facebook">
					<a href="https://www.facebook.com/sharer/sharer.php?u=https://devexpress.github.io/testcafe/"
					onclick="return !window.open(this.href, 'Facebook', 'width=500,height=500')"
					target="_blank">
						<image src="/testcafe/images/icon-facebook.svg"/>
					</a>
				</div>
				<div id="collapse">
					<img src="/testcafe/images/icon-close.svg"/>
				</div>
			</div>
		</div>
	</article>
</main>
</div>

      <div class="push"></div>
    </div>

    <footer class="site-footer">
    <div class="site-footer-content">
        <div class="footer-col-1">
            <p><strong>TestCafe</strong>: A node.js tool to automate end-to-end web testing<br/>
            Use of this site constitutes acceptance of our <a href="https://www.devexpress.com/aboutus/privacy-policy.xml"  target="_blank">Privacy Policy</a><br/>
            Copyright  2012-2018 Developer Express Inc.</p>
        </div>
    </div>
</footer>


    <script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
<script type="text/javascript"> var search = docsearch({
     apiKey: '938fb7894c0af8c01af3e2b4c53d4bdd',
     indexName: 'testcafe',
     inputSelector: '#search',
     debug: false // Set debug to true if you want to inspect the dropdown
 });

 search.autocomplete.on('autocomplete:opened', function(e) {
     var searchInput = document.querySelector('#search');
     var dropdown    = document.querySelector('.ds-dropdown-menu');
     
     if(searchInput && dropdown) {
         dropdown.style.maxWidth = "none";
         dropdown.style.width = searchInput.offsetWidth + "px";
     }
 });
</script> 

    <script defer src="/testcafe/scripts/cookie-notice.js" type="text/javascript"></script>
<div class="cookie-notice">
    <div class="close-icon"></div>
    <div class="cookie-notice-content">
        <div class="cookie-notice-message">
            <div class="cookie-notice-header">Why We Use Cookies</div>
            <div class="cookie-notice-text">This site uses cookies to make your browsing experience more convenient and personal. Cookies store useful information on your computer to help us improve the efficiency and relevance of our site for you. In some cases, they are essential to making the site work properly. By accessing this site, you consent to the use of cookies. For more information, refer to DevExpress' <a href="https://www.devexpress.com/AboutUs/privacy-policy.xml" target="_blank">privacy policy</a> and <a href="https://www.devexpress.com/AboutUs/cookie-policy.xml" target="_blank">cookie policy</a>.</div>
        </div>
        <div class="cookie-notice-button">I understand</div>
    </div>
</div>

  </body>

</html>
