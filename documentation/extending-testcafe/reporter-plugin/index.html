<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <title>Reporter Plugin | TestCafe</title>

  <meta name="description" content="">
  <meta name="viewport" content="width=device-width">
  
  <meta property="og:image" content="https://raw.githubusercontent.com/DevExpress/testcafe-gh-page-assets/master/src/images/testcafe-ogp-icon.png">
  <meta property="og:type" content="website" />
  <meta property="og:url" content="http://devexpress.github.io/testcafe/documentation/extending-testcafe/reporter-plugin/" />
  <meta property="og:title" content="Reporter Plugin | TestCafe" />

  <link rel="shortcut icon" href="/testcafe/favicon.ico">
  <link rel="stylesheet" href="/testcafe/css/main.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.0.0/styles/docco.min.css">
  <link rel="canonical" href="http://devexpress.github.io/testcafe/documentation/extending-testcafe/reporter-plugin/">
  <link rel="alternate" type="application/rss+xml" title="TestCafe" href="http://devexpress.github.io/testcafe/feed.xml">
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.0.0/highlight.min.js"></script>
  <script>
      document.addEventListener('DOMContentLoaded', function (e) {
          hljs.initHighlightingOnLoad();
      });
  </script>

  
  <script>
    // Google Analytics
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-83678642-1', 'auto');
    ga('send', 'pageview');
  </script>
  

  
  

  

  
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery.perfect-scrollbar/0.6.12/css/perfect-scrollbar.min.css">
    <script defer type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery.perfect-scrollbar/0.6.12/js/perfect-scrollbar.min.js"></script>
    <script>
        var MIN_BODY_WIDTH = 900;
        var FOOTER_HEIGHT  = 63;
        var HEADER_HEIGHT  = 52;

        var nav            = null;
        var isMobileDevice = window.screen.width < 800 || window.screen.height < 800;

        function setNavTopPosition () {
            var isMobileZoomed = isMobileDevice && window.innerWidth !== document.body.scrollWidth;

            if (document.body.clientWidth > MIN_BODY_WIDTH) {
                if (nav.style.top !== HEADER_HEIGHT + 'px') {
                    nav.style.top = HEADER_HEIGHT + 'px';
                    Ps.update(nav);
                }
            }
            else if(!isMobileZoomed) {
                var top = window.pageYOffset <= HEADER_HEIGHT ? HEADER_HEIGHT - window.pageYOffset + 'px' : '0';

                if (nav.style.top !== top) {
                    nav.style.top = top;
                    Ps.update(nav);
                }
            }
        }

        function setNavBottomPosition () {
            var footerVisibleHeight = FOOTER_HEIGHT - document.body.scrollHeight + window.pageYOffset +
                                      document.body.clientHeight;

            if (footerVisibleHeight > 0) {
                if (nav.style.bottom !== footerVisibleHeight + 'px') {
                    nav.style.bottom = footerVisibleHeight + 'px';
                    Ps.update(nav);
                }
            }
            else if (nav.style.bottom !== '0') {
                nav.style.bottom = '0';
                Ps.update(nav);
            }
        }

        function updatePosition () {
            if (isMobileDevice)
                changeBodyHeight();
            else
                nav.style.marginLeft = '-' + window.pageXOffset + 'px';

            setNavBottomPosition();
            setNavTopPosition();
        }
        
        function changeBodyHeight () {
            if (document.body.style.height !== window.innerHeight + 'px')
                document.body.style.height = window.innerHeight + 'px';
        }
        
        function initScrollBar() {
            Ps.initialize(nav);
            
            window.addEventListener('resize', function () {
                Ps.update(nav);
            });
        }

        function initNav() {
            initScrollBar();
            updatePosition();
            window.addEventListener('scroll', updatePosition);
            window.addEventListener('resize', updatePosition);
        }

        document.addEventListener('DOMContentLoaded', function (e) {
            nav = document.querySelector('.doc-nav');

            if(nav)
                initNav(nav);
        });
    </script>
  
    <script>
        function initHeader(siteHeader, contentWrapper) {
            var MIN_BODY_WIDTH = 900;

            function updateHeader() {
                var bodyMinimized = document.body.clientWidth === MIN_BODY_WIDTH;
                
                

                siteHeader.style.position = bodyMinimized ? 'static' : '';

                if(contentWrapper)
                    contentWrapper.style.paddingTop = bodyMinimized ? '0' : '';
            }

            updateHeader();
            window.addEventListener('scroll', updateHeader);
            window.addEventListener('resize', updateHeader);
        }
        document.addEventListener('DOMContentLoaded', function (e) {
            var contentWrapper = document.querySelector('.container');
            var siteHeader     = document.querySelector('.site-header');

            if(siteHeader) 
                initHeader(siteHeader, contentWrapper);
        });
    </script>
</head>


  <body>
    <div class="page-content-wrapper">

      <header class="site-header minimized">
  <div class="site-header-content">
    <a class="site-logo" href="/testcafe/"></a>

    <nav class="site-nav">
      <div class="trigger">
        
          
          <a class="page-link active" href="/testcafe/documentation/getting-started/">Documentation</a>
          <span class="page-link-separator">|</span>
        
          
          <a class="page-link " href="https://github.com/DevExpress/testcafe">GitHub</a>
          <span class="page-link-separator">|</span>
        
          
          <a class="page-link " href="/testcafe/blog/">Blog</a>
          <span class="page-link-separator">|</span>
        
          
          <a class="page-link " href="https://github.com/DevExpress/testcafe/issues">Issues</a>
          <span class="page-link-separator">|</span>
        
          
          <a class="page-link " href="https://testcafe-discuss.devexpress.com/">Discuss</a>
          <span class="page-link-separator">|</span>
        
          
          <a class="page-link " href="https://twitter.com/dxtestcafe">Twitter</a>
          <span class="page-link-separator">|</span>
        
      </div>
    </nav>
  </div>
</header>


      <div class="container">
    	<nav class="doc-nav">	
		<div class="doc-nav-content">
			<ul>

    <li>
		    
		
<a href="/testcafe/documentation/getting-started/"  >GETTING STARTED</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/using-testcafe/"  >USING TESTCAFE</a>
		
			<ul>

    <li>
		    
		
<a href="/testcafe/documentation/using-testcafe/installing-testcafe.html"  >Installing TestCafe</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/using-testcafe/command-line-interface.html"  >Command Line Interface</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/using-testcafe/programming-interface/"  >Programming Interface</a>
		
			<ul>

    <li>
		    
		
<a href="/testcafe/documentation/using-testcafe/programming-interface/testcafe.html"  >TestCafe Class</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/using-testcafe/programming-interface/browserconnection.html"  >BrowserConnection Class</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/using-testcafe/programming-interface/runner.html"  >Runner Class</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/using-testcafe/programming-interface/createtestcafe.html"  >createTestCafe Factory</a>
		
    </li>

</ul>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/using-testcafe/common-concepts/"  >Common Concepts</a>
		
			<ul>

    <li>
		    
		
<a href="/testcafe/documentation/using-testcafe/common-concepts/browser-support.html"  >Browser Support</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/using-testcafe/common-concepts/reporters.html"  >Reporters</a>
		
    </li>

</ul>
		
    </li>

</ul>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/"  >TEST API</a>
		
			<ul>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/test-code-structure.html"  >Test Code Structure</a>
		
			<ul>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/test-code-structure.html#fixtures"  >Fixtures</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/test-code-structure.html#tests"  >Tests</a>
		
			<ul>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/test-code-structure.html#test-controller"  >Test Controller</a>
		
    </li>

</ul>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/test-code-structure.html#specifying-the-start-webpage"  >Specifying the Start Webpage</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/test-code-structure.html#initialization-and-clean-up"  >Initialization and Clean-Up</a>
		
			<ul>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/test-code-structure.html#sharing-variables-between-the-hooks-and-test-code"  >Sharing Variables Between the Hooks and Test Code</a>
		
    </li>

</ul>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/test-code-structure.html#skipping-tests"  >Skipping Tests</a>
		
    </li>

</ul>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/actions/"  >Actions</a>
		
			<ul>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/actions/click.html"  >Click</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/actions/double-click.html"  >Double Click</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/actions/right-click.html"  >Right Click</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/actions/drag-element.html"  >Drag Element</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/actions/hover.html"  >Hover</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/actions/select-text.html"  >Select Text</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/actions/type-text.html"  >Type Text</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/actions/press-key.html"  >Press Key</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/actions/navigate.html"  >Navigate</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/actions/take-screenshot.html"  >Take Screenshot</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/actions/upload.html"  >Upload</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/actions/resize-window.html"  >Resize Window</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/actions/action-options.html"  >Action Options</a>
		
    </li>

</ul>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/selecting-page-elements/"  >Selecting Page Elements</a>
		
			<ul>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/selecting-page-elements/selectors.html"  >Selectors</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/selecting-page-elements/selector-options.html"  >Selector Options</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/selecting-page-elements/dom-node-state.html"  >DOM Node State</a>
		
    </li>

</ul>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/assertions/"  >Assertions</a>
		
			<ul>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/assertions/assertion-api.html"  >Assertion API</a>
		
    </li>

</ul>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/obtaining-data-from-the-client.html"  >Obtaining Data from the Client</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/http-authentication.html"  >HTTP Authentication</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/pausing-the-test.html"  >Pausing the Test</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/handling-native-dialogs.html"  >Handling Native Dialogs</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/working-with-iframes.html"  >Working with &lt;iframes&gt;</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/test-api/a-z.html"  >A-Z Index</a>
		
    </li>

</ul>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/extending-testcafe/"  >EXTENDING TESTCAFE</a>
		
			<ul>

    <li>
		    
		
<a href="/testcafe/documentation/extending-testcafe/reporter-plugin/" class="active" >Reporter Plugin</a>
		
			<ul>

    <li>
		    
		
<a href="/testcafe/documentation/extending-testcafe/reporter-plugin/reporter-methods.html"  >Reporter Methods</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/extending-testcafe/reporter-plugin/helpers.html"  >Helpers</a>
		
    </li>

</ul>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/extending-testcafe/browser-provider-plugin/"  >Browser Provider Plugin</a>
		
			<ul>

    <li>
		    
		
<a href="/testcafe/documentation/extending-testcafe/browser-provider-plugin/browser-provider-methods.html"  >Browser Provider Methods</a>
		
    </li>

</ul>
		
    </li>

</ul>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/recipes/"  >RECIPES</a>
		
			<ul>

    <li>
		    
		
<a href="/testcafe/documentation/recipes/running-tests-in-firefox-and-chrome-using-travis-ci.html"  >Running Tests in Firefox and Chrome Using Travis CI</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/recipes/running-tests-using-travis-ci-and-sauce-labs.html"  >Running Tests Using Travis CI and Sauce Labs</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/recipes/test-static-html-pages.html"  >Test Static HTML Pages</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/recipes/testing-on-remote-computers-and-mobile-devices.html"  >Testing on Remote Computers and Mobile Devices</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/recipes/using-page-model.html"  >Using Page Model</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/recipes/using-testcafe-with-gulp.html"  >Using TestCafe with Gulp</a>
		
    </li>

</ul>
		
    </li>

</ul>
		</div>
	</nav>


<main>
	<article class="doc">
		<div class="post-content">

			<h1>Reporter Plugin</h1>
<p>TestCafe has a number of <a href="../../using-testcafe/common-concepts/reporters.html">built-in reporters</a> to generate test reports in different formats.
You can also create a <strong>custom reporter</strong> that will output information in your own format and style.
For this purpose, you can use the <a href="https://github.com/DevExpress/generator-testcafe-reporter">TestCafe reporter generator</a>.
The generator will scaffold out a reporter plugin, so that you only need to write a few lines of code.</p>

<p>To create a reporter plugin, go through the following steps.</p>

<ul>
<li><a href="#generating-a-reporter-project">Generating a Reporter Project</a></li>
<li><a href="#implementing-the-reporter">Implementing the Reporter</a></li>
<li><a href="#building-the-reporter">Building the Reporter</a></li>
<li><a href="#testing-the-reporter">Testing the Reporter</a></li>
<li><a href="#previewing-the-report">Previewing the Report</a></li>
<li><a href="#using-the-reporter-development-version">Using the Reporter Development Version</a></li>
<li><a href="#publishing-the-reporter-to-npm">Publishing the Reporter to npm</a></li>
</ul>
<h2><a class="anchor" name="generating-a-reporter-project"></a>Generating a Reporter Project <a class="permalink" href="#generating-a-reporter-project">#</a></h2>
<p>First, install <a href="http://yeoman.io">Yeoman</a> and <code>generator-testcafe-reporter</code> using <a href="https://www.npmjs.com/">npm</a>.</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">npm install -g yo
npm install -g generator-testcafe-reporter
</code></pre></div>
<p>Create a new directory where the generator should place your scaffolded project files and go into it.</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">mkdir my-reporter
<span class="nb">cd </span>my-reporter
</code></pre></div><blockquote><div class="blockquote-content"><p>It is recommended that you name the directory as you would name your reporter project. When you run the generator,
it will automatically suggest the reporter name that matches the reporter directory name.</p>

<p>The generator will also automatically create the reporter package name that consists of two parts - the <code>testcafe-reporter-</code> prefix and the name of the reporter itself, for example, <code>testcafe-reporter-my-reporter</code>.</p>

<p><strong>Important:</strong> If you name the reporter package manually, its name must begin with the <code>testcafe-reporter-</code> prefix. Otherwise, TestCafe will be unable to recognize the plugin.</p>
</div></blockquote>
<p>Then, run the reporter generator to create a new project.</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">yo testcafe-reporter
</code></pre></div>
<p>The generator will ask you a few questions about the reporter.
Then Yeoman will automatically scaffold out your reporter, install the required dependencies, and pull in several useful Gulp tasks for your workflow.</p>
<h2><a class="anchor" name="implementing-the-reporter"></a>Implementing the Reporter <a class="permalink" href="#implementing-the-reporter">#</a></h2>
<p>Once the reporter has been scaffolded out, go to the reporter directory and open the <code>src/index.js</code> file.</p>

<p>You would need to implement four <a href="reporter-methods.html">reporter methods</a>.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">reportTaskStart</span> <span class="p">(</span><span class="cm">/* startTime, userAgents, testCount */</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">'Not implemented'</span><span class="p">);</span>
<span class="p">},</span>

<span class="nx">reportFixtureStart</span> <span class="p">(</span><span class="cm">/* name, path */</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">'Not implemented'</span><span class="p">);</span>
<span class="p">},</span>

<span class="nx">reportTestDone</span> <span class="p">(</span><span class="cm">/* name, errs, durationMs, unstable, screenshotPath */</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">'Not implemented'</span><span class="p">);</span>
<span class="p">},</span>

<span class="nx">reportTaskDone</span> <span class="p">(</span><span class="cm">/* endTime, passed */</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">'Not implemented'</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>These methods should output the desired information at certain moments during the test run.
All the required data is provided for these methods through their parameters.</p>

<p>To output this information, use <a href="helpers.html">helper methods and libraries</a>.
TestCafe will mix in the helper methods to the reporter, so that you can access the helper methods by using <code>this</code>.</p>

<p>In the <code>src/index.js</code> file, you can also enable or disable the coloring of the reporter output by using the <code>noColors</code> property.
To color the output, use the <a href="helpers.html#chalk">chalk</a> methods.</p>

<p><strong>Example</strong></p>

<p>The following example demonstrates how you can implement the four main methods,
so that the generated report contains information about user agents used for testing,
the result of individual test execution, summary information about passed/failed tests,
and the overall duration of the tests.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">reportTaskStart</span> <span class="p">(</span><span class="nx">startTime</span><span class="p">,</span> <span class="nx">userAgents</span><span class="p">,</span> <span class="nx">testCount</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">startTime</span> <span class="o">=</span> <span class="nx">startTime</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">testCount</span> <span class="o">=</span> <span class="nx">testCount</span><span class="p">;</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="err">`</span><span class="nx">Running</span> <span class="nx">tests</span> <span class="k">in</span><span class="err">:</span> <span class="nx">$</span><span class="p">{</span><span class="nx">userAgents</span><span class="p">}</span><span class="err">`</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">newline</span><span class="p">()</span>
        <span class="p">.</span><span class="nx">newline</span><span class="p">();</span>
<span class="p">},</span>

<span class="nx">reportFixtureStart</span> <span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">currentFixtureName</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
<span class="p">},</span>

<span class="nx">reportTestDone</span> <span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">errs</span><span class="p">)</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">hasErr</span> <span class="o">=</span> <span class="o">!!</span><span class="nx">errs</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
    <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">hasErr</span> <span class="p">?</span> <span class="err">`</span><span class="nx">passed</span><span class="err">`</span> <span class="p">:</span> <span class="err">`</span><span class="nx">failed</span><span class="err">`</span><span class="p">;</span>

    <span class="nx">name</span> <span class="o">=</span> <span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">currentFixtureName</span><span class="p">}</span> <span class="o">-</span> <span class="nx">$</span><span class="p">{</span><span class="nx">name</span><span class="p">}</span><span class="err">`</span><span class="p">;</span>

    <span class="kr">const</span> <span class="nx">title</span> <span class="o">=</span> <span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">result</span><span class="p">}</span> <span class="nx">$</span><span class="p">{</span><span class="nx">name</span><span class="p">}</span><span class="err">`</span><span class="p">;</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="nx">title</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">newline</span><span class="p">();</span>
<span class="p">},</span>

<span class="nx">reportTaskDone</span> <span class="p">(</span><span class="nx">endTime</span><span class="p">,</span> <span class="nx">passed</span><span class="p">)</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">durationMs</span>  <span class="o">=</span> <span class="nx">endTime</span> <span class="o">-</span> <span class="k">this</span><span class="p">.</span><span class="nx">startTime</span><span class="p">;</span>
    <span class="kr">const</span> <span class="nx">durationStr</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">moment</span>
                            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="nx">durationMs</span><span class="p">)</span>
                            <span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="s1">'h[h] mm[m] ss[s]'</span><span class="p">);</span>
    <span class="kd">let</span> <span class="nx">footer</span> <span class="o">=</span> <span class="nx">passed</span> <span class="o">===</span> <span class="k">this</span><span class="p">.</span><span class="nx">testCount</span> <span class="p">?</span>
                 <span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">testCount</span><span class="p">}</span> <span class="nx">passed</span><span class="err">`</span> <span class="p">:</span>
                 <span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">testCount</span> <span class="o">-</span> <span class="nx">passed</span><span class="p">}</span><span class="sr">/${this.testCount} failed`</span><span class="err">;
</span>
    <span class="nx">footer</span> <span class="o">+=</span> <span class="err">`</span> <span class="p">(</span><span class="nx">Duration</span><span class="err">:</span> <span class="nx">$</span><span class="p">{</span><span class="nx">durationStr</span><span class="p">})</span><span class="err">`</span><span class="p">;</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="nx">footer</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">newline</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
<p>Here is a sample report generated by this reporter.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">Running tests in: Chrome,Firefox

failed fixture1 - fixture1test1

passed fixture1 - fixture1test2

failed fixture1 - fixture1test3

failed fixture2 - fixture2test1

failed fixture2 - fixture2test2

passed fixture3 - fixture3test1

2/6 failed (Duration: 15m 25s)
</code></pre></div><h2><a class="anchor" name="building-the-reporter"></a>Building the Reporter <a class="permalink" href="#building-the-reporter">#</a></h2>
<p>You can build the reporter project by using the <code>build</code> Gulp task.</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">gulp build
</code></pre></div><h2><a class="anchor" name="testing-the-reporter"></a>Testing the Reporter <a class="permalink" href="#testing-the-reporter">#</a></h2>
<p>To make sure your reporter operates well, you can use the <code>test</code> Gulp task.
To get this task to work, provide reference reports in your format.
During testing, reports generated by the reporter will be compared with these reference reports.</p>

<p>First, you need to know what data to use in these reports. There are two ways of determining this.</p>

<ul>
<li>Refer to the test input data at <code>&lt;reporter-directory&gt;/test/utils/reporter-test-calls.js</code>. This file contains a
sequence of reporter method calls. Each method uses a number of input data.</li>
<li>Explore an existing reporter, say, the <a href="https://github.com/DevExpress/testcafe-reporter-list">list</a> reporter.
You can either run the <code>preview</code> Gulp task to view the reporter output in your terminal,
or find the reference report at <code>/test/data/report-without-colors</code>.</li>
</ul>

<p>Then, compose two reference reports.</p>

<ul>
<li>A regular report. Put it into <code>/test/data/</code> and name it <code>report-without-colors</code>.</li>
<li>A colored report, which is a JSON file that consists of a single string - the report text with
additional color information specified using <a href="https://en.wikipedia.org/wiki/ANSI_escape_code">ANSI escape codes</a>.
Put this JSON file into <code>/test/data/</code> and name it <code>report-with-colors.json</code>.</li>
</ul>

<p>After the reference reports are ready, you can use the <code>test</code> task.</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">gulp <span class="nb">test</span>
</code></pre></div><h2><a class="anchor" name="previewing-the-report"></a>Previewing the Report <a class="permalink" href="#previewing-the-report">#</a></h2>
<p>You can preview the report built by your reporter using the <code>preview</code> Gulp task.</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">gulp preview
</code></pre></div><h2><a class="anchor" name="using-the-reporter-development-version"></a>Using the Reporter Development Version <a class="permalink" href="#using-the-reporter-development-version">#</a></h2>
<p>If you are still developing the reporter, but need to test it within TestCafe, there is no need to publish the reporter package to npm.
You can link the reporter to TestCafe by using the <a href="https://docs.npmjs.com/cli/link">npm link</a> command.
This allows you to work on the reporter project and test it iteratively without having to re-publish the project every time you make a change to it.</p>

<p>To link the reporter package, navigate to the reporter directory and run <code>npm link</code>:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">cd </span>my-reporter
npm link
</code></pre></div>
<p>After that, TestCafe will use the reporter version you are currently developing.</p>

<p>For information on how to specify a reporter in tests, see <a href="../../using-testcafe/common-concepts/reporters.html#using-the-reporters">Using Reporters</a>.</p>
<h2><a class="anchor" name="publishing-the-reporter-to-npm"></a>Publishing the Reporter to npm <a class="permalink" href="#publishing-the-reporter-to-npm">#</a></h2>
<p>When you finish developing the reporter, you can publish it to npm by running the <code>publish-please</code> npm script.
This script builds the package, tests the reporter and then uses <a href="https://github.com/inikulin/publish-please">publish-please</a> to publish it to npm.
That is why using the <code>publish-please</code> script instead of <code>npm publish</code> is what is recommended.</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">npm run publish-please
</code></pre></div>
<p>After that, you can install the reporter plugin as you would <a href="../#installing-plugins">install any other plugin</a> and use it in the same manner
as you would use <a href="../../using-testcafe/common-concepts/reporters.html#using-the-reporters">built-in reporters</a>.</p>


		</div>
	</article>
</main>
</div>

      <div class="push"></div>
    </div>

    <footer class="site-footer">
    <div class="site-footer-content">
        <div class="footer-col-1">
            <p><strong>TestCafe</strong>: Automated browser testing for the modern web development stack<br/>
            Copyright © 1998-2017 Developer Express Inc.</p>
        </div>
    </div>
</footer>


  </body>

</html>
