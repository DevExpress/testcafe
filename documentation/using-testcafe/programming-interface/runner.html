<!DOCTYPE html>
<html>

  <head>
  
  
  
  

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <title>Runner Class | TestCafe</title>

  <meta name="description" content="">
  <meta name="viewport" content="width=device-width">

  <meta property="og:image" content="https://raw.githubusercontent.com/DevExpress/testcafe-gh-page-assets/master/src/images/testcafe-ogp-icon.png">
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://devexpress.github.io/testcafe/documentation/using-testcafe/programming-interface/runner.html" />
  <meta property="og:title" content="Runner Class | TestCafe" />

  
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.0.0/styles/docco.min.css">
  
  
  <link rel="shortcut icon" href="/testcafe/favicon.ico">
  <link rel="stylesheet" href="/testcafe/css/main.css">
  <link rel="canonical" href="https://devexpress.github.io/testcafe/documentation/using-testcafe/programming-interface/runner.html">
  <link rel="alternate" type="application/rss+xml" title="TestCafe" href="https://devexpress.github.io/testcafe/feed.xml">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
  <link rel="apple-touch-icon" sizes="180x180" href="/testcafe/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/testcafe/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/testcafe/favicon-16x16.png">
  <link rel="manifest" href="/testcafe/site.webmanifest">
  <meta name="msapplication-TileColor" content="#2d89ef">
  <meta name="msapplication-config" content="/testcafe/browserconfig.xml" />
  <meta name="theme-color" content="#ffffff">
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.0.0/highlight.min.js"></script>
  <script defer src="https://buttons.github.io/buttons.js"></script>
  <script defer type="text/javascript" src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-2.2.3.min.js"></script>
  <script src="/testcafe/scripts/mobile-detect.min.js" type="text/javascript"></script>
  <script>
     var md             = new MobileDetect(window.navigator.userAgent);
     var isMobileDevice = !!md.mobile();
  </script>
  <script>
      document.addEventListener('DOMContentLoaded', function (e) {
          hljs.initHighlightingOnLoad();
      });
  </script>

  
  <script>
    // Google Analytics
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-83678642-1', 'auto');
    ga('send', 'pageview');
  </script>
  

  

  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery.perfect-scrollbar/0.6.12/css/perfect-scrollbar.min.css">
  <link rel="stylesheet" href="/testcafe/css/docs.css">
  <style>
      .ps-container > .ps-scrollbar-x-rail,
      .ps-container > .ps-scrollbar-y-rail {
          opacity: 0.6;
      }
  </style>
  

  

  <script>
    function linkCss (href) {
        var link  = document.createElement('link');
        var html  = document.querySelector('html');
        var head  = document.head;

        link.rel  = 'stylesheet';
        link.type = 'text/css';
        link.href = href;
        link.media = 'all';

        head.appendChild(link);

        window.addEventListener('load', function () {
            html.style.display = 'block';
        });

        html.style.display = 'none';
    }
  </script>
    
    <script>
        if (isMobileDevice) {
            document.addEventListener('DOMContentLoaded', function (e) {
                var siteNav         = document.querySelector('.site-nav');
                var hamburgerButton = document.querySelector('.hamburger-button');

                hamburgerButton.addEventListener('click', function (e) {
                    if (hamburgerButton.className.indexOf('active') !== -1) {
                        hamburgerButton.className = hamburgerButton.className.replace(' active', '');
                        siteNav.className = siteNav.className.replace(' active', '');
                        document.documentElement.style.overflowY = 'scroll';
                        document.body.style.overflowY = 'initial';
                    }
                    else {
                        hamburgerButton.className += ' active';
                        siteNav.className += ' active';
                        document.documentElement.style.overflowY = 'hidden';
                        document.body.style.overflowY = 'hidden';
                    }
                });

                var docTopNav          = document.querySelector('.doc-top-nav');
                var docMenuItem        = document.querySelector('.site-nav-tab');
                var mainMenuSecondItem = document.querySelector('.site-nav-tab:nth-child(2)');

                siteNav.insertBefore(docTopNav, mainMenuSecondItem);
                
                var searchPanel = document.getElementById('search-panel');
                
                siteNav.insertBefore(searchPanel, docMenuItem);

                var docMenuItemIcon = document.createElement('div');

                docMenuItemIcon.className = 'doc-menu-item-icon';
                docMenuItem.appendChild(docMenuItemIcon);

                
                    docMenuItem.className += ' expanded';
                    docTopNav.className += ' expanded';
                

                docMenuItem.addEventListener('click', function (e) {
                    if (docTopNav.className.indexOf('expanded') !== -1) {
                        docMenuItem.className = docMenuItem.className.replace(' expanded', '');
                        docTopNav.className = docTopNav.className.replace(' expanded', '');
                    }
                    else {
                        docMenuItem.className += ' expanded';
                        docTopNav.className += ' expanded';
                    }
                    e.preventDefault();
                });
            });

            linkCss('/testcafe/css/mobile.css');
        }
    </script>

  

  

  
    <script defer type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery.perfect-scrollbar/0.6.12/js/perfect-scrollbar.min.js"></script>
    <script defer type="text/javascript" src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-2.2.3.min.js"></script>

    <script>
        var MIN_BODY_WIDTH = 1230;
        var FOOTER_HEIGHT  = 113;
        var HEADER_HEIGHT  = 126;

        var nav            = null;
        var article        = null;

        function setNavTopPosition () {
            var top = null;

            if (document.body.clientWidth > MIN_BODY_WIDTH) {
                if (nav.style.top !== HEADER_HEIGHT + 'px') {
                    nav.style.top = HEADER_HEIGHT + 'px';
                    Ps.update(nav);
                }
            }
            else {
                top = window.pageYOffset <= HEADER_HEIGHT ? HEADER_HEIGHT - window.pageYOffset + 'px' : '0';

                if (nav.style.top !== top) {
                    nav.style.top = top;
                    Ps.update(nav);
                }
            }
        }

        function setNavBottomPosition () {
            var footerVisibleHeight = FOOTER_HEIGHT - document.body.scrollHeight + window.pageYOffset +
                                      document.body.clientHeight;

            if (footerVisibleHeight > 0) {
                if (nav.style.bottom !== footerVisibleHeight + 'px') {
                    nav.style.bottom = footerVisibleHeight + 'px';
                    Ps.update(nav);
                }
            }
            else if (nav.style.bottom !== '0') {
                nav.style.bottom = '0';
                Ps.update(nav);
            }
        }

        function updatePosition () {
            nav.style.marginLeft = '-' + window.pageXOffset + 'px';

            setNavBottomPosition();
            setNavTopPosition();
        }

        function changeBodyHeight () {
            if (document.body.style.height !== window.innerHeight + 'px')
                document.body.style.height = window.innerHeight + 'px';
        }

        function initScrollBar() {
            Ps.initialize(nav);

            window.addEventListener('resize', function () {
                Ps.update(nav);
            });
        }

        function initNav() {
            initScrollBar();
            updatePosition();
            window.addEventListener('scroll', updatePosition);
            window.addEventListener('resize', updatePosition);
        }

        document.addEventListener('DOMContentLoaded', function (e) {
            if (isMobileDevice)
                return;

            nav     = document.querySelector('.doc-nav');
            article = document.querySelector('.doc');

            if (nav)
                initNav(nav);
        });
    </script>
    
    <script>
        if (isMobileDevice) {
            linkCss('/testcafe/css/docs.mobile.css');           
            
            if (false == false) {
                document.addEventListener('DOMContentLoaded', function (e) {
                    var docNavPanel = document.querySelector('.doc-nav-panel');
                    var docNav      = document.querySelector('.doc-nav');

                    docNavPanel.addEventListener('click', function (e) {
                        if (docNav.className.indexOf('active') !== -1) {
                            docNav.className = docNav.className.replace(' active', '');
                            document.documentElement.style.overflowY = 'scroll';
                            document.body.style.overflowY = 'initial';
                        }
                        else {
                            docNav.className += ' active';
                            document.documentElement.style.overflowY = 'hidden';
                            document.body.style.overflowY = 'hidden';
                        }
                    });
                });
            }
        }
    </script>
  
    <script>
        function initHeader(siteHeader, contentWrapper, docTopMenu, article, gs) {
            var MIN_BODY_WIDTH = 1230;

            function updateHeader() {
                var bodyMinimized = document.body.clientWidth === MIN_BODY_WIDTH;

                

                siteHeader.style.position = bodyMinimized ? 'static' : '';

                if(docTopMenu)
                    docTopMenu.style.position = bodyMinimized ? 'static' : '';

                if(contentWrapper)
                    contentWrapper.style.paddingTop = bodyMinimized ? '0' : '';

                if(article && !isMobileDevice)
                    article.style.marginTop = bodyMinimized ? '21px' : '72px';
                if(gs && !isMobileDevice)
                    gs.style.paddingTop = bodyMinimized ? '21px' : '72px';
            }

            updateHeader();
            window.addEventListener('scroll', updateHeader);
            window.addEventListener('resize', updateHeader);
        }
        document.addEventListener('DOMContentLoaded', function (e) {
            var contentWrapper = document.querySelector('.container');
            var siteHeader     = document.querySelector('.site-header');
            var docTopMenu     = document.querySelector('.doc-top-nav');
            var article        = document.querySelector('.doc');
            var gs             = document.querySelector('.gs');

            if(siteHeader)
                initHeader(siteHeader, contentWrapper, docTopMenu, article, gs);
        });
    </script>
</head>


  <body>

    <script defer src="/testcafe/scripts/cookie-notice.js" type="text/javascript"></script>
<div class="cookie-notice">
    <div class="close-icon"></div>
    <div class="cookie-notice-content">
        <div class="cookie-notice-message">
            <div class="cookie-notice-header">Why We Use Cookies</div>
            <div class="cookie-notice-text">This site uses cookies to make your browsing experience more convenient and personal. Cookies store useful information on your computer to help us improve the efficiency and relevance of our site for you. In some cases, they are essential to making the site work properly. By accessing this site, you consent to the use of cookies. For more information, refer to DevExpress' <a href="https://www.devexpress.com/AboutUs/privacy-policy.xml" target="_blank">privacy policy</a> and <a href="https://www.devexpress.com/AboutUs/cookie-policy.xml" target="_blank">cookie policy</a>.</div>
        </div>
        <div class="cookie-notice-button">I understand</div>
    </div>
</div>

    <div class="page-content-wrapper">

      

<header class="site-header fixed">
  <div class="site-header-content">
    <a class="site-logo" href="/testcafe/"></a>
    <div class="hamburger-button">
        <div class="hamburger-icon"></div>
    </div>
    <nav class="site-nav">
        
          
          <div class="site-nav-tab active">
            <a class="page-link" href="/testcafe/documentation/getting-started/">Documentation</a>
          </div>
        
          
          <div class="site-nav-tab ">
            <a class="page-link" href="https://github.com/DevExpress/testcafe" target="_blank">GitHub</a>
          </div>
        
          
          <div class="site-nav-tab ">
            <a class="page-link" href="/testcafe/faq/">FAQ</a>
          </div>
        
          
          <div class="site-nav-tab ">
            <a class="page-link" href="/testcafe/blog/">Release Notes</a>
          </div>
        
          
          <div class="site-nav-tab ">
            <a class="page-link" href="/testcafe/support/">Support</a>
          </div>
        
          
          <div class="site-nav-tab ">
            <a class="page-link" id="studio-link" href="https://testcafe-studio.devexpress.com" target="_blank">TestCafe Studio</a>
          </div>
        
      <a id="twitter-button" href="https://twitter.com/dxtestcafe" target="_blank"></a>
      <div id="search-icon"></div>
      <div class="star-button">
        <a class="github-button" href="https://github.com/DevExpress/testcafe" data-size="large" data-count-href="/DevExpress/testcafe/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star DevExpress/testcafe on GitHub"><span style="color:#ffffff">Star</span></a>
      </div>
      <div id="search-panel" class="hidden">
          <input type="text" placeholder="Search documentation" id="search"/>
          <div id="close-search"></div>
      </div>
    </nav>
  </div>
</header>

<script>
  function has(parentEl, el)  {
    var descendants = parentEl.getElementsByTagName('*');
    
    for(i = 0; i < descendants.length; i++) 
        if(descendants[i] === el) return true;

    return false;
  }

  function clickOutsideBox(e, box) {
      return box !== e.target && !has(box, e.target);
  }  

  function closeSearchBox(e) {
      if(clickOutsideBox(e, searchPanel) && searchPanel.className.indexOf('hidden') === -1) 
          searchPanel.className += ' hidden';
  }

  var searchButton      = document.getElementById('search-icon');
  var searchPanel       = document.getElementById('search-panel');
  var searchInput       = document.getElementById('search');
  var closeSearchButton = document.getElementById('close-search');

  searchButton.addEventListener('click', function () {
      searchPanel.className = searchPanel.className.replace(/hidden/,'');
      searchInput.focus();      
  });
  
  closeSearchButton.addEventListener('click', function () {
      searchPanel.className += ' hidden';
  });

  window.addEventListener('mousedown', closeSearchBox);        
  window.addEventListener('touchstart', closeSearchBox);

  if (window.isMobileDevice) {
      function closeHamburgerMenuBox(e) {
          if(clickOutsideBox(e, hamburgerMenu) && clickOutsideBox(e, hamburgerButton) && hamburgerMenu.className.indexOf('active') !== -1) {
              hamburgerMenu.className = hamburgerMenu.className.replace(' active', '');
              hamburgerButton.className = hamburgerButton.className.replace(' active', '');
              document.documentElement.style.overflowY = 'scroll';
              document.body.style.overflowY = 'initial';
          }
      }

      var hamburgerMenu = document.querySelector('.site-nav');
      var hamburgerButton = document.querySelector('.hamburger-button');

      window.addEventListener('mousedown', closeHamburgerMenuBox);        
      window.addEventListener('touchstart', closeHamburgerMenuBox);

      window.addEventListener('DOMContentLoaded', function (e) {
          var docNav = document.querySelector('.doc-nav');

          if(docNav) {
              function closeDocNav() {
                  docNav.className = docNav.className.replace(' active', '');
                  document.documentElement.style.overflowY = 'scroll';
                  document.body.style.overflowY = 'initial';
              }

              function clickWithDocNavInvoked(e) {
                  if(clickOutsideBox(e, docNav) && clickOutsideBox(e, docNavPanel) && docNav.className.indexOf('active') !== -1) 
                      closeDocNav();
              }

              var docNavPanel = document.querySelector('.doc-nav-panel');

              window.addEventListener('mousedown', clickWithDocNavInvoked);        
              window.addEventListener('touchstart', clickWithDocNavInvoked);

              var docNavLinks = document.querySelectorAll('.doc-nav a');

              docNavLinks.forEach(function (link) {
                  link.addEventListener('click', closeDocNav);
              });
          }
      });
  }
</script>

<script>
  var studioLink = document.getElementById('studio-link');

  studioLink.addEventListener('click', function () {
      ga('send', 'event', 'topMenu', 'studioLinkClicked');
  });
</script>

<div class="doc-top-nav">
  <div class="doc-top-nav-content">
    <div class="doc-top-nav-wrapper">
      
        <div class="doc-top-nav-tab " >
          <a href="/testcafe/documentation/getting-started/">Getting Started</a>      
        </div>
      
        <div class="doc-top-nav-tab active" >
          <a href="/testcafe/documentation/using-testcafe/">Using TestCafe</a>      
        </div>
      
        <div class="doc-top-nav-tab " >
          <a href="/testcafe/documentation/test-api/">Test API</a>      
        </div>
      
        <div class="doc-top-nav-tab " >
          <a href="/testcafe/documentation/extending-testcafe/">Extending TestCafe</a>      
        </div>
      
        <div class="doc-top-nav-tab " >
          <a href="/testcafe/documentation/continuous-integration/">Continuous Integration</a>      
        </div>
      
        <div class="doc-top-nav-tab " >
          <a href="/testcafe/documentation/recipes/">Recipes</a>      
        </div>
      
    </div>
  </div>
</div>


      <div class="container">
    
	
	

	
	
	<div class="doc-nav-panel">
		<div class="toggle-nav-button"></div>
		<div class="doc-nav-panel-header">
			<div class="doc-nav-panel-heading">Documentation</div>
			<div class="doc-nav-panel-title">
				
					
				
					
						Using TestCafe
					
				
					
				
					
				
					
				
					
				
			</div>
		</div>
	</div>
	<nav class="doc-nav">	
		<div class="doc-nav-content">
			<ul>
				<li>
				<ul>

    <li>
		    
		
<a href="/testcafe/documentation/using-testcafe/installing-testcafe.html"  >Installing TestCafe</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/using-testcafe/command-line-interface.html"  >Command Line Interface</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/using-testcafe/programming-interface/"  >Programming Interface</a>
		
			<ul>

    <li>
		    
		
<a href="/testcafe/documentation/using-testcafe/programming-interface/testcafe.html"  >TestCafe Class</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/using-testcafe/programming-interface/browserconnection.html"  >BrowserConnection Class</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/using-testcafe/programming-interface/runner.html" class="active" >Runner Class</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/using-testcafe/programming-interface/createtestcafe.html"  >createTestCafe Factory</a>
		
    </li>

</ul>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/using-testcafe/using-testcafe-docker-image.html"  >Using TestCafe Docker Image</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/using-testcafe/common-concepts/"  >Common Concepts</a>
		
			<ul>

    <li>
		    
		
<a href="/testcafe/documentation/using-testcafe/common-concepts/browsers/"  >Browsers</a>
		
			<ul>

    <li>
		    
		
<a href="/testcafe/documentation/using-testcafe/common-concepts/browsers/browser-support.html"  >Browser Support</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/using-testcafe/common-concepts/browsers/testing-in-headless-mode.html"  >Testing in Headless Mode</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/using-testcafe/common-concepts/browsers/using-chrome-device-emulation.html"  >Using Chrome Device Emulation</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/using-testcafe/common-concepts/browsers/user-profiles.html"  >User Profiles</a>
		
    </li>

</ul>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/using-testcafe/common-concepts/concurrent-test-execution.html"  >Concurrent Test Execution</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/using-testcafe/common-concepts/reporters.html"  >Reporters</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/using-testcafe/common-concepts/connect-to-the-testcafe-server-over-https.html"  >Connect to the TestCafe Server over HTTPS</a>
		
    </li>

</ul>
		
    </li>

</ul>
				</li>
			</ul>
		</div>
	</nav>
	

	
	

	
	

	
	

	
	
	


<main>
	<article class="doc">
		<div class="post-content">

			<h1>Runner Class</h1>
<p>An object that configures and launches test tasks.</p>

<p>Created using the <a href="testcafe.html#createrunner">testCafe.createRunner</a> function.</p>

<p><strong>Example</strong></p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">createTestCafe</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'testcafe'</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">testcafe</span>         <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>

<span class="nx">createTestCafe</span><span class="p">(</span><span class="s1">'localhost'</span><span class="p">,</span> <span class="mi">1337</span><span class="p">,</span> <span class="mi">1338</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">tc</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">testcafe</span>     <span class="o">=</span> <span class="nx">tc</span><span class="p">;</span>
        <span class="kr">const</span> <span class="nx">runner</span> <span class="o">=</span> <span class="nx">testcafe</span><span class="p">.</span><span class="nx">createRunner</span><span class="p">();</span>

        <span class="k">return</span> <span class="nx">runner</span>
            <span class="p">.</span><span class="nx">src</span><span class="p">([</span><span class="s1">'tests/fixture1.js'</span><span class="p">,</span> <span class="s1">'tests/func/fixture3.js'</span><span class="p">])</span>
            <span class="p">.</span><span class="nx">browsers</span><span class="p">([</span><span class="s1">'chrome'</span><span class="p">,</span> <span class="s1">'safari'</span><span class="p">])</span>
            <span class="p">.</span><span class="nx">run</span><span class="p">();</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">failedCount</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Tests failed: '</span> <span class="o">+</span> <span class="nx">failedCount</span><span class="p">);</span>
        <span class="nx">testcafe</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
    <span class="p">});</span>
</code></pre></div><h2><a class="anchor" id="methods"></a>Methods <a class="permalink" href="#methods">#</a></h2>
<ul>
<li><a href="#src">src</a></li>
<li><a href="#filter">filter</a></li>
<li><a href="#browsers">browsers</a>

<ul>
<li><a href="#using-browser-aliases">Using Browser Aliases</a></li>
<li><a href="#specifying-the-path-to-the-browser-executable">Specifying the Path to the Browser Executable</a></li>
<li><a href="#specifying-the-path-with-command-line-parameters">Specifying the Path with Command Line Parameters</a></li>
<li><a href="#passing-a-remote-browser-connection">Passing a Remote Browser Connection</a></li>
</ul></li>
<li><a href="#screenshots">screenshots</a></li>
<li><a href="#reporter">reporter</a>

<ul>
<li><a href="#specifying-the-reporter">Specifying the Reporter</a></li>
<li><a href="#saving-the-report-to-a-file">Saving the Report to a File</a></li>
<li><a href="#using-multiple-reporters">Using Multiple Reporters</a></li>
<li><a href="#implementing-a-custom-stream">Implementing a Custom Stream</a></li>
</ul></li>
<li><a href="#concurrency">concurrency</a></li>
<li><a href="#startapp">startApp</a></li>
<li><a href="#useproxy">useProxy</a></li>
<li><a href="#run">run</a>

<ul>
<li><a href="#cancelling-test-tasks">Cancelling Test Tasks</a></li>
<li><a href="#quarantine-mode">Quarantine Mode</a></li>
</ul></li>
<li><a href="#stop">stop</a></li>
</ul>
<h3><a class="anchor" id="src"></a>src <a class="permalink" href="#src">#</a></h3>
<p>Configures the test runner to run tests from the specified files.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">src(source) → this
</code></pre></div><div class="table-wrapper"><table><thead><tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody><tr>
<td><code>source</code></td>
<td>String &#124; Array</td>
<td>The relative or absolute path to a test fixture file, or several such paths. You can use <a href="https://github.com/isaacs/node-glob#glob-primer">glob patterns</a> to include (or exclude) multiple files.</td>
</tr>
</tbody></table></div>
<p>If you call the method several times, all the specified sources are added to the test runner.</p>

<p><strong>Examples</strong></p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">runner</span><span class="p">.</span><span class="nx">src</span><span class="p">([</span><span class="s1">'/home/user/tests/fixture1.js'</span><span class="p">,</span> <span class="s1">'fixture5.js'</span><span class="p">]);</span>
</code></pre></div><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">runner</span><span class="p">.</span><span class="nx">src</span><span class="p">([</span><span class="s1">'/home/user/tests/**/*.js'</span><span class="p">,</span> <span class="s1">'!/home/user/tests/foo.js'</span><span class="p">]);</span>
</code></pre></div><h3><a class="anchor" id="filter"></a>filter <a class="permalink" href="#filter">#</a></h3>
<p>Allows you to select which tests should be run.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">filter(callback) → this
</code></pre></div><div class="table-wrapper"><table><thead><tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody><tr>
<td><code>callback</code></td>
<td><code>function(testName, fixtureName, fixturePath, testMeta, fixtureMeta)</code></td>
<td>The callback that determines if a particular test should be run.</td>
</tr>
</tbody></table></div>
<p>The callback function is called for each test in the files the <a href="#src">src</a> method specifies.</p>

<p>Return <code>true</code> from the callback to include the current test or <code>false</code> to exclude it.</p>

<p>The callback function accepts the following arguments:</p>
<div class="table-wrapper"><table><thead><tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody><tr>
<td><code>testName</code></td>
<td>String</td>
<td>The name of the test.</td>
</tr>
<tr>
<td><code>fixtureName</code></td>
<td>String</td>
<td>The name of the test fixture.</td>
</tr>
<tr>
<td><code>fixturePath</code></td>
<td>String</td>
<td>The path to the test fixture file.</td>
</tr>
<tr>
<td><code>testMeta</code></td>
<td>Object&lt;String, String&gt;</td>
<td>The test metadata.</td>
</tr>
<tr>
<td><code>fixtureMeta</code></td>
<td>Object&lt;String, String&gt;</td>
<td>The fixture metadata.</td>
</tr>
</tbody></table></div>
<p><strong>Example</strong></p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">runner</span><span class="p">.</span><span class="nx">filter</span><span class="p">((</span><span class="nx">testName</span><span class="p">,</span> <span class="nx">fixtureName</span><span class="p">,</span> <span class="nx">fixturePath</span><span class="p">,</span> <span class="nx">testMeta</span><span class="p">,</span> <span class="nx">fixtureMeta</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">fixturePath</span><span class="p">.</span><span class="nx">startsWith</span><span class="p">(</span><span class="s1">'D'</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
        <span class="nx">testName</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="nx">someRe</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
        <span class="nx">fixtureName</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="nx">anotherRe</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
        <span class="nx">testMeta</span><span class="p">.</span><span class="nx">mobile</span> <span class="o">===</span> <span class="s1">'true'</span> <span class="o">&amp;&amp;</span>
        <span class="nx">fixtureMeta</span><span class="p">.</span><span class="nx">env</span> <span class="o">===</span> <span class="s1">'staging'</span><span class="p">;</span>
<span class="p">});</span>
</code></pre></div><h3><a class="anchor" id="browsers"></a>browsers <a class="permalink" href="#browsers">#</a></h3>
<p>Configures the test runner to run tests in the specified browsers.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">browsers(browser) → this
</code></pre></div>
<p>The <code>browser</code> parameter can be any of the following objects or an <code>Array</code> of them:</p>
<div class="table-wrapper"><table><thead><tr>
<th>Parameter Type</th>
<th>Description</th>
<th>Browser Type</th>
</tr>
</thead><tbody><tr>
<td>String</td>
<td>A different browser alias for each browser type. See <a href="../common-concepts/browsers/browser-support.html">Browser Support</a> for more details.</td>
<td><a href="../common-concepts/browsers/browser-support.html#locally-installed-browsers">Local browsers</a>, <a href="../common-concepts/browsers/browser-support.html#browsers-in-cloud-testing-services">cloud browsers</a>, and <a href="../common-concepts/browsers/browser-support.html#nonconventional-browsers">browsers accessed through <em>browser provider plugins</em></a>.</td>
</tr>
<tr>
<td><code>{path: String, cmd: String}</code></td>
<td>The path to the browser&#39;s executable (<code>path</code>) and command line parameters (<code>cmd</code>). The <code>cmd</code> property is optional.</td>
<td><a href="../common-concepts/browsers/browser-support.html#locally-installed-browsers">Local</a> and <a href="../common-concepts/browsers/browser-support.html#portable-browsers">portable</a> browsers</td>
</tr>
<tr>
<td><a href="browserconnection.html">BrowserConnection</a></td>
<td>The remote browser connection.</td>
<td><a href="../common-concepts/browsers/browser-support.html#browsers-on-remote-devices">Remote browsers</a></td>
</tr>
</tbody></table></div>
<p>You can use different object types in one function call. If you call the method several times, all the specified browsers are added to the test runner.</p>
<h4><a class="anchor" id="using-browser-aliases"></a>Using Browser Aliases <a class="permalink" href="#using-browser-aliases">#</a></h4>
<ul>
<li>running local browsers</li>
</ul>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">runner</span><span class="p">.</span><span class="nx">browsers</span><span class="p">([</span><span class="s1">'safari'</span><span class="p">,</span> <span class="s1">'chrome'</span><span class="p">]);</span>
</code></pre></div>
<ul>
<li>running browsers accessed through browser provider plugins</li>
</ul>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">runner</span><span class="p">.</span><span class="nx">browsers</span><span class="p">(</span><span class="s1">'saucelabs:Chrome@52.0:Windows 8.1'</span><span class="p">);</span>
</code></pre></div><h4><a class="anchor" id="specifying-the-path-to-the-browser-executable"></a>Specifying the Path to the Browser Executable <a class="permalink" href="#specifying-the-path-to-the-browser-executable">#</a></h4>
<p>Use the <code>path:</code> prefix. Enclose the path in backticks if it contains spaces.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">runner</span><span class="p">.</span><span class="nx">browsers</span><span class="p">(</span><span class="s1">'path:`C:\\Program Files\\Internet Explorer\\iexplore.exe`'</span><span class="p">);</span>
</code></pre></div><h4><a class="anchor" id="specifying-the-path-with-command-line-parameters"></a>Specifying the Path with Command Line Parameters <a class="permalink" href="#specifying-the-path-with-command-line-parameters">#</a></h4><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">runner</span><span class="p">.</span><span class="nx">browsers</span><span class="p">({</span>
    <span class="na">path</span><span class="p">:</span> <span class="s1">'C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe'</span><span class="p">,</span>
    <span class="na">cmd</span><span class="p">:</span> <span class="s1">'--new-window'</span>
<span class="p">});</span>
</code></pre></div><h4><a class="anchor" id="headless-mode-device-emulation-and-user-profiles"></a>Headless Mode, Device Emulation and User Profiles <a class="permalink" href="#headless-mode-device-emulation-and-user-profiles">#</a></h4>
<p>You can add postfixes to browser aliases to run tests in the <a href="../common-concepts/browsers/testing-in-headless-mode.html">headless mode</a>, use <a href="../common-concepts/browsers/using-chrome-device-emulation.html">Chrome device emulation</a> or <a href="../common-concepts/browsers/user-profiles.html">user profiles</a>.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">runner</span><span class="p">.</span><span class="nx">browsers</span><span class="p">(</span><span class="s1">'chrome:headless'</span><span class="p">);</span>
</code></pre></div>
<p>For portable browsers, use the browser alias followed by the path to an executable.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">runner</span><span class="p">.</span><span class="nx">browsers</span><span class="p">(</span><span class="s1">'firefox:/home/user/apps/firefox.app:userProfile'</span><span class="p">);</span>
</code></pre></div><blockquote><div class="blockquote-content"><p>The <code>path:</code> prefix does not support postfixes.</p>
</div></blockquote><h4><a class="anchor" id="passing-a-remote-browser-connection"></a>Passing a Remote Browser Connection <a class="permalink" href="#passing-a-remote-browser-connection">#</a></h4><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">createTestCafe</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'testcafe'</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">runner</span>           <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">testcafe</span>         <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>

<span class="nx">createTestCafe</span><span class="p">(</span><span class="s1">'localhost'</span><span class="p">,</span> <span class="mi">1337</span><span class="p">,</span> <span class="mi">1338</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">tc</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">testcafe</span> <span class="o">=</span> <span class="nx">tc</span><span class="p">;</span>
        <span class="nx">runner</span>   <span class="o">=</span> <span class="nx">testcafe</span><span class="p">.</span><span class="nx">createRunner</span><span class="p">();</span>

        <span class="k">return</span> <span class="nx">testcafe</span><span class="p">.</span><span class="nx">createBrowserConnection</span><span class="p">();</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">remoteConnection</span> <span class="o">=&gt;</span> <span class="p">{</span>

        <span class="c1">// Outputs remoteConnection.url so that it can be visited from the remote browser.</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">remoteConnection</span><span class="p">.</span><span class="nx">url</span><span class="p">);</span>

        <span class="nx">remoteConnection</span><span class="p">.</span><span class="nx">once</span><span class="p">(</span><span class="s1">'ready'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="nx">runner</span>
                <span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="s1">'test.js'</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">browsers</span><span class="p">(</span><span class="nx">remoteConnection</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">run</span><span class="p">()</span>
                <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">failedCount</span> <span class="o">=&gt;</span> <span class="p">{</span>
                    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">failedCount</span><span class="p">);</span>
                    <span class="nx">testcafe</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
                 <span class="p">});</span>
        <span class="p">});</span>
    <span class="p">});</span>
</code></pre></div><h3><a class="anchor" id="screenshots"></a>screenshots <a class="permalink" href="#screenshots">#</a></h3>
<p>Enables TestCafe to take screenshots of the tested webpages.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">screenshots(path [, takeOnFails, pathPattern]) → this
</code></pre></div><div class="table-wrapper"><table><thead><tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead><tbody><tr>
<td><code>path</code></td>
<td>String</td>
<td>The base path where the screenshots are saved. Note that to construct a complete path to these screenshots, TestCafe uses default <a href="../command-line-interface.html#path-patterns">path patterns</a>. You can override these patterns using the method&#39;s <code>screenshotPathPattern</code> parameter.</td>
<td></td>
</tr>
<tr>
<td><code>takeOnFails</code>&#160;<em>(optional)</em></td>
<td>Boolean</td>
<td>Specifies if screenshots should be taken automatically when a test fails.</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>sceenshotPathPattern</code>&#160;<em>(optional)</em></td>
<td>String</td>
<td>The pattern to compose screenshot files&#39; relative path and name. See <a href="../command-line-interface.html#-p---screenshot-path-pattern">--screenshot-path-pattern</a> for information about the available placeholders.</td>
<td></td>
</tr>
</tbody></table></div>
<p>The <code>screenshots</code> function should be called to allow TestCafe to take screenshots
when the <a href="../../test-api/actions/take-screenshot.html">t.takeScreenshot</a> action is called from test code.</p>

<p>Set the <code>takeOnFails</code> parameter to <code>true</code> to take a screenshot when a test fails.</p>
<blockquote class="important"><div class="blockquote-content"><p>TestCafe does not take screenshots if the <code>screenshots</code> function is not called.</p>
</div></blockquote>
<p><strong>Example</strong></p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">runner</span><span class="p">.</span><span class="nx">screenshots</span><span class="p">(</span><span class="s1">'reports/screenshots/'</span><span class="p">,</span> <span class="kc">true</span><span class="p">,</span> <span class="s1">'${DATE}_${TIME}/test-${TEST_INDEX}/${USERAGENT}/${FILE_INDEX}.png'</span><span class="p">);</span>
</code></pre></div><h3><a class="anchor" id="reporter"></a>reporter <a class="permalink" href="#reporter">#</a></h3>
<p>Configures TestCafe&#39;s reporting feature.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">reporter(name [, outStream]) → this
</code></pre></div><div class="table-wrapper"><table><thead><tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead><tbody><tr>
<td><code>name</code></td>
<td>String</td>
<td>The name of the <a href="../common-concepts/reporters.html">reporter</a> to use.</td>
<td></td>
</tr>
<tr>
<td><code>outStream</code>&#160;<em>(optional)</em></td>
<td>Writable Stream implementer</td>
<td>The stream to which the report is written.</td>
<td><code>stdout</code></td>
</tr>
</tbody></table></div>
<p>To use multiple reporters, call this method several times with different reporter names. Note that only one reporter can write to <code>stdout</code>.</p>
<h4><a class="anchor" id="specifying-the-reporter"></a>Specifying the Reporter <a class="permalink" href="#specifying-the-reporter">#</a></h4><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">runner</span><span class="p">.</span><span class="nx">reporter</span><span class="p">(</span><span class="s1">'minimal'</span><span class="p">);</span>
</code></pre></div><h4><a class="anchor" id="saving-the-report-to-a-file"></a>Saving the Report to a File <a class="permalink" href="#saving-the-report-to-a-file">#</a></h4><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">stream</span> <span class="o">=</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">createWriteStream</span><span class="p">(</span><span class="s1">'report.xml'</span><span class="p">);</span>

<span class="nx">runner</span>
    <span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="s1">'tests/sample-fixture.js'</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">browsers</span><span class="p">(</span><span class="s1">'chrome'</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">reporter</span><span class="p">(</span><span class="s1">'xunit'</span><span class="p">,</span> <span class="nx">stream</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">run</span><span class="p">()</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">failedCount</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">stream</span><span class="p">.</span><span class="nx">end</span><span class="p">();</span>
    <span class="p">});</span>
</code></pre></div><h4><a class="anchor" id="using-multiple-reporters"></a>Using Multiple Reporters <a class="permalink" href="#using-multiple-reporters">#</a></h4><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">stream</span> <span class="o">=</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">createWriteStream</span><span class="p">(</span><span class="s1">'report.json'</span><span class="p">);</span>

<span class="nx">runner</span>
    <span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="s1">'tests/sample-fixture.js'</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">browsers</span><span class="p">(</span><span class="s1">'chrome'</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">reporter</span><span class="p">(</span><span class="s1">'json'</span><span class="p">,</span> <span class="nx">stream</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">reporter</span><span class="p">(</span><span class="s1">'list'</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">run</span><span class="p">()</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">failedCount</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">stream</span><span class="p">.</span><span class="nx">end</span><span class="p">();</span>
    <span class="p">});</span>
</code></pre></div><h4><a class="anchor" id="implementing-a-custom-stream"></a>Implementing a Custom Stream <a class="permalink" href="#implementing-a-custom-stream">#</a></h4><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">class</span> <span class="nx">MyStream</span> <span class="kr">extends</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">Writable</span> <span class="p">{</span>
    <span class="nx">_write</span><span class="p">(</span><span class="nx">chunk</span><span class="p">,</span> <span class="nx">encoding</span><span class="p">,</span> <span class="nx">next</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">doSomething</span><span class="p">(</span><span class="nx">chunk</span><span class="p">);</span>
        <span class="nx">next</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">stream</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MyStream</span><span class="p">();</span>
<span class="nx">runner</span><span class="p">.</span><span class="nx">reporter</span><span class="p">(</span><span class="s1">'json'</span><span class="p">,</span> <span class="nx">stream</span><span class="p">);</span>
</code></pre></div>
<p>You can also build your own reporter. Use a <a href="https://github.com/DevExpress/generator-testcafe-reporter">dedicated Yeoman generator</a> to scaffold out a <a href="../../extending-testcafe/reporter-plugin/">reporter plugin</a>.</p>
<h3><a class="anchor" id="concurrency"></a>concurrency <a class="permalink" href="#concurrency">#</a></h3>
<p>Specifies that tests should run concurrently.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">concurrency(n) → this
</code></pre></div>
<p>TestCafe opens <code>n</code> instances of the same browser and creates a pool of browser instances.
Tests are run concurrently against this pool, that is, each test is run in the first available instance.</p>

<p>The <code>concurrency</code> function takes the following parameters:</p>
<div class="table-wrapper"><table><thead><tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody><tr>
<td><code>n</code></td>
<td>Number</td>
<td>The number of browser instances that are invoked.</td>
</tr>
</tbody></table></div>
<p>See <a href="../common-concepts/concurrent-test-execution.html">Concurrent Test Execution</a> to learn more about concurrent test execution.</p>

<p>The following example shows how to run tests in three Chrome instances:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">runner</span>
    <span class="p">.</span><span class="nx">browsers</span><span class="p">(</span><span class="s1">'chrome'</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">concurrency</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
</code></pre></div><h3><a class="anchor" id="startapp"></a>startApp <a class="permalink" href="#startapp">#</a></h3>
<p>Specifies a shell command that is executed before running tests. Use it to launch or deploy the application that is tested.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">async startApp(command, initDelay) → this
</code></pre></div>
<p>After the testing is finished, the application is automatically terminated.</p>

<p>The <code>startApp</code> function takes the following parameters:</p>
<div class="table-wrapper"><table><thead><tr>
<th>Parameter</th>
<th>Type</th>
<th>Description   Default</th>
</tr>
</thead><tbody><tr>
<td><code>command</code></td>
<td>String</td>
<td>The shell command to be executed.</td>
</tr>
<tr>
<td><code>initDelay</code>&#160;<em>(optional)</em></td>
<td>Number</td>
<td>The amount of time (in milliseconds) allowed for the command to initialize the tested application.</td>
</tr>
</tbody></table></div><blockquote><div class="blockquote-content"><p>TestCafe adds <code>node_modules/.bin</code> to <code>PATH</code> so that you can use binaries the locally installed dependencies provide without prefixes.</p>
</div></blockquote>
<p><strong>Example</strong></p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">runner</span><span class="p">.</span><span class="nx">startApp</span><span class="p">(</span><span class="s1">'node server.js'</span><span class="p">,</span> <span class="mi">4000</span><span class="p">);</span>
</code></pre></div><h3><a class="anchor" id="useproxy"></a>useProxy <a class="permalink" href="#useproxy">#</a></h3>
<p>Specifies the proxy server used in your local network to access the Internet. Allows you to bypass the proxy when accessing specific resources.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">async useProxy(host [, bypassRules]) → this
</code></pre></div><div class="table-wrapper"><table><thead><tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody><tr>
<td><code>host</code></td>
<td>String</td>
<td>The proxy server host.</td>
</tr>
<tr>
<td><code>bypassRules</code>&#160;<em>(optional)</em></td>
<td>String &#124; Array</td>
<td>A set of rules that specify which resources are accessed bypassing the proxy.</td>
</tr>
</tbody></table></div>
<p>If you access the Internet through a proxy server, use the <code>useProxy</code> method to specify its host.</p>

<p>When using a proxy server, you may still need to access local or external resources directly. In this instance, provide their URLs in the <code>bypassRules</code> option.</p>

<p>The <code>bypassRules</code> parameter takes one or several URLs that require direct access. You can replace parts of the URL with the <code>*</code> wildcard that corresponds to a string of any length. Wildcards at the beginning and end of the rules can be omitted (<code>*.mycompany.com</code> and <code>.mycompany.com</code> have the same effect).</p>

<p><strong>Examples</strong></p>

<p>The following example shows how to use the proxy server at <code>proxy.corp.mycompany.com</code>:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">runner</span><span class="p">.</span><span class="nx">useProxy</span><span class="p">(</span><span class="s1">'proxy.corp.mycompany.com'</span><span class="p">);</span>
</code></pre></div>
<p>In the example below, the proxy server address is <code>172.0.10.10:8080</code> and two resources at <code>localhost:8080</code> and <code>internal-resource.corp.mycompany.com</code> are accessed directly.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">runner</span><span class="p">.</span><span class="nx">useProxy</span><span class="p">(</span><span class="s1">'172.0.10.10:8080'</span><span class="p">,</span> <span class="p">[</span><span class="s1">'localhost:8080'</span><span class="p">,</span> <span class="s1">'internal-resource.corp.mycompany.com'</span><span class="p">]);</span>
</code></pre></div>
<p>The <code>*.mycompany.com</code> proxy bypass rule means that all URLs in <code>mycompany.com</code> subdomains are accessed directly.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">runner</span><span class="p">.</span><span class="nx">useProxy</span><span class="p">(</span><span class="s1">'proxy.corp.mycompany.com'</span><span class="p">,</span> <span class="s1">'*.mycompany.com'</span><span class="p">);</span>
</code></pre></div>
<p>You can also use the proxy host to specify authentication credentials.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">runner</span><span class="p">.</span><span class="nx">useProxy</span><span class="p">(</span><span class="s1">'username:password@proxy.mycorp.com'</span><span class="p">);</span>
</code></pre></div><h3><a class="anchor" id="run"></a>run <a class="permalink" href="#run">#</a></h3>
<p>Runs tests according to the current configuration. Returns the number of failed tests.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">async run(options) → Promise&lt;Number&gt;
</code></pre></div><blockquote class="important"><div class="blockquote-content"><p>Make sure to keep the browser tab that is running tests active. Do not minimize the browser window.
Inactive tabs and minimized browser windows switch to a lower resource consumption mode
where tests are not guaranteed to execute correctly.</p>
</div></blockquote>
<p>You can pass the following options to the <code>runner.run</code> function.</p>
<div class="table-wrapper"><table><thead><tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead><tbody><tr>
<td><code>skipJsErrors</code></td>
<td>Boolean</td>
<td>Defines whether to continue running a test after a JavaScript error occurs on a page (<code>true</code>), or consider such a test failed (<code>false</code>).</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>skipUncaughtErrors</code></td>
<td>Boolean</td>
<td>Defines whether to continue running a test after an uncaught error or unhandled promise rejection occurs on the server (<code>true</code>), or consider such a test failed (<code>false</code>).</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>quarantineMode</code></td>
<td>Boolean</td>
<td>Defines whether to enable the <a href="#quarantine-mode">quarantine mode</a>.</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>debugMode</code></td>
<td>Boolean</td>
<td>Specifies if tests run in the debug mode. If this option is enabled, test execution is paused before the first action or assertion allowing you to invoke the developer tools and debug. In the debug mode, you can execute the test step-by-step to reproduce its incorrect behavior. You can also use the <strong>Unlock page</strong> switch in the footer to unlock the tested page and interact with its elements.</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>debugOnFail</code></td>
<td>Boolean</td>
<td>Specifies whether to enter the debug mode when a test fails. If enabled, the test is paused at the moment it fails, so that you can explore the tested page to determine what caused the failure.</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>selectorTimeout</code></td>
<td>Number</td>
<td>Specifies the time (in milliseconds) within which <a href="../../test-api/selecting-page-elements/selectors/">selectors</a> make attempts to obtain a node to be returned. See <a href="../../test-api/selecting-page-elements/selectors/using-selectors.html#selector-timeout">Selector Timeout</a>.</td>
<td><code>10000</code></td>
</tr>
<tr>
<td><code>assertionTimeout</code></td>
<td>Number</td>
<td>Specifies the time (in milliseconds) within which TestCafe makes attempts  to successfully execute an <a href="../../test-api/assertions/">assertion</a> if <a href="../../test-api/selecting-page-elements/selectors/using-selectors.html#define-assertion-actual-value">a selector property</a> or a <a href="../../test-api/obtaining-data-from-the-client/">client function</a> was passed as an actual value. See <a href="../../test-api/assertions/#smart-assertion-query-mechanism">Smart Assertion Query Mechanism</a>.</td>
<td><code>3000</code></td>
</tr>
<tr>
<td><code>pageLoadTimeout</code></td>
<td>Number</td>
<td>Specifies the time (in milliseconds) TestCafe waits for the <code>window.load</code> event to fire after the <code>DOMContentLoaded</code> event. After the timeout passes or the <code>window.load</code> event is raised (whichever happens first), TestCafe starts the test. You can set this timeout to <code>0</code> to skip waiting for <code>window.load</code>.</td>
<td><code>3000</code></td>
</tr>
<tr>
<td><code>speed</code></td>
<td>Number</td>
<td>Specifies the test execution speed. A number between <code>1</code> (fastest) and <code>0.01</code> (slowest). If an <a href="../../test-api/actions/action-options.html#basic-action-options">individual action&#39;s</a> speed is also specified, the action speed setting overrides the test speed.</td>
<td><code>1</code></td>
</tr>
<tr>
<td><code>stopOnFirstFail</code></td>
<td>Boolean</td>
<td>Defines whether to stop a test run if a test fails. This allows you not to wait for all the tests to finish and to focus on the first error.</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>disableTestSyntaxValidation</code></td>
<td>Boolean</td>
<td>Defines whether to disable checks for <a href="../../test-api/test-code-structure.html#tests">test</a> and <a href="../../test-api/test-code-structure.html#fixtures">fixture</a> directives in test files. Use this option to run dynamically loaded tests. See details in the <a href="../command-line-interface.html#--disable-test-syntax-validation">--disable-test-syntax-validation</a> command line option description.</td>
<td><code>false</code></td>
</tr>
</tbody></table></div>
<p>After all tests are finished, call the <a href="testcafe.html#close">testcafe.close</a> function to stop the TestCafe server.</p>

<p><strong>Example</strong></p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">createTestCafe</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'testcafe'</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">testcafe</span>         <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>

<span class="nx">createTestCafe</span><span class="p">(</span><span class="s1">'localhost'</span><span class="p">,</span> <span class="mi">1337</span><span class="p">,</span> <span class="mi">1338</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">tc</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">testcafe</span>     <span class="o">=</span> <span class="nx">tc</span><span class="p">;</span>
        <span class="kr">const</span> <span class="nx">runner</span> <span class="o">=</span> <span class="nx">testcafe</span><span class="p">.</span><span class="nx">createRunner</span><span class="p">();</span>

        <span class="k">return</span> <span class="nx">runner</span><span class="p">.</span><span class="nx">run</span><span class="p">({</span>
            <span class="na">skipJsErrors</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
            <span class="na">quarantineMode</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
            <span class="na">selectorTimeout</span><span class="p">:</span> <span class="mi">50000</span><span class="p">,</span>
            <span class="na">assertionTimeout</span><span class="p">:</span> <span class="mi">7000</span><span class="p">,</span>
            <span class="na">pageLoadTimeout</span><span class="p">:</span> <span class="mi">8000</span><span class="p">,</span>
            <span class="na">speed</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span>
            <span class="na">stopOnFirstFail</span><span class="p">:</span> <span class="kc">true</span>
        <span class="p">});</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">failed</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Tests failed: '</span> <span class="o">+</span> <span class="nx">failed</span><span class="p">);</span>
        <span class="nx">testcafe</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="cm">/* ... */</span> <span class="p">});</span>
</code></pre></div>
<p>If a browser stops responding while it executes tests, TestCafe restarts the browser and reruns the current test in a new browser instance.
If the same problem occurs with this test two more times, the test run finishes and an error is thrown.</p>
<h4><a class="anchor" id="cancelling-test-tasks"></a>Cancelling Test Tasks <a class="permalink" href="#cancelling-test-tasks">#</a></h4>
<p>You can stop an individual test task at any moment by cancelling the corresponding promise.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">taskPromise</span> <span class="o">=</span> <span class="nx">runner</span>
    <span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="s1">'tests/fixture1.js'</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">browsers</span><span class="p">([</span><span class="nx">remoteConnection</span><span class="p">,</span> <span class="s1">'chrome'</span><span class="p">])</span>
    <span class="p">.</span><span class="nx">reporter</span><span class="p">(</span><span class="s1">'json'</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">run</span><span class="p">();</span>

<span class="nx">taskPromise</span><span class="p">.</span><span class="nx">cancel</span><span class="p">();</span>
</code></pre></div>
<p>You can also cancel all pending tasks at once using the <a href="#stop">runner.stop</a> function.</p>
<h4><a class="anchor" id="quarantine-mode"></a>Quarantine Mode <a class="permalink" href="#quarantine-mode">#</a></h4>
<p>The quarantine mode is designed to isolate <em>non-deterministic</em> tests (that is, tests that pass and fail without any apparent reason) from the other tests.</p>

<p>When the quarantine mode is enabled, tests run according to the following logic:</p>

<ol>
<li>A test runs at the first time. If it passes, TestCafe proceeds to the next test.</li>
<li>If the test fails, it runs again until it passes or fails three times.</li>
<li>The most frequent outcome is recorded as the test result.</li>
<li>If the test result differs between test runs, the test is marked as unstable.</li>
</ol>
<blockquote><div class="blockquote-content"><p>Note that it increases the test task&#39;s duration if you enable quarantine mode on your test machine because failed tests are executed three to five times.</p>
</div></blockquote>
<p>See Martin Fowler&#39;s <a href="http://martinfowler.com/articles/nonDeterminism.html">Eradicating Non-Determinism in Tests</a> article for more information about non-deterministic tests.</p>
<h3><a class="anchor" id="stop"></a>stop <a class="permalink" href="#stop">#</a></h3>
<p>Stops all the pending test tasks.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">async stop()
</code></pre></div>
<p>You can also stop an individual pending task by <a href="#cancelling-test-tasks">cancelling the corresponding promise</a>.</p>


		</div>
	</article>
</main>
</div>

      <div class="push"></div>
    </div>

    <footer class="site-footer">
    <div class="site-footer-content">
        <div class="footer-col-1">
            <p><strong>TestCafe</strong>: A node.js tool to automate end-to-end web testing<br/>
            Use of this site constitutes acceptance of our <a href="https://www.devexpress.com/aboutus/privacy-policy.xml"  target="_blank">Privacy Policy</a><br/>
            Copyright © 2012-2019 Developer Express Inc.</p>
        </div>
    </div>
</footer>


    
<script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
<script type="text/javascript"> var search = docsearch({
     apiKey: '938fb7894c0af8c01af3e2b4c53d4bdd',
     indexName: 'testcafe',
     inputSelector: '#search',
     debug: false // Set debug to true if you want to inspect the dropdown
 });

 search.autocomplete.on('autocomplete:opened', function(e) {
     var searchInput = document.querySelector('#search');
     var dropdown    = document.querySelector('.ds-dropdown-menu');
     
     if(searchInput && dropdown) {
         dropdown.style.maxWidth = "none";
         dropdown.style.width = searchInput.offsetWidth + "px";
     }
 });
</script> 

  </body>

</html>
