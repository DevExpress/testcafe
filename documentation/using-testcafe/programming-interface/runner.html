<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <title>Runner Class | TestCafe</title>

  <meta name="description" content="">
  <meta name="viewport" content="width=device-width">

  <meta property="og:image" content="https://raw.githubusercontent.com/DevExpress/testcafe-gh-page-assets/master/src/images/testcafe-ogp-icon.png">
  <meta property="og:type" content="website" />
  <meta property="og:url" content="http://devexpress.github.io/testcafe/documentation/using-testcafe/programming-interface/runner.html" />
  <meta property="og:title" content="Runner Class | TestCafe" />

  <link rel="shortcut icon" href="/testcafe/favicon.ico">
  <link rel="stylesheet" href="/testcafe/css/main.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.0.0/styles/docco.min.css">
  <link rel="canonical" href="http://devexpress.github.io/testcafe/documentation/using-testcafe/programming-interface/runner.html">
  <link rel="alternate" type="application/rss+xml" title="TestCafe" href="http://devexpress.github.io/testcafe/feed.xml">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.0.0/highlight.min.js"></script>
  <script>
      document.addEventListener('DOMContentLoaded', function (e) {
          hljs.initHighlightingOnLoad();
      });
  </script>

  
  <script>
    // Google Analytics
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-83678642-1', 'auto');
    ga('send', 'pageview');
  </script>
  

  
  

  

  
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery.perfect-scrollbar/0.6.12/css/perfect-scrollbar.min.css">
    <script defer type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery.perfect-scrollbar/0.6.12/js/perfect-scrollbar.min.js"></script>
    <script>
        var MIN_BODY_WIDTH = 1000;
        var FOOTER_HEIGHT  = 63;
        var HEADER_HEIGHT  = 102;

        var nav            = null;
        var article        = null;
        var isMobileDevice = window.screen.width < 800 || window.screen.height < 800;

        function setNavTopPosition () {
            var isMobileZoomed = isMobileDevice && window.innerWidth !== document.body.scrollWidth;
            var top = null;

            if(isMobileDevice) {
                top = window.pageYOffset >= HEADER_HEIGHT ? window.pageYOffset - HEADER_HEIGHT + 'px' : '0';

                if (nav.style.paddingTop !== top) {
                    nav.style.paddingTop = top;
                    Ps.update(nav);
                }

                return;
            }

            if (document.body.clientWidth > MIN_BODY_WIDTH) {
                if (nav.style.top !== HEADER_HEIGHT + 'px') {
                    nav.style.top = HEADER_HEIGHT + 'px';
                    Ps.update(nav);
                }
            }
            else if(!isMobileZoomed) {
                top = window.pageYOffset <= HEADER_HEIGHT ? HEADER_HEIGHT - window.pageYOffset + 'px' : '0';

                if (nav.style.top !== top) {
                    nav.style.top = top;
                    Ps.update(nav);
                }
            }
        }

        function setNavBottomPosition () {
            var footerVisibleHeight = FOOTER_HEIGHT - document.body.scrollHeight + window.pageYOffset +
                                      document.body.clientHeight;

            if (footerVisibleHeight > 0) {
                if (nav.style.bottom !== footerVisibleHeight + 'px') {
                    nav.style.bottom = footerVisibleHeight + 'px';
                    Ps.update(nav);
                }
            }
            else if (nav.style.bottom !== '0') {
                nav.style.bottom = '0';
                Ps.update(nav);
            }
        }

        function updatePosition () {
            if (isMobileDevice)
                changeBodyHeight();
            else
                nav.style.marginLeft = '-' + window.pageXOffset + 'px';

            setNavBottomPosition();
            setNavTopPosition();
        }

        function changeBodyHeight () {
            if (document.body.style.height !== window.innerHeight + 'px')
                document.body.style.height = window.innerHeight + 'px';
        }

        function initScrollBar() {
            Ps.initialize(nav);

            window.addEventListener('resize', function () {
                Ps.update(nav);
            });
        }

        function initNav() {
            if(isMobileDevice) {
                nav.style.position = 'relative';
                nav.style.float = 'left';
                nav.style.top = '0px';

                article.style.marginTop = '0px';
                article.style.paddingTop = '22px';
            }

            initScrollBar();
            updatePosition();
            window.addEventListener('scroll', updatePosition);
            window.addEventListener('resize', updatePosition);

            if(isMobileDevice) {
                nav.style.height = window.innerHeight + 'px';
            }
        }

        document.addEventListener('DOMContentLoaded', function (e) {
            nav     = document.querySelector('.doc-nav');
            article = document.querySelector('.doc');

            if(nav)
                initNav(nav);
        });
    </script>
  
    <script>
        function initHeader(siteHeader, contentWrapper, docTopMenu, article) {
            var MIN_BODY_WIDTH = 1000;

            function updateHeader() {
                var bodyMinimized = document.body.clientWidth === MIN_BODY_WIDTH;

                

                siteHeader.style.position = bodyMinimized ? 'static' : '';

                if(docTopMenu)
                    docTopMenu.style.position = bodyMinimized ? 'static' : '';

                if(contentWrapper)
                    contentWrapper.style.paddingTop = bodyMinimized ? '0' : '';

                if(article)
                    article.style.marginTop = bodyMinimized ? '21px' : '72px';
            }

            updateHeader();
            window.addEventListener('scroll', updateHeader);
            window.addEventListener('resize', updateHeader);
        }
        document.addEventListener('DOMContentLoaded', function (e) {
            var contentWrapper = document.querySelector('.container');
            var siteHeader     = document.querySelector('.site-header');
            var docTopMenu     = document.querySelector('.doc-top-nav');
            var article        = document.querySelector('.doc');

            if(siteHeader) 
                initHeader(siteHeader, contentWrapper, docTopMenu, article);
        });
    </script>
</head>


  <body>
    <div class="page-content-wrapper">

      <header class="site-header minimized">
  <div class="site-header-content">
    <a class="site-logo" href="/testcafe/"></a>
    <nav class="site-nav">
        
          
          <a class="page-link active" href="/testcafe/documentation/getting-started/">Documentation</a>
          <span class="page-link-separator">|</span>
        
          
          <a class="page-link " href="https://github.com/DevExpress/testcafe">GitHub</a>
          <span class="page-link-separator">|</span>
        
          
          <a class="page-link " href="/testcafe/blog/">Blog</a>
          <span class="page-link-separator">|</span>
        
          
          <a class="page-link " href="https://github.com/DevExpress/testcafe/issues">Issues</a>
          <span class="page-link-separator">|</span>
        
          
          <a class="page-link " href="https://testcafe-discuss.devexpress.com/">Discuss</a>
          <span class="page-link-separator">|</span>
        
          
          <a class="page-link " href="https://twitter.com/dxtestcafe">Twitter</a>
          <span class="page-link-separator">|</span>
        
      <input type="text" placeholder="Search" id="search"/>
    </nav>

  </div>
</header>


  <div class="doc-top-nav">
    <div class="doc-top-nav-content">
    
      <a class="" href="/testcafe/documentation/getting-started/">Getting Started</a>
      <span class="page-link-separator level-2">|</span>
    
      <a class="active" href="/testcafe/documentation/using-testcafe/">Using TestCafe</a>
      <span class="page-link-separator level-2">|</span>
    
      <a class="" href="/testcafe/documentation/test-api/">Test API</a>
      <span class="page-link-separator level-2">|</span>
    
      <a class="" href="/testcafe/documentation/extending-testcafe/">Extending TestCafe</a>
      <span class="page-link-separator level-2">|</span>
    
      <a class="" href="/testcafe/documentation/recipes/">Recipes</a>
      <span class="page-link-separator level-2">|</span>
    
    </div>
  </div>



      <div class="container">
    
	
	

	
	
	<nav class="doc-nav">	
		<div class="doc-nav-content">
			<ul>
				<li>
				
<a href="/testcafe/documentation/using-testcafe/"  >USING TESTCAFE</a>
				<ul>

    <li>
		    
		
<a href="/testcafe/documentation/using-testcafe/installing-testcafe.html"  >Installing TestCafe</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/using-testcafe/command-line-interface.html"  >Command Line Interface</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/using-testcafe/programming-interface/"  >Programming Interface</a>
		
			<ul>

    <li>
		    
		
<a href="/testcafe/documentation/using-testcafe/programming-interface/testcafe.html"  >TestCafe Class</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/using-testcafe/programming-interface/browserconnection.html"  >BrowserConnection Class</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/using-testcafe/programming-interface/runner.html" class="active" >Runner Class</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/using-testcafe/programming-interface/createtestcafe.html"  >createTestCafe Factory</a>
		
    </li>

</ul>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/using-testcafe/common-concepts/"  >Common Concepts</a>
		
			<ul>

    <li>
		    
		
<a href="/testcafe/documentation/using-testcafe/common-concepts/browser-support.html"  >Browser Support</a>
		
    </li>

    <li>
		    
		
<a href="/testcafe/documentation/using-testcafe/common-concepts/reporters.html"  >Reporters</a>
		
    </li>

</ul>
		
    </li>

</ul>
				</li>
			</ul>
		</div>
	</nav>
	

	
	

	
	

	
	
	


<main>
	<article class="doc">
		<div class="post-content">

			<h1>Runner Class</h1>
<p>An object that configures and launches test tasks.</p>

<p>Created by the <a href="testcafe.html#createrunner">testCafe.createRunner</a> function.</p>

<p><strong>Example</strong></p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">createTestCafe</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'testcafe'</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">testcafe</span>         <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>

<span class="nx">createTestCafe</span><span class="p">(</span><span class="s1">'localhost'</span><span class="p">,</span> <span class="mi">1337</span><span class="p">,</span> <span class="mi">1338</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">tc</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">testcafe</span>     <span class="o">=</span> <span class="nx">tc</span><span class="p">;</span>
        <span class="kr">const</span> <span class="nx">runner</span> <span class="o">=</span> <span class="nx">testcafe</span><span class="p">.</span><span class="nx">createRunner</span><span class="p">();</span>

        <span class="k">return</span> <span class="nx">runner</span>
            <span class="p">.</span><span class="nx">src</span><span class="p">([</span><span class="s1">'tests/fixture1.js'</span><span class="p">,</span> <span class="s1">'tests/func/fixture3.js'</span><span class="p">])</span>
            <span class="p">.</span><span class="nx">browsers</span><span class="p">([</span><span class="s1">'chrome'</span><span class="p">,</span> <span class="s1">'safari'</span><span class="p">])</span>
            <span class="p">.</span><span class="nx">run</span><span class="p">();</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">failedCount</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Tests failed: '</span> <span class="o">+</span> <span class="nx">failedCount</span><span class="p">);</span>
        <span class="nx">testcafe</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
    <span class="p">});</span>
</code></pre></div><h2><a class="anchor" name="methods"></a>Methods <a class="permalink" href="#methods">#</a></h2>
<ul>
<li><a href="#src">src</a></li>
<li><a href="#filter">filter</a></li>
<li><a href="#browsers">browsers</a>

<ul>
<li><a href="#using-browser-aliases">Using Browser Aliases</a></li>
<li><a href="#specifying-the-path-to-the-browser-executable">Specifying the Path to the Browser Executable</a></li>
<li><a href="#specifying-the-path-with-command-line-parameters">Specifying the Path with Command Line Parameters</a></li>
<li><a href="#passing-a-remote-browser-connection">Passing a Remote Browser Connection</a></li>
</ul></li>
<li><a href="#screenshots">screenshots</a></li>
<li><a href="#reporter">reporter</a>

<ul>
<li><a href="#specifying-the-reporter">Specifying the Reporter</a></li>
<li><a href="#saving-the-report-to-a-file">Saving the Report to a File</a></li>
<li><a href="#implementing-a-custom-stream">Implementing a Custom Stream</a></li>
</ul></li>
<li><a href="#startapp">startApp</a></li>
<li><a href="#useproxy">useProxy</a></li>
<li><a href="#run">run</a>

<ul>
<li><a href="#cancelling-test-tasks">Cancelling Test Tasks</a></li>
<li><a href="#quarantine-mode">Quarantine Mode</a></li>
</ul></li>
<li><a href="#stop">stop</a></li>
</ul>
<h3><a class="anchor" name="src"></a>src <a class="permalink" href="#src">#</a></h3>
<p>Configures the test runner to run tests from the specified files.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">src(source) → this
</code></pre></div>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>source</code></td>
<td>String &#124; Array</td>
<td>The relative or absolute path to a test fixture file, or several such paths.</td>
</tr>
</tbody></table>

<p>Concatenates the settings when called several times.</p>

<p><strong>Example</strong></p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">runner</span><span class="p">.</span><span class="nx">src</span><span class="p">([</span><span class="s1">'/home/user/tests/fixture1.js'</span><span class="p">,</span> <span class="s1">'fixture5.js'</span><span class="p">]);</span>
</code></pre></div><h3><a class="anchor" name="filter"></a>filter <a class="permalink" href="#filter">#</a></h3>
<p>Allows you to manually select which tests should be run.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">filter(callback) → this
</code></pre></div>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>callback</code></td>
<td><code>function(testName, fixtureName, fixturePath)</code></td>
<td>The callback that determines if a particular test should be run.</td>
</tr>
</tbody></table>

<p>The callback function is called for each test in files that are specified using the <a href="#src">src</a> method.</p>

<p>Return <code>true</code> from the callback to include the current test, or <code>false</code> to exclude it.</p>

<p>The callback function takes the following arguments.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>testName</code></td>
<td>String</td>
<td>The name of the test.</td>
</tr>
<tr>
<td><code>fixtureName</code></td>
<td>String</td>
<td>The name of the test fixture.</td>
</tr>
<tr>
<td><code>fixturePath</code></td>
<td>String</td>
<td>The path to the test fixture file.</td>
</tr>
</tbody></table>

<p><strong>Example</strong></p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">runner</span><span class="p">.</span><span class="nx">filter</span><span class="p">((</span><span class="nx">testName</span><span class="p">,</span> <span class="nx">fixtureName</span><span class="p">,</span> <span class="nx">fixturePath</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">fixturePath</span><span class="p">.</span><span class="nx">startsWith</span><span class="p">(</span><span class="s1">'D'</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
        <span class="nx">testName</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="nx">someRe</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
        <span class="nx">fixtureName</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="nx">anotherRe</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><h3><a class="anchor" name="browsers"></a>browsers <a class="permalink" href="#browsers">#</a></h3>
<p>Configures the test runner to run tests in the specified browsers.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">browsers(browser) → this
</code></pre></div>
<p>The <code>browser</code> parameter can be any of the following objects, or an <code>Array</code> of them.</p>

<table><thead>
<tr>
<th>Parameter Type</th>
<th>Description</th>
<th>Browser Type</th>
</tr>
</thead><tbody>
<tr>
<td>String</td>
<td>The browser alias that differs for different browser types. For details, see <a href="../common-concepts/browser-support.html">Browser Support</a>.</td>
<td><a href="../common-concepts/browser-support.html#locally-installed-browsers">Local browsers</a>, <a href="../common-concepts/browser-support.html#browsers-in-cloud-testing-services">cloud browsers</a> and <a href="../common-concepts/browser-support.html#nonconventional-browsers">browsers accessed through <em>browser provider plugins</em></a>.</td>
</tr>
<tr>
<td><code>{path: String, cmd: String}</code></td>
<td>The path to the browser executable (<code>path</code>) and command line parameters (<code>cmd</code>). The <code>cmd</code> property is optional.</td>
<td><a href="../common-concepts/browser-support.html#locally-installed-browsers">Local</a> and <a href="../common-concepts/browser-support.html#portable-browsers">portable</a> browsers</td>
</tr>
<tr>
<td><a href="browserconnection.html">BrowserConnection</a></td>
<td>The remote browser connection.</td>
<td><a href="../common-concepts/browser-support.html#browsers-on-remote-devices">Remote browsers</a></td>
</tr>
</tbody></table>

<p>You are free to mix different types of objects in one function call. The <code>browsers</code> function concatenates the settings when called several times.</p>
<h4><a class="anchor" name="using-browser-aliases"></a>Using Browser Aliases <a class="permalink" href="#using-browser-aliases">#</a></h4>
<ul>
<li>running local browsers</li>
</ul>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">runner</span><span class="p">.</span><span class="nx">browsers</span><span class="p">([</span><span class="s1">'safari'</span><span class="p">,</span> <span class="s1">'chrome'</span><span class="p">]);</span>
</code></pre></div>
<ul>
<li>running browsers accessed through browser provider plugins</li>
</ul>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">runner</span><span class="p">.</span><span class="nx">browsers</span><span class="p">(</span><span class="s1">'saucelabs:Chrome@52.0:Windows 8.1'</span><span class="p">);</span>
</code></pre></div><h4><a class="anchor" name="specifying-the-path-to-the-browser-executable"></a>Specifying the Path to the Browser Executable <a class="permalink" href="#specifying-the-path-to-the-browser-executable">#</a></h4><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">runner</span><span class="p">.</span><span class="nx">browsers</span><span class="p">(</span><span class="s1">'C:\\Program Files\\Internet Explorer\\iexplore.exe'</span><span class="p">);</span>
</code></pre></div><h4><a class="anchor" name="specifying-the-path-with-command-line-parameters"></a>Specifying the Path with Command Line Parameters <a class="permalink" href="#specifying-the-path-with-command-line-parameters">#</a></h4><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">runner</span><span class="p">.</span><span class="nx">browsers</span><span class="p">({</span>
    <span class="na">path</span><span class="p">:</span> <span class="s1">'C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe'</span><span class="p">,</span>
    <span class="na">cmd</span><span class="p">:</span> <span class="s1">'--new-window'</span>
<span class="p">});</span>
</code></pre></div><h4><a class="anchor" name="passing-a-remote-browser-connection"></a>Passing a Remote Browser Connection <a class="permalink" href="#passing-a-remote-browser-connection">#</a></h4><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">createTestCafe</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'testcafe'</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">runner</span>           <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">testcafe</span>         <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>

<span class="nx">createTestCafe</span><span class="p">(</span><span class="s1">'localhost'</span><span class="p">,</span> <span class="mi">1337</span><span class="p">,</span> <span class="mi">1338</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">tc</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">testcafe</span> <span class="o">=</span> <span class="nx">tc</span><span class="p">;</span>
        <span class="nx">runner</span>   <span class="o">=</span> <span class="nx">testcafe</span><span class="p">.</span><span class="nx">createRunner</span><span class="p">();</span>

        <span class="k">return</span> <span class="nx">testcafe</span><span class="p">.</span><span class="nx">createBrowserConnection</span><span class="p">();</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">remoteConnection</span> <span class="o">=&gt;</span> <span class="p">{</span>

        <span class="c1">// Outputs remoteConnection.url so that it can be visited from the remote browser.</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">remoteConnection</span><span class="p">.</span><span class="nx">url</span><span class="p">);</span>

        <span class="nx">remoteConnection</span><span class="p">.</span><span class="nx">once</span><span class="p">(</span><span class="s1">'ready'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="nx">runner</span>
                <span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="s1">'test.js'</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">browsers</span><span class="p">(</span><span class="nx">remoteConnection</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">run</span><span class="p">()</span>
                <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">failedCount</span> <span class="o">=&gt;</span> <span class="p">{</span>
                    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">failedCount</span><span class="p">);</span>
                    <span class="nx">testcafe</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
                 <span class="p">});</span>
        <span class="p">});</span>
    <span class="p">});</span>
</code></pre></div><h3><a class="anchor" name="screenshots"></a>screenshots <a class="permalink" href="#screenshots">#</a></h3>
<p>Enables TestCafe to take screenshots of the tested webpages.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">screenshots(path [, takeOnFails]) → this
</code></pre></div>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td><code>path</code></td>
<td>String</td>
<td>The path to which the screenshots will be saved.</td>
<td></td>
</tr>
<tr>
<td><code>takeOnFails</code>&#160;<em>(optional)</em></td>
<td>Boolean</td>
<td>Specifies if screenshots should be taken automatically whenever a test fails.</td>
<td><code>false</code></td>
</tr>
</tbody></table>

<p>The <code>screenshots</code> function must be called to enable TestCafe to take screenshots
when the <a href="../../test-api/actions/take-screenshot.html">t.takeScreenshot</a> action is called from test code.</p>

<p>Set the <code>takeOnFails</code> parameter to <code>true</code> to additionally take a screenshot whenever a test fails.</p>
<blockquote class="important"><div class="blockquote-content"><p>If the <code>screenshots</code> function is not called, TestCafe does not take screenshots.</p>
</div></blockquote>
<p><strong>Example</strong></p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">runner</span><span class="p">.</span><span class="nx">screenshots</span><span class="p">(</span><span class="s1">'reports/screenshots/'</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
</code></pre></div><h3><a class="anchor" name="reporter"></a>reporter <a class="permalink" href="#reporter">#</a></h3>
<p>Configures the TestCafe reporting feature.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">reporter(name [, outStream]) → this
</code></pre></div>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td><code>name</code></td>
<td>String</td>
<td>The name of the <a href="../common-concepts/reporters.html">reporter</a> to use.</td>
<td></td>
</tr>
<tr>
<td><code>outStream</code>&#160;<em>(optional)</em></td>
<td>Writable Stream implementer</td>
<td>The stream to which the report will be written.</td>
<td><code>stdout</code></td>
</tr>
</tbody></table>
<h4><a class="anchor" name="specifying-the-reporter"></a>Specifying the Reporter <a class="permalink" href="#specifying-the-reporter">#</a></h4><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">runner</span><span class="p">.</span><span class="nx">reporter</span><span class="p">(</span><span class="s1">'minimal'</span><span class="p">);</span>
</code></pre></div><h4><a class="anchor" name="saving-the-report-to-a-file"></a>Saving the Report to a File <a class="permalink" href="#saving-the-report-to-a-file">#</a></h4><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">stream</span> <span class="o">=</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">createWriteStream</span><span class="p">(</span><span class="s1">'report.xml'</span><span class="p">);</span>

<span class="nx">runner</span>
    <span class="p">.</span><span class="nx">reporter</span><span class="p">(</span><span class="s1">'xunit'</span><span class="p">,</span> <span class="nx">stream</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">run</span><span class="p">()</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">failedCount</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">stream</span><span class="p">.</span><span class="nx">end</span><span class="p">();</span>
    <span class="p">});</span>
</code></pre></div><h4><a class="anchor" name="implementing-a-custom-stream"></a>Implementing a Custom Stream <a class="permalink" href="#implementing-a-custom-stream">#</a></h4><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">class</span> <span class="nx">MyStream</span> <span class="kr">extends</span> <span class="nx">stream</span><span class="p">.</span><span class="nx">Writable</span> <span class="p">{</span>
    <span class="nx">_write</span><span class="p">(</span><span class="nx">chunk</span><span class="p">,</span> <span class="nx">encoding</span><span class="p">,</span> <span class="nx">next</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">doSomething</span><span class="p">(</span><span class="nx">chunk</span><span class="p">);</span>
        <span class="nx">next</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">stream</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MyStream</span><span class="p">();</span>
<span class="nx">runner</span><span class="p">.</span><span class="nx">reporter</span><span class="p">(</span><span class="s1">'json'</span><span class="p">,</span> <span class="nx">stream</span><span class="p">);</span>
</code></pre></div>
<p>You can also build your own reporter. Use a <a href="https://github.com/DevExpress/generator-testcafe-reporter">dedicated Yeoman generator</a> to scaffold out a <a href="../../extending-testcafe/reporter-plugin/">reporter plugin</a>.</p>
<h3><a class="anchor" name="startapp"></a>startApp <a class="permalink" href="#startapp">#</a></h3>
<p>Specifies a shell command that will be executed before running tests. Use it to launch or deploy the application that will be tested.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">async startApp(command, initDelay) → this
</code></pre></div>
<p>After the testing is finished, the appication will be automatically terminated.</p>

<p>The <code>startApp</code> function takes the following parameters.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description   Default</th>
</tr>
</thead><tbody>
<tr>
<td><code>command</code></td>
<td>String</td>
<td>The shell command to be executed.</td>
</tr>
<tr>
<td><code>initDelay</code>&#160;<em>(optional)</em></td>
<td>Number</td>
<td>The amount of time, in milliseconds, allowed for the command to initialize the tested application.</td>
</tr>
</tbody></table>
<blockquote><div class="blockquote-content"><p>TestCafe adds <code>node_modules/.bin</code> to <code>PATH</code> so that you can use binaries provided by locally installed dependencies without prefixes.</p>
</div></blockquote>
<p><strong>Example</strong></p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">runner</span><span class="p">.</span><span class="nx">startApp</span><span class="p">(</span><span class="s1">'node server.js'</span><span class="p">,</span> <span class="mi">4000</span><span class="p">);</span>
</code></pre></div><h3><a class="anchor" name="useproxy"></a>useProxy <a class="permalink" href="#useproxy">#</a></h3>
<p>Specifies the proxy server used in your local network to access the Internet.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">async useProxy(host) → this
</code></pre></div>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>host</code></td>
<td>String</td>
<td>The proxy server host.</td>
</tr>
</tbody></table>

<p><strong>Examples</strong></p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">runner</span><span class="p">.</span><span class="nx">useProxy</span><span class="p">(</span><span class="s1">'proxy.corp.mycompany.com'</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">runner</span><span class="p">.</span><span class="nx">useProxy</span><span class="p">(</span><span class="s1">'172.0.10.10:8080'</span><span class="p">);</span>
</code></pre></div>
<p>You can also specify authentication credentials with the proxy host.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">runner</span><span class="p">.</span><span class="nx">useProxy</span><span class="p">(</span><span class="s1">'username:password@proxy.mycorp.com'</span><span class="p">);</span>
</code></pre></div><h3><a class="anchor" name="run"></a>run <a class="permalink" href="#run">#</a></h3>
<p>Runs tests according to the current configuration. Returns the number of failed tests.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">async run(options) → Promise&lt;Number&gt;
</code></pre></div><blockquote class="important"><div class="blockquote-content"><p>Make sure to keep the browser tab that is running tests active. Do not minimize the browser window.
Inactive tabs and minimized browser windows switch to a lower resource consumption mode
where tests are not guaranteed to execute correctly.</p>
</div></blockquote>
<p>You can pass the following options to the <code>runner.run</code> function.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td><code>skipJsErrors</code></td>
<td>Boolean</td>
<td>Defines whether to continue running a test after a JavaScript error occurs on a page (<code>true</code>), or consider such a test failed (<code>false</code>).</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>quarantineMode</code></td>
<td>Boolean</td>
<td>Defines whether to enable the <a href="#quarantine-mode">quarantine mode</a>.</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>selectorTimeout</code></td>
<td>Number</td>
<td>Specifies the amount of time, in milliseconds, within which <a href="../../test-api/selecting-page-elements/selectors.html">selectors</a> make attempts to obtain a node to be returned. See <a href="../../test-api/selecting-page-elements/selectors.html#selector-timeout">Selector Timeout</a>.</td>
<td><code>10000</code></td>
</tr>
<tr>
<td><code>assertionTimeout</code></td>
<td>Number</td>
<td>Specifies the amount of time, in milliseconds, within which TestCafe makes attempts  to successfully execute an <a href="../../test-api/assertions/">assertion</a> if <a href="../../test-api/selecting-page-elements/selectors.html#define-assertion-actual-value">a selector property</a> or a <a href="../../test-api/obtaining-data-from-the-client.html">client function</a> was passed as an actual value. See <a href="../../test-api/assertions/#smart-assertion-query-mechanism">Smart Assertion Query Mechanism</a>.</td>
<td><code>3000</code></td>
</tr>
<tr>
<td><code>speed</code></td>
<td>Number</td>
<td>Specifies the speed of test execution. Should be a number between <code>1</code> (the fastest) and <code>0.01</code> (the slowest). If speed is also specified for an <a href="../../test-api/actions/action-options.html#basic-action-options">individual action</a>, the action speed setting overrides test speed.</td>
<td><code>1</code></td>
</tr>
<tr>
<td><code>debugMode</code></td>
<td>Boolean</td>
<td>Specifies if tests run in the debug mode. If this option is enabled, test execution is paused before the first action or assertion allowing you to invoke the developer tools and debug.</td>
<td><code>false</code></td>
</tr>
</tbody></table>

<p>After all tests are finished, call the <a href="testcafe.html#close">testcafe.close</a> function to stop the TestCafe server.</p>

<p><strong>Example</strong></p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">createTestCafe</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'testcafe'</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">testcafe</span>         <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>

<span class="nx">createTestCafe</span><span class="p">(</span><span class="s1">'localhost'</span><span class="p">,</span> <span class="mi">1337</span><span class="p">,</span> <span class="mi">1338</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">tc</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">testcafe</span>     <span class="o">=</span> <span class="nx">tc</span><span class="p">;</span>
        <span class="kr">const</span> <span class="nx">runner</span> <span class="o">=</span> <span class="nx">testcafe</span><span class="p">.</span><span class="nx">createRunner</span><span class="p">();</span>

        <span class="k">return</span> <span class="nx">runner</span><span class="p">.</span><span class="nx">run</span><span class="p">({</span>
            <span class="na">skipJsErrors</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
            <span class="na">quarantineMode</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
            <span class="na">selectorTimeout</span><span class="p">:</span> <span class="mi">50000</span><span class="p">,</span>
            <span class="na">assertionTimeout</span><span class="p">:</span> <span class="mi">7000</span><span class="p">,</span>
            <span class="na">speed</span><span class="p">:</span> <span class="mf">0.1</span>
        <span class="p">});</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">failed</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Tests failed: '</span> <span class="o">+</span> <span class="nx">failed</span><span class="p">);</span>
        <span class="nx">testcafe</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="cm">/* ... */</span> <span class="p">});</span>
</code></pre></div><h4><a class="anchor" name="cancelling-test-tasks"></a>Cancelling Test Tasks <a class="permalink" href="#cancelling-test-tasks">#</a></h4>
<p>You can stop an individual test task at any moment by cancelling the corresponding promise.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">taskPromise</span> <span class="o">=</span> <span class="nx">runner</span>
    <span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="s1">'tests/fixture1.js'</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">browsers</span><span class="p">([</span><span class="nx">remoteConnection</span><span class="p">,</span> <span class="s1">'chrome'</span><span class="p">])</span>
    <span class="p">.</span><span class="nx">reporter</span><span class="p">(</span><span class="s1">'json'</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">run</span><span class="p">();</span>

<span class="nx">taskPromise</span><span class="p">.</span><span class="nx">cancel</span><span class="p">();</span>
</code></pre></div>
<p>You can also cancel all pending tasks at once by using the <a href="#stop">runner.stop</a> function.</p>
<h4><a class="anchor" name="quarantine-mode"></a>Quarantine Mode <a class="permalink" href="#quarantine-mode">#</a></h4>
<p>The quarantine mode is designed to isolate <em>non-deterministic</em> tests (i.e., tests that sometimes pass and sometimes fail without a clear reason)
from the rest of the test base (<em>healthy</em> tests).</p>

<p>When the quarantine mode is enabled, tests are not marked as <em>failed</em> after the first unsuccessful run but rather sent to quarantine.
After that, these tests are run several more times. The outcome of the most runs (<em>passed</em> or <em>failed</em>) is recorded as the test result.
A test is separately marked <em>unstable</em> if the outcome varies between runs. The run that led to quarantining the test counts.</p>

<p>To learn more about the issue of non-deterministic tests, see Martin Fowler&#39;s <a href="http://martinfowler.com/articles/nonDeterminism.html">Eradicating Non-Determinism in Tests</a> article.</p>
<h3><a class="anchor" name="stop"></a>stop <a class="permalink" href="#stop">#</a></h3>
<p>Stops all pending test tasks.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">async stop()
</code></pre></div>
<p>You can also stop an individual pending task by <a href="#cancelling-test-tasks">cancelling the corresponding promise</a>.</p>


		</div>
	</article>
</main>
</div>

      <div class="push"></div>
    </div>

    <footer class="site-footer">
    <div class="site-footer-content">
        <div class="footer-col-1">
            <p><strong>TestCafe</strong>: Automated browser testing for the modern web development stack<br/>
            Copyright © 1998-2017 Developer Express Inc.</p>
        </div>
    </div>
</footer>


    <script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
    <script type="text/javascript"> docsearch({
          apiKey: '938fb7894c0af8c01af3e2b4c53d4bdd',
          indexName: 'testcafe',
          inputSelector: '#search',
          debug: false // Set debug to true if you want to inspect the dropdown
      });
    </script>

  </body>

</html>
