'use strict';

var _interopRequireDefault = require('babel-runtime/helpers/interop-require-default').default;

exports.__esModule = true;
exports.handle = handle;

var _domain = require('domain');

var _domain2 = _interopRequireDefault(_domain);

var connectionResetDomain = _domain2.default.create();

connectionResetDomain.on('error', function (err) {
    if (err.code !== 'ECONNRESET') {
        connectionResetDomain.removeAllListeners('error');
        throw new Error(err);
    }
});

function handle(fn) {
    connectionResetDomain.run(fn);
}
//# sourceMappingURL=../pipeline/connection-reset.js.map